import{a as F,b as z,c as B,e as w,_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-BJdKCi8B.js";import{_ as m}from"./index-BVKlX1El.js";import{_ as x,a as p}from"./CardContent.vue_vue_type_script_setup_true_lang-CIRecHqL.js";import{_ as H,a as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-BPQ0Tuht.js";import{_ as $}from"./Badge.vue_vue_type_script_setup_true_lang-BwC_mOsW.js";import{u as N,i as f,o as r,w as i,f as t,b as n,e as s,t as a,y as u,g as l,a as _,m as g,F as h,r as v}from"./app-CxR3Rgxi.js";import{P as b}from"./plus-BfkAuTXA.js";import{F as k}from"./x-DHtexKo2.js";import{C as P}from"./clock-vNtPzlSW.js";import{T as O}from"./triangle-alert-BCogt5Aq.js";import{E as R}from"./ellipsis-vertical-BPRe-IgJ.js";import{E as A}from"./eye-BMzTKKjF.js";import{R as q}from"./rotate-ccw-C-VOvnJY.js";import"./useForwardExpose-3NUKWST4.js";import"./building-rc9xLOpA.js";import"./users-C6UN0_C7.js";const G={class:"flex justify-between items-center"},J={class:"text-xl font-semibold text-gray-900 dark:text-white"},K={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},Q={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"mb-6"},X={class:"flex items-center justify-between"},Y={class:"text-lg font-medium text-gray-900 dark:text-white"},Z={class:"text-sm text-gray-600 dark:text-gray-400"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},tt={class:"flex items-center"},et={class:"p-2 bg-blue-100 rounded-lg dark:bg-blue-900/20"},st={class:"ml-4"},at={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},nt={class:"text-2xl font-bold text-gray-900 dark:text-white"},it={class:"flex items-center"},ot={class:"p-2 bg-yellow-100 rounded-lg dark:bg-yellow-900/20"},rt={class:"ml-4"},dt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},lt={class:"text-2xl font-bold text-gray-900 dark:text-white"},ct={class:"flex items-center"},mt={class:"p-2 bg-red-100 rounded-lg dark:bg-red-900/20"},ut={class:"ml-4"},_t={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},ft={class:"text-2xl font-bold text-gray-900 dark:text-white"},yt={key:0,class:"text-center py-12"},xt={class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},pt={class:"text-gray-600 dark:text-gray-400 mb-4"},gt={key:1},ht={class:"overflow-x-auto"},vt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},kt={class:"bg-gray-50 dark:bg-gray-800"},wt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},$t={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},bt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Ct={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},St={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Tt={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},jt={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},Lt={class:"px-6 py-4 whitespace-nowrap"},Vt={class:"flex items-center"},Et={class:"text-sm font-medium text-gray-900 dark:text-white"},Ft={class:"text-sm text-gray-500 dark:text-gray-400"},zt={class:"px-6 py-4 whitespace-nowrap"},Bt={class:"text-sm text-gray-900 dark:text-white"},Dt={class:"text-sm text-gray-500 dark:text-gray-400"},Ht={class:"px-6 py-4 whitespace-nowrap"},Mt={class:"flex space-x-2"},Nt={class:"px-6 py-4 whitespace-nowrap"},Pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ot={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Rt={key:0,class:"mt-6 flex items-center justify-between"},At={class:"flex-1 flex justify-between sm:hidden"},qt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Gt={class:"text-sm text-gray-700 dark:text-gray-300"},Jt={class:"font-medium"},Kt={class:"font-medium"},Qt={class:"font-medium"},Ut={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Wt=["innerHTML"],Xt=["innerHTML"],_e={__name:"Index",props:{imports:Object,syncStats:Object},setup(d){const{t:C}=N(),S=e=>{switch(e){case"completed":return"success";case"processing":return"warning";case"failed":return"destructive";default:return"secondary"}},T=e=>{switch(e){case"completed":return"success";case"processing":return"warning";case"failed":return"destructive";default:return"secondary"}},j=e=>C(`common.status_${e}`,e),L=e=>new Date(e).toLocaleDateString(),V=e=>e.sync_batches.some(c=>c.status==="failed"),E=e=>{u.post(route("attendance.retry",e),{},{preserveScroll:!0,onSuccess:()=>{}})};return(e,c)=>(r(),f(D,null,{header:i(()=>[t("div",G,[t("div",null,[t("h2",J,a(e.$t("attendance.title")),1),t("p",K,a(e.$t("attendance.import_description")),1)]),n(s(m),{onClick:c[0]||(c[0]=o=>s(u).visit(e.route("attendance.create"))),class:"gap-2"},{default:i(()=>[n(s(b),{class:"w-4 h-4"}),l(" "+a(e.$t("attendance.import_attendance")),1)]),_:1})])]),default:i(()=>[t("div",Q,[t("div",U,[t("div",W,[n(s(x),null,{default:i(()=>[n(s(p),{class:"p-6"},{default:i(()=>[t("div",X,[t("div",null,[t("h3",Y,a(e.$t("attendance.import_attendance")),1),t("p",Z,a(e.$t("attendance.import_description")),1)]),n(s(m),{onClick:c[1]||(c[1]=o=>s(u).visit(e.route("attendance.create"))),class:"gap-2"},{default:i(()=>[n(s(b),{class:"w-4 h-4"}),l(" "+a(e.$t("attendance.import_attendance")),1)]),_:1})])]),_:1})]),_:1})]),t("div",I,[n(s(x),null,{default:i(()=>[n(s(p),{class:"p-6"},{default:i(()=>[t("div",tt,[t("div",et,[n(s(k),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",st,[t("p",at,a(e.$t("attendance.total_imports")),1),t("p",nt,a(d.syncStats.total_imports),1)])])]),_:1})]),_:1}),n(s(x),null,{default:i(()=>[n(s(p),{class:"p-6"},{default:i(()=>[t("div",it,[t("div",ot,[n(s(P),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),t("div",rt,[t("p",dt,a(e.$t("attendance.pending_sync")),1),t("p",lt,a(d.syncStats.pending_syncs),1)])])]),_:1})]),_:1}),n(s(x),null,{default:i(()=>[n(s(p),{class:"p-6"},{default:i(()=>[t("div",ct,[t("div",mt,[n(s(O),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),t("div",ut,[t("p",_t,a(e.$t("attendance.failed_sync")),1),t("p",ft,a(d.syncStats.failed_syncs),1)])])]),_:1})]),_:1})]),n(s(x),null,{default:i(()=>[n(s(H),null,{default:i(()=>[n(s(M),null,{default:i(()=>[l(a(e.$t("attendance.import_history")),1)]),_:1})]),_:1}),n(s(p),null,{default:i(()=>[d.imports.data.length===0?(r(),_("div",yt,[n(s(k),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t("h3",xt,a(e.$t("attendance.no_imports")),1),t("p",pt,a(e.$t("attendance.create_first_import")),1),n(s(m),{onClick:c[2]||(c[2]=o=>s(u).visit(e.route("attendance.create")))},{default:i(()=>[l(a(e.$t("attendance.import_attendance")),1)]),_:1})])):(r(),_("div",gt,[t("div",ht,[t("table",vt,[t("thead",kt,[t("tr",null,[t("th",wt,a(e.$t("common.name")),1),t("th",$t,a(e.$t("attendance.total_records")),1),t("th",bt,a(e.$t("attendance.sync_status")),1),t("th",Ct,a(e.$t("common.status")),1),t("th",St,a(e.$t("common.created_at")),1),t("th",Tt,a(e.$t("common.actions")),1)])]),t("tbody",jt,[(r(!0),_(h,null,v(d.imports.data,o=>(r(),_("tr",{key:o.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800"},[t("td",Lt,[t("div",Vt,[n(s(k),{class:"w-5 h-5 text-gray-400 mr-3"}),t("div",null,[t("div",Et,a(o.filename),1),t("div",Ft,a(e.$t("common.by"))+" "+a(o.user.name),1)])])]),t("td",zt,[t("div",Bt,a(o.total_records),1),t("div",Dt,a(o.valid_records_count)+" "+a(e.$t("attendance.valid_records").toLowerCase()),1)]),t("td",Ht,[t("div",Mt,[(r(!0),_(h,null,v(o.sync_batches,y=>(r(),f(s($),{key:y.id,variant:T(y.status)},{default:i(()=>[l(a(y.company.name),1)]),_:2},1032,["variant"]))),128))])]),t("td",Nt,[n(s($),{variant:S(o.status)},{default:i(()=>[l(a(j(o.status)),1)]),_:2},1032,["variant"])]),t("td",Pt,a(L(o.created_at)),1),t("td",Ot,[n(s(F),null,{default:i(()=>[n(s(z),{"as-child":""},{default:i(()=>[n(s(m),{variant:"ghost",size:"sm"},{default:i(()=>[n(s(R),{class:"w-4 h-4"})]),_:1})]),_:1}),n(s(B),{align:"end"},{default:i(()=>[n(s(w),{onClick:y=>s(u).visit(e.route("attendance.show",o.id))},{default:i(()=>[n(s(A),{class:"w-4 h-4 mr-2"}),l(" "+a(e.$t("common.view")),1)]),_:2},1032,["onClick"]),V(o)?(r(),f(s(w),{key:0,onClick:y=>E(o.id)},{default:i(()=>[n(s(q),{class:"w-4 h-4 mr-2"}),l(" "+a(e.$t("attendance.retry_sync")),1)]),_:2},1032,["onClick"])):g("",!0)]),_:2},1024)]),_:2},1024)])]))),128))])])]),d.imports.links?(r(),_("div",Rt,[t("div",At,[d.imports.prev_page_url?(r(),f(s(m),{key:0,onClick:c[3]||(c[3]=o=>s(u).visit(d.imports.prev_page_url)),variant:"outline"},{default:i(()=>[l(a(e.$t("common.previous")),1)]),_:1})):g("",!0),d.imports.next_page_url?(r(),f(s(m),{key:1,onClick:c[4]||(c[4]=o=>s(u).visit(d.imports.next_page_url)),variant:"outline"},{default:i(()=>[l(a(e.$t("common.next")),1)]),_:1})):g("",!0)]),t("div",qt,[t("div",null,[t("p",Gt,[l(a(e.$t("common.showing"))+" ",1),t("span",Jt,a(d.imports.from),1),l(" "+a(e.$t("common.to"))+" ",1),t("span",Kt,a(d.imports.to),1),l(" "+a(e.$t("common.of"))+" ",1),t("span",Qt,a(d.imports.total),1),l(" "+a(e.$t("common.results")),1)])]),t("div",null,[t("nav",Ut,[(r(!0),_(h,null,v(d.imports.links,o=>(r(),_(h,{key:o.label},[o.url?(r(),f(s(m),{key:0,onClick:y=>s(u).visit(o.url),variant:o.active?"default":"outline",size:"sm",class:"mr-1"},{default:i(()=>[t("span",{innerHTML:o.label},null,8,Wt)]),_:2},1032,["onClick","variant"])):(r(),f(s(m),{key:1,variant:"outline",size:"sm",disabled:"",class:"mr-1"},{default:i(()=>[t("span",{innerHTML:o.label},null,8,Xt)]),_:2},1024))],64))),128))])])])])):g("",!0)]))]),_:1})]),_:1})])])]),_:1}))}};export{_e as default};
