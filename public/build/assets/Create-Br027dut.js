import{d as nt,u as it,B as dt,p as v,x as Se,c as Ve,C as ct,a as d,o as i,b as n,e,g as ut,w as p,f as t,t as s,F as V,r as I,l as u,n as x,h as _,m as H,D as _e,k as Ce,v as me,i as te,S as _t,W as $e}from"./app-DY_M8UQD.js";import{_ as mt}from"./AppLayout.vue_vue_type_script_setup_true_lang-7U-567fw.js";import{_ as j}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BQspaYpd.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-dK2NXGzX.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-BfEt7WNJ.js";import{_ as pt,a as yt}from"./CardContent.vue_vue_type_script_setup_true_lang-BuRA1hbI.js";import{_ as vt}from"./CardDescription.vue_vue_type_script_setup_true_lang-CiY_arE7.js";import{_ as gt,a as ft}from"./CardTitle.vue_vue_type_script_setup_true_lang-DC53ETO8.js";import{_ as ht,a as bt,b as kt,c as xt,d as wt,e as St}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B7Ddp2oB.js";import{_ as Vt}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-lhFA_ZEb.js";import{_ as g}from"./Icon.vue_vue_type_script_setup_true_lang-yZ8onEaF.js";import{_ as Ct}from"./Heading.vue_vue_type_script_setup_true_lang-ZvGKHy_a.js";import{B as $t}from"./BarcodeScanner-DsTZgMdh.js";import"./useForwardExpose-Nnn1oqQ3.js";import"./RovingFocusGroup-DbKbHFS3.js";import"./building-DMnIgRln.js";import"./users-DcQt30Ed.js";import"./activity-DkLa_MUg.js";import"./arrow-left-C-0-FkER.js";import"./calendar-D0Rldsd3.js";import"./check-Bmb3q3YM.js";import"./chevron-down-BDEzu4qp.js";import"./search-BE8WWIIr.js";import"./eye-BwKbTrdt.js";import"./user-CI1P9xoa.js";import"./loader-circle-KSTYb0_k.js";import"./sun-CCMZX7rE.js";import"./play-7ktfzUv0.js";import"./plus-DHcicwrp.js";import"./square-pen-CSv9o01v.js";import"./trash-2-DFtPBXl2.js";import"./triangle-alert-Cf623QHU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Tt={class:"max-w-4xl mx-auto"},Ut={class:"mb-8"},qt={class:"text-gray-600 dark:text-gray-400 mt-2"},Rt={class:"flex items-center justify-center mb-8"},Lt={class:"flex items-center"},It={key:0,class:"space-y-6"},jt={class:"space-y-3"},Bt={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Et={class:"relative"},Ft={for:"creation_mode_single",class:"flex flex-col items-center justify-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 peer-checked:border-primary peer-checked:bg-primary/5 dark:border-gray-700 dark:hover:bg-gray-800 dark:peer-checked:bg-primary/10"},Dt={class:"font-medium text-sm"},Pt={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1"},Mt={class:"relative"},zt={for:"creation_mode_bulk",class:"flex flex-col items-center justify-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 peer-checked:border-primary peer-checked:bg-primary/5 dark:border-gray-700 dark:hover:bg-gray-800 dark:peer-checked:bg-primary/10"},Xt={class:"font-medium text-sm"},Nt={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1"},Qt={class:"relative"},At={for:"creation_mode_workstation",class:"flex flex-col items-center justify-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 peer-checked:border-primary peer-checked:bg-primary/5 dark:border-gray-700 dark:hover:bg-gray-800 dark:peer-checked:bg-primary/10"},Ot={class:"font-medium text-sm"},Wt={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1"},Gt={key:0,class:"space-y-2"},Ht={class:"flex gap-2"},Jt={class:"flex-1 relative"},Kt={class:"relative"},Yt={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},Zt={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},es=["onClick"],ts={class:"font-medium text-sm"},ss={class:"text-xs text-gray-500 dark:text-gray-400"},as={key:0},os={key:1,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg px-3 py-2"},rs={class:"text-sm text-gray-500 dark:text-gray-400"},ls={class:"space-y-2"},ns=["disabled"],is={value:""},ds=["value"],cs={key:0,class:"text-sm text-red-600 dark:text-red-400"},us={class:"grid grid-cols-2 gap-4"},_s={class:"space-y-2"},ms={class:"space-y-2"},ps={class:"text-sm text-muted-foreground"},ys={class:"grid grid-cols-2 gap-4"},vs={class:"space-y-2"},gs={class:"space-y-2"},fs={class:"space-y-2"},hs={class:"grid grid-cols-2 gap-4"},bs={class:"space-y-2"},ks={class:"space-y-2"},xs={class:"grid grid-cols-2 gap-4"},ws={class:"space-y-2"},Ss={class:"space-y-2"},Vs={key:0,class:"text-sm text-red-600 dark:text-red-400"},Cs={key:1,class:"space-y-4"},$s={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Ts={class:"flex items-start"},Us={class:"font-medium text-blue-900 dark:text-blue-100"},qs={class:"text-sm text-blue-700 dark:text-blue-300 mt-1"},Rs={class:"space-y-2"},Ls={class:"relative"},Is={value:""},js=["value"],Bs={class:"text-sm text-muted-foreground"},Es={key:0,class:"text-sm text-red-600 dark:text-red-400"},Fs={class:"space-y-2"},Ds={class:"text-sm text-muted-foreground"},Ps={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ms={class:"grid grid-cols-2 gap-4"},zs={class:"space-y-2"},Xs={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ns={class:"space-y-2"},Qs={key:0,class:"text-sm text-red-600 dark:text-red-400"},As={key:0,class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Os={class:"font-medium text-sm mb-2"},Ws={class:"text-sm text-gray-600 dark:text-gray-400"},Gs={key:1,class:"space-y-6"},Hs={class:"space-y-2"},Js={class:"relative"},Ks={class:"relative"},Ys={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},Zs={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},ea=["onClick"],ta={class:"font-medium text-sm"},sa={class:"text-xs text-gray-500 dark:text-gray-400"},aa={key:0},oa={key:1},ra={key:2},la={key:3},na={key:1,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg px-3 py-2"},ia={class:"text-sm text-gray-500 dark:text-gray-400"},da={key:0,class:"text-sm text-red-600 dark:text-red-400"},ca={class:"space-y-2"},ua={class:"flex gap-2"},_a={class:"text-sm text-muted-foreground"},ma={key:0,class:"text-sm text-red-600 dark:text-red-400"},pa={class:"space-y-2"},ya={value:"good"},va={value:"damaged"},ga={key:0,class:"text-sm text-red-600 dark:text-red-400"},fa={key:0,class:"space-y-2"},ha={class:"text-sm text-muted-foreground"},ba={key:0,class:"text-sm text-red-600 dark:text-red-400"},ka={class:"space-y-6 border-t pt-6"},xa={class:"font-medium text-gray-900 dark:text-gray-100"},wa={class:"space-y-2"},Sa={class:"relative"},Va={class:"relative"},Ca={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},$a={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},Ta=["onClick"],Ua={class:"font-medium text-sm"},qa={class:"text-xs text-gray-500 dark:text-gray-400"},Ra={class:"text-sm text-muted-foreground"},La={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ia={class:"space-y-2"},ja={class:"relative"},Ba={class:"relative"},Ea={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},Fa={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},Da=["onClick"],Pa={class:"font-medium text-sm"},Ma={class:"text-xs text-gray-500 dark:text-gray-400"},za={key:0},Xa={class:"text-sm text-muted-foreground"},Na={key:0,class:"text-sm text-red-600 dark:text-red-400"},Qa={class:"space-y-2"},Aa={class:"relative"},Oa={class:"relative"},Wa={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},Ga={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},Ha=["onClick"],Ja={class:"font-medium text-sm"},Ka={class:"text-xs text-gray-500 dark:text-gray-400"},Ya={key:0},Za={key:1},eo={class:"text-sm text-muted-foreground"},to={key:0,class:"text-sm text-red-600 dark:text-red-400"},so={key:1,class:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},ao={class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},oo={class:"space-y-1 text-sm"},ro={key:0},lo={key:1},no={key:2},io={key:2,class:"space-y-6"},co={class:"space-y-4"},uo={class:"space-y-2"},_o={class:"flex items-center justify-center w-full"},mo={key:0,class:"flex flex-col items-center justify-center pt-5 pb-6"},po={class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},yo={class:"font-semibold"},vo={class:"text-xs text-gray-500 dark:text-gray-400"},go={key:1,class:"relative w-full h-full"},fo=["src"],ho={key:0,class:"text-sm text-red-600 dark:text-red-400"},bo={class:"text-sm text-muted-foreground"},ko={class:"mt-8 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg"},xo={class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},wo={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},So={key:0},Vo={key:1},Co={key:2},$o={key:0},To={key:1},Uo={key:2},qo={key:3},Ro={key:0,class:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},Lo={class:"flex items-start"},Io={class:"text-sm text-blue-700 dark:text-blue-300"},jo={class:"font-medium"},Bo={class:"mt-1"},Eo={key:1,class:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},Fo={class:"flex items-start"},Do={class:"text-sm text-green-700 dark:text-green-300"},Po={class:"font-medium"},Mo={class:"mt-1"},zo={class:"flex justify-between mt-8"},Xo={class:"flex gap-2"},No={class:"flex gap-2"},re=3,Vr=nt({__name:"Create",props:{companies:{},currentCompany:{},categories:{},locations:{}},setup(Te){var ke,xe,we;const{t:o}=it(),C=Te;dt();const pe=new URLSearchParams(window.location.search).get("location_id"),Ue=()=>{var l;return((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||""},w=v(1),se=v(!1),J=v(!1),$=v(""),B=v([]),ae=v(!1),T=v(!1),U=v(null),q=v(""),E=v([]),oe=v(!1),R=v(!1),k=v(null),F=v(""),Q=v([]),le=v(!1),D=v(!1),L=v(null),P=v(""),A=v([]),ne=v(!1),M=v(!1),O=v(null),z=v(""),W=v([]),ie=v(!1),X=v(!1),G=v(null),K=v(null),Y=v(null),N=v(null),a=Se({location_id:"",asset_template_id:"",company_id:((ke=C.currentCompany)==null?void 0:ke.id)||"",department_id:"",assigned_to:"",serial_number:"",condition:"good",image:null,quantity:1,creation_mode:"single",workstation_prefix:"",workstation_start:1,workstation_end:1,workstation_company_id:((xe=C.currentCompany)==null?void 0:xe.id)||""}),m=Se({company_id:((we=C.currentCompany)==null?void 0:we.id)||(C.companies.length===1?C.companies[0].id:""),name:"",building:"",office_number:"",address:"",city:"",state:"",postal_code:"",country:""}),qe=Ve(()=>[{title:o("nav.dashboard"),href:"/dashboard"},{title:o("nav.assets"),href:"/assets"},{title:o("assets.create_asset"),href:"/assets/create"}]),de=Ve(()=>{switch(w.value){case 1:return a.creation_mode==="workstation_range"?a.workstation_prefix.length>0&&a.workstation_start>0&&a.workstation_end>0&&a.workstation_start<=a.workstation_end:U.value!==null;case 2:return k.value!==null;case 3:return!0;default:return!1}});let ye;const Re=async()=>{if($.value.length<2){B.value=[],T.value=!1;return}ae.value=!0;try{const l=await(await fetch(`/api/locations/search?q=${encodeURIComponent($.value)}`)).json();B.value=l,T.value=!0}catch(c){console.error("Location search failed:",c),B.value=[]}finally{ae.value=!1}},Le=()=>{clearTimeout(ye),ye=window.setTimeout(Re,300)},ce=c=>{U.value=c,a.location_id=c.id.toString(),$.value=c.display_name,T.value=!1},Ie=()=>{U.value=null,a.location_id="",$.value="",B.value=[],T.value=!1},je=()=>{setTimeout(()=>{T.value=!1},200)};let ve;const Be=async()=>{if(q.value.length<2){E.value=[],R.value=!1;return}oe.value=!0;try{const l=await(await fetch(`/api/asset-templates/search?q=${encodeURIComponent(q.value)}`)).json();E.value=l,R.value=!0}catch(c){console.error("Template search failed:",c),E.value=[]}finally{oe.value=!1}},Ee=()=>{clearTimeout(ve),ve=window.setTimeout(Be,300)},Fe=c=>{k.value=c,a.asset_template_id=c.id.toString(),q.value=c.display_name,R.value=!1},De=()=>{k.value=null,a.asset_template_id="",q.value="",E.value=[],R.value=!1},Pe=()=>{setTimeout(()=>{R.value=!1},200)};let ge;const Me=async()=>{if(F.value.length<2){Q.value=[],D.value=!1;return}le.value=!0;try{const l=await(await fetch(`/api/companies/search?q=${encodeURIComponent(F.value)}`)).json();Q.value=l,D.value=!0}catch(c){console.error("Company search failed:",c),Q.value=[]}finally{le.value=!1}},ze=()=>{clearTimeout(ge),ge=window.setTimeout(Me,300)},Xe=c=>{L.value=c,a.company_id=c.id.toString(),F.value=c.display_name,D.value=!1,ue(),Z()},Ne=()=>{var c;L.value=null,a.company_id=((c=C.currentCompany)==null?void 0:c.id)||"",F.value="",Q.value=[],D.value=!1,ue(),Z()},Qe=()=>{setTimeout(()=>{D.value=!1},200)};let fe;const Ae=async()=>{var c,l;if(P.value.length<2){A.value=[],M.value=!1;return}ne.value=!0;try{const y=((c=L.value)==null?void 0:c.id)||((l=C.currentCompany)==null?void 0:l.id),r=await(await fetch(`/api/departments/search?q=${encodeURIComponent(P.value)}&company_id=${y}`)).json();A.value=r,M.value=!0}catch(y){console.error("Department search failed:",y),A.value=[]}finally{ne.value=!1}},Oe=()=>{clearTimeout(fe),fe=window.setTimeout(Ae,300)},We=c=>{O.value=c,a.department_id=c.id,P.value=c.display_name,M.value=!1,Z()},ue=()=>{O.value=null,a.department_id="",P.value="",A.value=[],M.value=!1,Z()},Ge=()=>{setTimeout(()=>{M.value=!1},200)};let he;const He=async()=>{var c,l;if(z.value.length<2){W.value=[],X.value=!1;return}ie.value=!0;try{const y=((c=L.value)==null?void 0:c.id)||((l=C.currentCompany)==null?void 0:l.id),h=`/api/employees/search?q=${encodeURIComponent(z.value)}&company_id=${y}`,S=await(await fetch(h)).json();W.value=S,X.value=!0}catch(y){console.error("Employee search failed:",y),W.value=[]}finally{ie.value=!1}},Je=()=>{clearTimeout(he),he=window.setTimeout(He,300)},Ke=c=>{G.value=c,a.assigned_to=c.id.toString(),z.value=c.display_name,X.value=!1},Z=()=>{G.value=null,a.assigned_to="",z.value="",W.value=[],X.value=!1},Ye=()=>{setTimeout(()=>{X.value=!1},200)},Ze=c=>{var r;const y=(r=c.target.files)==null?void 0:r[0];if(!y){K.value=null,Y.value=null,a.image=null;return}if(!y.type.startsWith("image/")){N.value=o("assets.invalid_file_type");return}if(y.size>5*1024*1024){N.value=o("assets.file_too_large");return}N.value=null,K.value=y,a.image=y;const h=new FileReader;h.onload=S=>{var ee;Y.value=(ee=S.target)==null?void 0:ee.result},h.readAsDataURL(y)},et=()=>{K.value=null,Y.value=null,N.value=null,a.image=null;const c=document.getElementById("asset_image");c&&(c.value="")},tt=()=>{de.value&&w.value<re&&w.value++},st=()=>{w.value>1&&w.value--},be=async()=>{m.processing=!0,m.clearErrors();try{const c=await fetch("/locations",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":Ue()},body:JSON.stringify({company_id:m.company_id,name:m.name,building:m.building,office_number:m.office_number,address:m.address,city:m.city,state:m.state,postal_code:m.postal_code,country:m.country,_from_modal:!0})}),l=await c.json();if(c.ok&&l.success){se.value=!1,m.reset();const y={id:l.location.id,name:l.location.name,code:l.location.code,building:l.location.building,office_number:l.location.office_number,address:l.location.address,city:l.location.city,company_name:l.location.company.name_en,display_name:`${l.location.code}: ${l.location.name}`+(l.location.building?` - Building ${l.location.building}`:"")+(l.location.office_number?` - Office ${l.location.office_number}`:""),full_address:[l.location.address,l.location.city].filter(Boolean).join(", ")};ce(y)}else if(l.errors){const y=["company_id","name","building","office_number","address","city","state","postal_code","country"];Object.keys(l.errors).forEach(h=>{y.includes(h)&&m.setError(h,l.errors[h][0])})}else console.error("Failed to create location:",l)}catch(c){console.error("Error creating location:",c),m.setError("name","An error occurred while creating the location.")}finally{m.processing=!1}},at=()=>{a.post("/assets",{onSuccess:c=>{var y,h;((h=(y=c.props)==null?void 0:y.flash)==null?void 0:h.show_bulk_print)&&a.quantity>1?$e.visit("/assets?show_bulk_print=true"):$e.visit("/assets")},onError:()=>{}})},ot=c=>c<w.value?"bg-primary text-primary-foreground":c===w.value?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2":"bg-muted text-muted-foreground",rt=c=>c<w.value?"bg-primary":"bg-muted",lt=c=>{a.serial_number=c,J.value=!1};return ct(async()=>{if(pe)try{const y=(await(await fetch("/api/locations/search?q=")).json()).find(h=>h.id.toString()===pe);if(y){ce(y);const h=new URL(window.location.href);h.searchParams.delete("location_id"),window.history.replaceState({},"",h.toString())}}catch(c){console.error("Failed to load pre-selected location:",c)}}),(c,l)=>(i(),d(V,null,[n(e(ut),{title:e(o)("assets.create_asset")},null,8,["title"]),n(mt,{breadcrumbs:qe.value},{default:p(()=>[t("div",Tt,[t("div",Ut,[n(Ct,{title:e(o)("assets.create_asset")},null,8,["title"]),t("p",qt,s(e(o)("assets.create_asset_description")),1)]),t("div",Rt,[t("div",Lt,[(i(),d(V,null,I(re,y=>t("div",{key:y,class:"flex items-center"},[t("div",{class:x([ot(y),"w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors"])},s(y),3),y<re?(i(),d("div",{key:0,class:x([rt(y),"w-16 h-1 mx-4 transition-colors"])},null,2)):u("",!0)])),64))])]),n(e(pt),null,{default:p(()=>[n(e(gt),null,{default:p(()=>[n(e(ft),null,{default:p(()=>[_(s(e(o)(`assets.step_${w.value}_title`)),1)]),_:1}),n(e(vt),null,{default:p(()=>[_(s(e(o)(`assets.step_${w.value}_description`)),1)]),_:1})]),_:1}),n(e(yt),{class:"space-y-6"},{default:p(()=>{var y,h;return[w.value===1?(i(),d("div",It,[t("div",jt,[n(e(f),null,{default:p(()=>[_(s(e(o)("assets.creation_mode"))+" *",1)]),_:1}),t("div",Bt,[t("div",Et,[H(t("input",{type:"radio",id:"creation_mode_single","onUpdate:modelValue":l[0]||(l[0]=r=>e(a).creation_mode=r),value:"single",class:"peer sr-only"},null,512),[[_e,e(a).creation_mode]]),t("label",Ft,[n(g,{name:"MapPin",class:"h-6 w-6 mb-2 text-gray-600 dark:text-gray-400"}),t("span",Dt,s(e(o)("assets.single_location")),1),t("span",Pt,s(e(o)("assets.single_location_desc")),1)])]),t("div",Mt,[H(t("input",{type:"radio",id:"creation_mode_bulk","onUpdate:modelValue":l[1]||(l[1]=r=>e(a).creation_mode=r),value:"bulk",class:"peer sr-only"},null,512),[[_e,e(a).creation_mode]]),t("label",zt,[n(g,{name:"Package",class:"h-6 w-6 mb-2 text-gray-600 dark:text-gray-400"}),t("span",Xt,s(e(o)("assets.bulk_creation")),1),t("span",Nt,s(e(o)("assets.bulk_creation_desc")),1)])]),t("div",Qt,[H(t("input",{type:"radio",id:"creation_mode_workstation","onUpdate:modelValue":l[2]||(l[2]=r=>e(a).creation_mode=r),value:"workstation_range",class:"peer sr-only"},null,512),[[_e,e(a).creation_mode]]),t("label",At,[n(g,{name:"Monitor",class:"h-6 w-6 mb-2 text-gray-600 dark:text-gray-400"}),t("span",Ot,s(e(o)("assets.workstation_range")),1),t("span",Wt,s(e(o)("assets.workstation_range_desc")),1)])])])]),e(a).creation_mode!=="workstation_range"?(i(),d("div",Gt,[n(e(f),{for:"location_search"},{default:p(()=>[_(s(e(o)("assets.location"))+" *",1)]),_:1}),t("div",Ht,[t("div",Jt,[t("div",Kt,[n(e(b),{id:"location_search",modelValue:$.value,"onUpdate:modelValue":l[3]||(l[3]=r=>$.value=r),type:"text",placeholder:U.value?U.value.display_name:e(o)("assets.search_location_placeholder"),onInput:Le,onFocus:l[4]||(l[4]=r=>$.value.length>=2&&(T.value=!0)),onBlur:je,class:x({"border-red-500":e(a).errors.location_id}),disabled:U.value!==null},null,8,["modelValue","placeholder","class","disabled"]),U.value?(i(),d("button",{key:0,type:"button",onClick:Ie,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),ae.value?(i(),d("div",Yt,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),T.value&&B.value.length>0?(i(),d("div",Zt,[(i(!0),d(V,null,I(B.value,r=>(i(),d("div",{key:r.id,onClick:S=>ce(r),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",ts,s(r.display_name),1),t("div",ss,[_(s(r.company_name)+" ",1),r.full_address?(i(),d("span",as," • "+s(r.full_address),1)):u("",!0)])],8,es))),128))])):u("",!0),T.value&&B.value.length===0&&!ae.value&&$.value.length>=2?(i(),d("div",os,[t("div",rs,s(e(o)("assets.no_locations_found")),1)])):u("",!0)]),n(e(ht),{open:se.value,"onUpdate:open":l[15]||(l[15]=r=>se.value=r)},{default:p(()=>[n(e(Vt),{asChild:""},{default:p(()=>[n(e(j),{variant:"outline",type:"button"},{default:p(()=>[n(g,{name:"Plus",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),_(" "+s(e(o)("locations.create_location")),1)]),_:1})]),_:1}),n(e(bt),{class:"sm:max-w-lg"},{default:p(()=>[n(e(kt),null,{default:p(()=>[n(e(xt),null,{default:p(()=>[_(s(e(o)("locations.create_location")),1)]),_:1}),n(e(wt),null,{default:p(()=>[_(s(e(o)("locations.create_location_description")),1)]),_:1})]),_:1}),t("form",{onSubmit:Ce(be,["prevent"]),class:"space-y-4"},[t("div",ls,[n(e(f),{for:"location_company_id"},{default:p(()=>[_(s(e(o)("locations.company"))+" *",1)]),_:1}),H(t("select",{id:"location_company_id","onUpdate:modelValue":l[5]||(l[5]=r=>e(m).company_id=r),class:x(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(m).errors.company_id}]),disabled:e(m).processing,required:""},[t("option",is,s(e(o)("locations.select_company")),1),(i(!0),d(V,null,I(c.companies,r=>(i(),d("option",{key:r.id,value:r.id},s(r.name_en)+" "+s(r.name_ar?`(${r.name_ar})`:""),9,ds))),128))],10,ns),[[me,e(m).company_id]]),e(m).errors.company_id?(i(),d("div",cs,s(e(m).errors.company_id),1)):u("",!0)]),t("div",us,[t("div",_s,[n(e(f),{for:"location_name"},{default:p(()=>[_(s(e(o)("locations.name"))+" *",1)]),_:1}),n(e(b),{id:"location_name",modelValue:e(m).name,"onUpdate:modelValue":l[6]||(l[6]=r=>e(m).name=r),error:e(m).errors.name,required:""},null,8,["modelValue","error"])]),t("div",ms,[n(e(f),{for:"location_code"},{default:p(()=>[_(s(e(o)("locations.code")),1)]),_:1}),n(e(b),{id:"location_code",type:"text",placeholder:e(o)("locations.code_auto_generated"),disabled:"",class:"bg-muted"},null,8,["placeholder"]),t("p",ps,s(e(o)("locations.code_auto_generated")),1)])]),t("div",ys,[t("div",vs,[n(e(f),{for:"location_building"},{default:p(()=>[_(s(e(o)("locations.building")),1)]),_:1}),n(e(b),{id:"location_building",modelValue:e(m).building,"onUpdate:modelValue":l[7]||(l[7]=r=>e(m).building=r),error:e(m).errors.building},null,8,["modelValue","error"])]),t("div",gs,[n(e(f),{for:"location_office_number"},{default:p(()=>[_(s(e(o)("locations.office_number")),1)]),_:1}),n(e(b),{id:"location_office_number",modelValue:e(m).office_number,"onUpdate:modelValue":l[8]||(l[8]=r=>e(m).office_number=r),error:e(m).errors.office_number},null,8,["modelValue","error"])])]),t("div",fs,[n(e(f),{for:"location_address"},{default:p(()=>[_(s(e(o)("locations.address")),1)]),_:1}),n(e(b),{id:"location_address",modelValue:e(m).address,"onUpdate:modelValue":l[9]||(l[9]=r=>e(m).address=r),error:e(m).errors.address},null,8,["modelValue","error"])]),t("div",hs,[t("div",bs,[n(e(f),{for:"location_city"},{default:p(()=>[_(s(e(o)("locations.city")),1)]),_:1}),n(e(b),{id:"location_city",modelValue:e(m).city,"onUpdate:modelValue":l[10]||(l[10]=r=>e(m).city=r),error:e(m).errors.city},null,8,["modelValue","error"])]),t("div",ks,[n(e(f),{for:"location_state"},{default:p(()=>[_(s(e(o)("locations.state")),1)]),_:1}),n(e(b),{id:"location_state",modelValue:e(m).state,"onUpdate:modelValue":l[11]||(l[11]=r=>e(m).state=r),error:e(m).errors.state},null,8,["modelValue","error"])])]),t("div",xs,[t("div",ws,[n(e(f),{for:"location_postal_code"},{default:p(()=>[_(s(e(o)("locations.postal_code")),1)]),_:1}),n(e(b),{id:"location_postal_code",modelValue:e(m).postal_code,"onUpdate:modelValue":l[12]||(l[12]=r=>e(m).postal_code=r),error:e(m).errors.postal_code},null,8,["modelValue","error"])]),t("div",Ss,[n(e(f),{for:"location_country"},{default:p(()=>[_(s(e(o)("locations.country")),1)]),_:1}),n(e(b),{id:"location_country",modelValue:e(m).country,"onUpdate:modelValue":l[13]||(l[13]=r=>e(m).country=r),error:e(m).errors.country},null,8,["modelValue","error"])])])],32),n(e(St),null,{default:p(()=>[n(e(j),{variant:"outline",onClick:l[14]||(l[14]=r=>se.value=!1),type:"button"},{default:p(()=>[_(s(e(o)("common.cancel")),1)]),_:1}),n(e(j),{onClick:be,disabled:e(m).processing},{default:p(()=>[e(m).processing?(i(),te(g,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2 animate-spin"})):u("",!0),_(" "+s(e(o)("common.create")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),e(a).errors.location_id?(i(),d("div",Vs,s(e(a).errors.location_id),1)):u("",!0)])):u("",!0),e(a).creation_mode==="workstation_range"?(i(),d("div",Cs,[t("div",$s,[t("div",Ts,[n(g,{name:"Info",class:"h-5 w-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),t("div",null,[t("h4",Us,s(e(o)("assets.workstation_range_info")),1),t("p",qs,s(e(o)("assets.workstation_range_info_desc")),1)])])]),t("div",Rs,[n(e(f),{for:"workstation_company_search"},{default:p(()=>[_(s(e(o)("assets.workstation_company"))+" *",1)]),_:1}),t("div",Ls,[H(t("select",{id:"workstation_company_search","onUpdate:modelValue":l[16]||(l[16]=r=>e(a).workstation_company_id=r),class:x(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(a).errors.workstation_company_id}]),required:""},[t("option",Is,s(e(o)("assets.select_company")),1),(i(!0),d(V,null,I(c.companies,r=>(i(),d("option",{key:r.id,value:r.id},s(r.name_en)+" "+s(r.name_ar?`(${r.name_ar})`:""),9,js))),128))],2),[[me,e(a).workstation_company_id]])]),t("p",Bs,s(e(o)("assets.workstation_company_desc")),1),e(a).errors.workstation_company_id?(i(),d("div",Es,s(e(a).errors.workstation_company_id),1)):u("",!0)]),t("div",Fs,[n(e(f),{for:"workstation_prefix"},{default:p(()=>[_(s(e(o)("assets.workstation_prefix"))+" *",1)]),_:1}),n(e(b),{id:"workstation_prefix",modelValue:e(a).workstation_prefix,"onUpdate:modelValue":l[17]||(l[17]=r=>e(a).workstation_prefix=r),type:"text",placeholder:e(o)("assets.workstation_prefix_placeholder"),class:x({"border-red-500":e(a).errors.workstation_prefix}),required:""},null,8,["modelValue","placeholder","class"]),t("p",Ds,s(e(o)("assets.workstation_prefix_desc")),1),e(a).errors.workstation_prefix?(i(),d("div",Ps,s(e(a).errors.workstation_prefix),1)):u("",!0)]),t("div",Ms,[t("div",zs,[n(e(f),{for:"workstation_start"},{default:p(()=>[_(s(e(o)("assets.workstation_start"))+" *",1)]),_:1}),n(e(b),{id:"workstation_start",modelValue:e(a).workstation_start,"onUpdate:modelValue":l[18]||(l[18]=r=>e(a).workstation_start=r),modelModifiers:{number:!0},type:"number",min:"1",max:"999",placeholder:e(o)("assets.workstation_start_placeholder"),class:x({"border-red-500":e(a).errors.workstation_start}),required:""},null,8,["modelValue","placeholder","class"]),e(a).errors.workstation_start?(i(),d("div",Xs,s(e(a).errors.workstation_start),1)):u("",!0)]),t("div",Ns,[n(e(f),{for:"workstation_end"},{default:p(()=>[_(s(e(o)("assets.workstation_end"))+" *",1)]),_:1}),n(e(b),{id:"workstation_end",modelValue:e(a).workstation_end,"onUpdate:modelValue":l[19]||(l[19]=r=>e(a).workstation_end=r),modelModifiers:{number:!0},type:"number",min:"1",max:"999",placeholder:e(o)("assets.workstation_end_placeholder"),class:x({"border-red-500":e(a).errors.workstation_end}),required:""},null,8,["modelValue","placeholder","class"]),e(a).errors.workstation_end?(i(),d("div",Qs,s(e(a).errors.workstation_end),1)):u("",!0)])]),e(a).workstation_prefix&&e(a).workstation_start&&e(a).workstation_end&&e(a).workstation_start<=e(a).workstation_end?(i(),d("div",As,[t("h4",Os,s(e(o)("assets.workstation_preview")),1),t("div",Ws,[t("strong",null,s(e(o)("assets.locations_to_create"))+":",1),_(" "+s(e(a).workstation_prefix)+s(e(a).workstation_start)+" "+s(e(a).workstation_end>e(a).workstation_start?`to ${e(a).workstation_prefix}${e(a).workstation_end}`:"")+" ("+s(e(a).workstation_end-e(a).workstation_start+1)+" "+s(e(o)("assets.workstations"))+") ",1)])])):u("",!0)])):u("",!0)])):w.value===2?(i(),d("div",Gs,[t("div",Hs,[n(e(f),{for:"template_search"},{default:p(()=>[_(s(e(o)("assets.template"))+" *",1)]),_:1}),t("div",Js,[t("div",Ks,[n(e(b),{id:"template_search",modelValue:q.value,"onUpdate:modelValue":l[20]||(l[20]=r=>q.value=r),type:"text",placeholder:k.value?k.value.display_name:e(o)("assets.search_template_placeholder"),onInput:Ee,onFocus:l[21]||(l[21]=r=>q.value.length>=2&&(R.value=!0)),onBlur:Pe,class:x({"border-red-500":e(a).errors.asset_template_id}),disabled:k.value!==null},null,8,["modelValue","placeholder","class","disabled"]),k.value?(i(),d("button",{key:0,type:"button",onClick:De,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),oe.value?(i(),d("div",Ys,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),R.value&&E.value.length>0?(i(),d("div",Zs,[(i(!0),d(V,null,I(E.value,r=>{var S,ee;return i(),d("div",{key:r.id,onClick:Ao=>Fe(r),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",ta,s(r.display_name),1),t("div",sa,[r.category_name?(i(),d("span",aa,s(r.category_name),1)):u("",!0),r.category_name&&((S=r.company)!=null&&S.name_en||r.is_global)?(i(),d("span",oa," • ")):u("",!0),r.is_global?(i(),d("span",ra,s(e(o)("asset_templates.global")),1)):(ee=r.company)!=null&&ee.name_en?(i(),d("span",la,s(r.company.name_en),1)):u("",!0)])],8,ea)}),128))])):u("",!0),R.value&&E.value.length===0&&!oe.value&&q.value.length>=2?(i(),d("div",na,[t("div",ia,s(e(o)("assets.no_templates_found")),1)])):u("",!0)]),e(a).errors.asset_template_id?(i(),d("div",da,s(e(a).errors.asset_template_id),1)):u("",!0)]),t("div",ca,[n(e(f),{for:"serial_number"},{default:p(()=>[_(s(e(o)("assets.serial_number")),1)]),_:1}),t("div",ua,[n(e(b),{id:"serial_number",modelValue:e(a).serial_number,"onUpdate:modelValue":l[22]||(l[22]=r=>e(a).serial_number=r),type:"text",placeholder:e(o)("assets.serial_number_placeholder"),class:x([{"border-red-500":e(a).errors.serial_number},"flex-1"])},null,8,["modelValue","placeholder","class"]),n(e(j),{type:"button",variant:"outline",onClick:l[23]||(l[23]=r=>J.value=!0),class:"shrink-0"},{default:p(()=>[n(g,{name:"ScanSearch",class:"h-4 w-4 mr-2"}),l[34]||(l[34]=_(" Scan "))]),_:1,__:[34]})]),t("p",_a,s(e(o)("assets.serial_number_optional")),1),e(a).errors.serial_number?(i(),d("div",ma,s(e(a).errors.serial_number),1)):u("",!0)]),t("div",pa,[n(e(f),{for:"condition"},{default:p(()=>[_(s(e(o)("assets.condition"))+" *",1)]),_:1}),H(t("select",{id:"condition","onUpdate:modelValue":l[24]||(l[24]=r=>e(a).condition=r),class:x(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(a).errors.condition}]),required:""},[t("option",ya,s(e(o)("assets.condition_good")),1),t("option",va,s(e(o)("assets.condition_damaged")),1)],2),[[me,e(a).condition]]),e(a).errors.condition?(i(),d("div",ga,s(e(a).errors.condition),1)):u("",!0)]),e(a).creation_mode==="bulk"?(i(),d("div",fa,[n(e(f),{for:"quantity"},{default:p(()=>[_(s(e(o)("assets.quantity"))+" *",1)]),_:1}),n(e(b),{id:"quantity",modelValue:e(a).quantity,"onUpdate:modelValue":l[25]||(l[25]=r=>e(a).quantity=r),modelModifiers:{number:!0},type:"number",min:"1",max:"100",placeholder:e(o)("assets.quantity_placeholder"),class:x({"border-red-500":e(a).errors.quantity}),required:""},null,8,["modelValue","placeholder","class"]),t("p",ha,s(e(o)("assets.quantity_description")),1),e(a).errors.quantity?(i(),d("div",ba,s(e(a).errors.quantity),1)):u("",!0)])):u("",!0),t("div",ka,[t("h4",xa,s(e(o)("assets.assignment_details")),1),t("div",wa,[n(e(f),{for:"company_search"},{default:p(()=>[_(s(e(o)("assets.company")),1)]),_:1}),t("div",Sa,[t("div",Va,[n(e(b),{id:"company_search",modelValue:F.value,"onUpdate:modelValue":l[26]||(l[26]=r=>F.value=r),type:"text",placeholder:L.value?L.value.display_name:e(o)("assets.search_company_placeholder"),onInput:ze,onFocus:l[27]||(l[27]=r=>F.value.length>=2&&(D.value=!0)),onBlur:Qe,class:x({"border-red-500":e(a).errors.company_id}),disabled:L.value!==null},null,8,["modelValue","placeholder","class","disabled"]),L.value?(i(),d("button",{key:0,type:"button",onClick:Ne,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),le.value?(i(),d("div",Ca,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),D.value&&Q.value.length>0?(i(),d("div",$a,[(i(!0),d(V,null,I(Q.value,r=>(i(),d("div",{key:r.id,onClick:S=>Xe(r),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",Ua,s(r.display_name),1),t("div",qa,s(r.company_email),1)],8,Ta))),128))])):u("",!0)]),t("p",Ra,s(e(o)("assets.company_optional")),1),e(a).errors.company_id?(i(),d("div",La,s(e(a).errors.company_id),1)):u("",!0)]),t("div",Ia,[n(e(f),{for:"department_search"},{default:p(()=>[_(s(e(o)("assets.department")),1)]),_:1}),t("div",ja,[t("div",Ba,[n(e(b),{id:"department_search",modelValue:P.value,"onUpdate:modelValue":l[28]||(l[28]=r=>P.value=r),type:"text",placeholder:O.value?O.value.display_name:e(o)("assets.search_department_placeholder"),onInput:Oe,onFocus:l[29]||(l[29]=r=>P.value.length>=2&&(M.value=!0)),onBlur:Ge,class:x({"border-red-500":e(a).errors.department_id}),disabled:O.value!==null},null,8,["modelValue","placeholder","class","disabled"]),O.value?(i(),d("button",{key:0,type:"button",onClick:ue,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),ne.value?(i(),d("div",Ea,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),M.value&&A.value.length>0?(i(),d("div",Fa,[(i(!0),d(V,null,I(A.value,r=>(i(),d("div",{key:r.id,onClick:S=>We(r),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",Pa,s(r.display_name),1),t("div",Ma,[_(s(r.company_name)+" ",1),r.description?(i(),d("span",za," • "+s(r.description),1)):u("",!0)])],8,Da))),128))])):u("",!0)]),t("p",Xa,s(e(o)("assets.department_optional")),1),e(a).errors.department_id?(i(),d("div",Na,s(e(a).errors.department_id),1)):u("",!0)]),t("div",Qa,[n(e(f),{for:"employee_search"},{default:p(()=>[_(s(e(o)("assets.assign_to_employee")),1)]),_:1}),t("div",Aa,[t("div",Oa,[n(e(b),{id:"employee_search",modelValue:z.value,"onUpdate:modelValue":l[30]||(l[30]=r=>z.value=r),type:"text",placeholder:G.value?G.value.display_name:e(o)("assets.search_employee_placeholder"),onInput:Je,onFocus:l[31]||(l[31]=r=>z.value.length>=2&&(X.value=!0)),onBlur:Ye,class:x({"border-red-500":e(a).errors.assigned_to}),disabled:G.value!==null},null,8,["modelValue","placeholder","class","disabled"]),G.value?(i(),d("button",{key:0,type:"button",onClick:Z,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),ie.value?(i(),d("div",Wa,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),X.value&&W.value.length>0?(i(),d("div",Ga,[(i(!0),d(V,null,I(W.value,r=>(i(),d("div",{key:r.id,onClick:S=>Ke(r),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",Ja,s(r.display_name),1),t("div",Ka,[_(s(r.email)+" ",1),r.department?(i(),d("span",Ya," • "+s(r.department),1)):u("",!0),r.company_name?(i(),d("span",Za," • "+s(r.company_name),1)):u("",!0)])],8,Ha))),128))])):u("",!0)]),t("p",eo,s(e(o)("assets.assign_to_employee_optional")),1),e(a).errors.assigned_to?(i(),d("div",to,s(e(a).errors.assigned_to),1)):u("",!0)])]),k.value?(i(),d("div",so,[t("h4",ao,s(e(o)("assets.selected_template")),1),t("div",oo,[t("div",null,[t("strong",null,s(e(o)("assets.name"))+":",1),_(" "+s(k.value.name),1)]),k.value.manufacturer?(i(),d("div",ro,[t("strong",null,s(e(o)("assets.manufacturer"))+":",1),_(" "+s(k.value.manufacturer),1)])):u("",!0),k.value.model_name?(i(),d("div",lo,[t("strong",null,s(e(o)("assets.model"))+":",1),_(" "+s(k.value.model_name),1)])):u("",!0),k.value.asset_category?(i(),d("div",no,[t("strong",null,s(e(o)("assets.category"))+":",1),_(" "+s(k.value.asset_category.name),1)])):u("",!0)])])):u("",!0)])):w.value===3?(i(),d("div",io,[t("div",co,[t("div",uo,[n(e(f),{for:"asset_image"},{default:p(()=>[_(s(e(o)("assets.image")),1)]),_:1}),t("div",_o,[t("label",{for:"asset_image",class:x(["flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500",{"border-red-500":N.value}])},[Y.value?(i(),d("div",go,[t("img",{src:Y.value,alt:"Asset preview",class:"w-full h-full object-contain rounded-lg"},null,8,fo),t("button",{type:"button",onClick:Ce(et,["prevent"]),class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors"},[n(g,{name:"X",class:"h-4 w-4"})])])):(i(),d("div",mo,[n(g,{name:"Upload",class:"w-10 h-10 mb-3 text-gray-400"}),t("p",po,[t("span",yo,s(e(o)("assets.click_to_upload")),1),_(" "+s(e(o)("assets.or_drag_and_drop")),1)]),t("p",vo,s(e(o)("assets.supported_formats")),1)])),t("input",{id:"asset_image",type:"file",accept:"image/*",onChange:Ze,class:"hidden"},null,32)],2)]),N.value?(i(),d("div",ho,s(N.value),1)):u("",!0),t("p",bo,s(e(o)("assets.image_optional")),1)])]),t("div",ko,[t("h4",xo,s(e(o)("assets.review_asset")),1),t("div",wo,[t("div",null,[t("strong",null,s(e(o)("assets.creation_mode"))+":",1),e(a).creation_mode==="single"?(i(),d("span",So,s(e(o)("assets.single_location")),1)):e(a).creation_mode==="bulk"?(i(),d("span",Vo,s(e(o)("assets.bulk_creation")),1)):(i(),d("span",Co,s(e(o)("assets.workstation_range")),1))]),e(a).creation_mode!=="workstation_range"?(i(),d("div",$o,[t("strong",null,s(e(o)("assets.location"))+":",1),_(" "+s(((y=U.value)==null?void 0:y.display_name)||"—"),1)])):u("",!0),e(a).creation_mode==="workstation_range"?(i(),d("div",To,[t("strong",null,s(e(o)("assets.workstation_range"))+":",1),_(" "+s(e(a).workstation_prefix)+s(e(a).workstation_start)+" to "+s(e(a).workstation_prefix)+s(e(a).workstation_end),1)])):u("",!0),t("div",null,[t("strong",null,s(e(o)("assets.template"))+":",1),_(" "+s(((h=k.value)==null?void 0:h.display_name)||"—"),1)]),t("div",null,[t("strong",null,s(e(o)("assets.serial_number"))+":",1),_(" "+s(e(a).serial_number||e(o)("assets.not_provided")),1)]),t("div",null,[t("strong",null,s(e(o)("assets.condition"))+":",1),_(" "+s(e(a).condition==="good"?e(o)("assets.condition_good"):e(o)("assets.condition_damaged")),1)]),e(a).creation_mode==="bulk"?(i(),d("div",Uo,[t("strong",null,s(e(o)("assets.quantity"))+":",1),_(" "+s(e(a).quantity)+" "+s(e(a).quantity===1?e(o)("assets.asset"):e(o)("assets.assets")),1)])):u("",!0),e(a).creation_mode==="workstation_range"?(i(),d("div",qo,[t("strong",null,s(e(o)("assets.workstations"))+":",1),_(" "+s(e(a).workstation_end-e(a).workstation_start+1)+" "+s(e(o)("assets.workstations")),1)])):u("",!0),t("div",null,[t("strong",null,s(e(o)("assets.image"))+":",1),_(" "+s(K.value?K.value.name:e(o)("assets.not_provided")),1)])]),e(a).creation_mode==="bulk"&&e(a).quantity>1?(i(),d("div",Ro,[t("div",Lo,[n(g,{name:"Info",class:"h-4 w-4 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),t("div",Io,[t("p",jo,s(e(o)("assets.bulk_creation_notice")),1),t("p",Bo,s(e(o)("assets.bulk_creation_description",{quantity:e(a).quantity})),1)])])])):u("",!0),e(a).creation_mode==="workstation_range"?(i(),d("div",Eo,[t("div",Fo,[n(g,{name:"Monitor",class:"h-4 w-4 text-green-500 mt-0.5 mr-2 flex-shrink-0"}),t("div",Do,[t("p",Po,s(e(o)("assets.workstation_creation_notice")),1),t("p",Mo,s(e(o)("assets.workstation_creation_description",{count:e(a).workstation_end-e(a).workstation_start+1,prefix:e(a).workstation_prefix,start:e(a).workstation_start,end:e(a).workstation_end})),1)])])])):u("",!0)])])):u("",!0)]}),_:1})]),_:1}),t("div",zo,[t("div",Xo,[n(e(j),{variant:"outline",asChild:""},{default:p(()=>[n(e(_t),{href:c.route("assets.index")},{default:p(()=>[n(g,{name:"ArrowLeft",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),_(" "+s(e(o)("common.cancel")),1)]),_:1},8,["href"])]),_:1}),w.value>1?(i(),te(e(j),{key:0,variant:"outline",onClick:st},{default:p(()=>[n(g,{name:"ChevronLeft",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),_(" "+s(e(o)("common.previous")),1)]),_:1})):u("",!0)]),t("div",No,[w.value<re?(i(),te(e(j),{key:0,onClick:tt,disabled:!de.value},{default:p(()=>[_(s(e(o)("common.next"))+" ",1),n(g,{name:"ChevronRight",class:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"})]),_:1},8,["disabled"])):(i(),te(e(j),{key:1,onClick:at,disabled:!de.value||e(a).processing},{default:p(()=>[e(a).processing?(i(),te(g,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2 animate-spin"})):u("",!0),_(" "+s(e(o)("assets.create_asset")),1)]),_:1},8,["disabled"]))])])]),n($t,{modelValue:J.value,"onUpdate:modelValue":l[32]||(l[32]=y=>J.value=y),title:"Scan Serial Number",description:"Position the barcode or QR code on the asset within the camera view to scan the serial number automatically. Supports all common barcode formats and QR codes.",onScanned:lt,onCancel:l[33]||(l[33]=y=>J.value=!1)},null,8,["modelValue"])]),_:1},8,["breadcrumbs"])],64))}});export{Vr as default};
