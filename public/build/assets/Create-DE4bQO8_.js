import{d as I,u as M,x as N,p as h,i as p,o as u,w as d,f as t,t as s,e,k as D,b as r,h as i,l as c,m as $,a as x,F as E,r as L,v as R,s as T}from"./app-D0Vt30Vq.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-B97x8MOn.js";import{_ as C}from"./index-DWHi_qOY.js";import{_ as A,a as P}from"./CardContent.vue_vue_type_script_setup_true_lang-rPtWrWMe.js";import{_ as j,a as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-Gf4YLF1K.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-BiiTob7y.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-IojTvcXS.js";import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-B0NkP0xn.js";import{_ as G}from"./Icon.vue_vue_type_script_setup_true_lang-rzdGu1Mu.js";import"./useForwardExpose-CbV4-mg7.js";import"./RovingFocusGroup-PHJyoBhV.js";import"./x-DkN8ONOS.js";import"./building-DQsaVzkr.js";import"./users-CC1pWtVX.js";import"./activity-BRE93jBv.js";import"./arrow-left-qRoalPK0.js";import"./calendar-BE7k65vj.js";import"./check-ii_DJC_d.js";import"./chevron-down-DKPcqLTV.js";import"./search-DBBzWakM.js";import"./eye-7OMEyJvX.js";import"./user-CPRms7Wd.js";import"./loader-circle-DnAE-B7E.js";import"./sun-BbOW-oGx.js";import"./play-sO8i4k9K.js";import"./plus-CAUEB8mt.js";import"./square-pen-OsA4FdYX.js";import"./trash-2-59UQ6laV.js";import"./triangle-alert-CW_3Vgmg.js";const H={class:"p-6"},J={class:"mb-6"},K={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},O={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={value:""},X=["value"],Y=["placeholder"],Z={class:"mt-1 text-sm text-gray-500"},ee={key:1,class:"mt-4"},ae=["src","alt"],te={class:"mt-6 flex items-center gap-4"},Ne=I({__name:"Create",props:{categories:{}},setup(le){const{t:a}=M(),o=N({name:"",manufacturer:"",model_name:"",model_number:"",asset_category_id:"",specifications:{},default_notes:"",image:null}),v=h(!1),m=h({}),b=h(null),U=()=>{v.value=!0,m.value={},o.post(route("asset-templates.store"),{onSuccess:()=>{v.value=!1},onError:_=>{m.value=_,v.value=!1},onFinish:()=>{v.value=!1}})},B=_=>{var k;const l=(k=_.target.files)==null?void 0:k[0];if(l){o.image=l;const V=new FileReader;V.onload=F=>{var w;b.value=(w=F.target)==null?void 0:w.result},V.readAsDataURL(l)}},S=()=>{o.image=null,b.value=null;const _=document.getElementById("image");_&&(_.value="")};return(_,n)=>(u(),p(q,null,{default:d(()=>[t("div",H,[t("div",J,[t("h1",K,s(e(a)("asset_templates.create_template")),1),t("p",O,s(e(a)("asset_templates.create_template_description")),1)]),t("form",{onSubmit:D(U,["prevent"]),class:"max-w-2xl"},[r(e(A),null,{default:d(()=>[r(e(j),null,{default:d(()=>[r(e(z),null,{default:d(()=>[i(s(e(a)("asset_templates.template_details")),1)]),_:1})]),_:1}),r(e(P),{class:"space-y-6"},{default:d(()=>[t("div",null,[r(e(f),{for:"name"},{default:d(()=>[i(s(e(a)("asset_templates.template_name"))+" *",1)]),_:1}),r(e(y),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":n[0]||(n[0]=l=>e(o).name=l),required:"",placeholder:e(a)("asset_templates.template_name_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.name?(u(),p(g,{key:0,message:m.value.name,class:"mt-1"},null,8,["message"])):c("",!0)]),t("div",null,[r(e(f),{for:"manufacturer"},{default:d(()=>[i(s(e(a)("asset_templates.manufacturer")),1)]),_:1}),r(e(y),{id:"manufacturer",modelValue:e(o).manufacturer,"onUpdate:modelValue":n[1]||(n[1]=l=>e(o).manufacturer=l),placeholder:e(a)("asset_templates.manufacturer_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.manufacturer?(u(),p(g,{key:0,message:m.value.manufacturer,class:"mt-1"},null,8,["message"])):c("",!0)]),t("div",Q,[t("div",null,[r(e(f),{for:"model_name"},{default:d(()=>[i(s(e(a)("asset_templates.model_name")),1)]),_:1}),r(e(y),{id:"model_name",modelValue:e(o).model_name,"onUpdate:modelValue":n[2]||(n[2]=l=>e(o).model_name=l),placeholder:e(a)("asset_templates.model_name_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.model_name?(u(),p(g,{key:0,message:m.value.model_name,class:"mt-1"},null,8,["message"])):c("",!0)]),t("div",null,[r(e(f),{for:"model_number"},{default:d(()=>[i(s(e(a)("asset_templates.model_number")),1)]),_:1}),r(e(y),{id:"model_number",modelValue:e(o).model_number,"onUpdate:modelValue":n[3]||(n[3]=l=>e(o).model_number=l),placeholder:e(a)("asset_templates.model_number_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.model_number?(u(),p(g,{key:0,message:m.value.model_number,class:"mt-1"},null,8,["message"])):c("",!0)])]),t("div",null,[r(e(f),{for:"asset_category_id"},{default:d(()=>[i(s(e(a)("asset_templates.category")),1)]),_:1}),$(t("select",{id:"asset_category_id","onUpdate:modelValue":n[4]||(n[4]=l=>e(o).asset_category_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},[t("option",W,s(e(a)("asset_templates.category_placeholder")),1),(u(!0),x(E,null,L(_.categories,l=>(u(),x("option",{key:l.id,value:l.id},s("â€”".repeat(Math.max(0,l.depth||0)))+" "+s(l.name),9,X))),128))],512),[[R,e(o).asset_category_id]]),m.value.asset_category_id?(u(),p(g,{key:0,message:m.value.asset_category_id,class:"mt-1"},null,8,["message"])):c("",!0)]),t("div",null,[r(e(f),{for:"default_notes"},{default:d(()=>[i(s(e(a)("asset_templates.default_notes")),1)]),_:1}),$(t("textarea",{id:"default_notes","onUpdate:modelValue":n[5]||(n[5]=l=>e(o).default_notes=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",placeholder:e(a)("asset_templates.default_notes_placeholder")},null,8,Y),[[T,e(o).default_notes]]),m.value.default_notes?(u(),p(g,{key:0,message:m.value.default_notes,class:"mt-1"},null,8,["message"])):c("",!0)]),t("div",null,[r(e(f),{for:"image"},{default:d(()=>[i(s(e(a)("asset_templates.template_image")),1)]),_:1}),t("input",{id:"image",type:"file",accept:"image/*",onChange:B,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-700 dark:file:text-gray-300"},null,32),t("p",Z,s(e(a)("asset_templates.image_description")),1),m.value.image?(u(),p(g,{key:0,message:m.value.image,class:"mt-1"},null,8,["message"])):c("",!0),b.value?(u(),x("div",ee,[t("img",{src:b.value,alt:e(a)("asset_templates.image_preview"),class:"max-w-xs max-h-48 rounded-lg border border-gray-300 dark:border-gray-600"},null,8,ae),t("button",{type:"button",onClick:S,class:"mt-2 text-sm text-red-600 hover:text-red-800 dark:text-red-400"},s(e(a)("asset_templates.remove_image")),1)])):c("",!0)])]),_:1})]),_:1}),t("div",te,[r(e(C),{type:"submit",disabled:v.value},{default:d(()=>[v.value?(u(),p(G,{key:0,name:"loader-2",class:"h-4 w-4 mr-2 animate-spin"})):c("",!0),i(" "+s(e(a)("asset_templates.create_template")),1)]),_:1},8,["disabled"]),r(e(C),{variant:"outline",as:"Link",href:_.route("asset-templates.index")},{default:d(()=>[i(s(e(a)("common.cancel")),1)]),_:1},8,["href"])])],32)])]),_:1}))}});export{Ne as default};
