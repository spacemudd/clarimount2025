import{d as y,x,i as g,o as r,w as f,f as o,k as v,a as d,l,m,e as s,F as k,r as _,t as i,v as w,h,s as p}from"./app-5_bJnHP6.js";import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-GItLO6bp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B24XqKFD.js";import"./useForwardExpose-KwLHaEym.js";import"./RovingFocusGroup-K26tlUkl.js";import"./building-CTSn9BDU.js";import"./users-B531W8qb.js";const D={class:"max-w-2xl mx-auto p-6"},V={key:0,class:"bg-yellow-50 border border-yellow-200 rounded-md p-4"},T={key:1},B=["value"],E={key:0,class:"text-red-500 text-sm mt-1"},N={key:2,class:"bg-blue-50 border border-blue-200 rounded-md p-3"},S={class:"text-blue-800 text-sm"},U={key:0,class:"text-red-500 text-sm mt-1"},M=["disabled"],P={key:0,class:"text-red-500 text-sm mt-1"},q=["disabled"],F={key:0,class:"text-red-500 text-sm mt-1"},I=["disabled"],L={key:0,class:"text-red-500 text-sm mt-1"},O={class:"flex gap-4 pt-4"},Y=["disabled"],$={key:0},j={key:1},R=y({__name:"Create",props:{companies:{}},setup(b){const u=b,t=x({name:"",code:"",company_id:u.companies.length===1?u.companies[0].id:"",description:""}),c=()=>{t.post("/departments")};return(a,e)=>(r(),g(C,null,{default:f(()=>[o("div",D,[e[13]||(e[13]=o("h1",{class:"text-2xl font-bold mb-6"},"Create Department",-1)),o("form",{onSubmit:v(c,["prevent"]),class:"space-y-4"},[a.companies.length===0?(r(),d("div",V,e[4]||(e[4]=[o("p",{class:"text-yellow-800"},"You need to create a company first before adding departments.",-1),o("a",{href:"/companies/create",class:"text-yellow-900 underline font-medium"},"Create Company",-1)]))):l("",!0),a.companies.length>1?(r(),d("div",T,[e[6]||(e[6]=o("label",{class:"block text-sm font-medium mb-1"},"Company *",-1)),m(o("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>s(t).company_id=n),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md"},[e[5]||(e[5]=o("option",{value:""},"Select a company",-1)),(r(!0),d(k,null,_(a.companies,n=>(r(),d("option",{key:n.id,value:n.id},i(n.name_en),9,B))),128))],512),[[w,s(t).company_id]]),s(t).errors.company_id?(r(),d("div",E,i(s(t).errors.company_id),1)):l("",!0)])):a.companies.length===1?(r(),d("div",N,[o("p",S,[e[7]||(e[7]=h(" Department will be created for: ")),o("strong",null,i(a.companies[0].name_en),1)]),s(t).errors.company_id?(r(),d("div",U,i(s(t).errors.company_id),1)):l("",!0)])):l("",!0),o("div",null,[e[8]||(e[8]=o("label",{class:"block text-sm font-medium mb-1"},"Department Name *",-1)),m(o("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>s(t).name=n),type:"text",required:"",placeholder:"e.g., Information Technology",class:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:a.companies.length===0},null,8,M),[[p,s(t).name]]),s(t).errors.name?(r(),d("div",P,i(s(t).errors.name),1)):l("",!0)]),o("div",null,[e[9]||(e[9]=o("label",{class:"block text-sm font-medium mb-1"},"Department Code",-1)),m(o("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>s(t).code=n),type:"text",placeholder:"Leave empty for auto-generated code (e.g., DEPT001)",class:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:a.companies.length===0},null,8,q),[[p,s(t).code]]),e[10]||(e[10]=o("div",{class:"text-xs text-gray-500 mt-1"}," If left empty, a code like DEPT001, DEPT002, etc. will be automatically generated ",-1)),s(t).errors.code?(r(),d("div",F,i(s(t).errors.code),1)):l("",!0)]),o("div",null,[e[11]||(e[11]=o("label",{class:"block text-sm font-medium mb-1"},"Description",-1)),m(o("textarea",{"onUpdate:modelValue":e[3]||(e[3]=n=>s(t).description=n),rows:"3",placeholder:"Optional description of the department",class:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:a.companies.length===0},null,8,I),[[p,s(t).description]]),s(t).errors.description?(r(),d("div",L,i(s(t).errors.description),1)):l("",!0)]),o("div",O,[e[12]||(e[12]=o("a",{href:"/departments",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel ",-1)),o("button",{type:"submit",disabled:s(t).processing||a.companies.length===0||!s(t).company_id||!s(t).name,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},[s(t).processing?(r(),d("span",$,"Creating...")):(r(),d("span",j,"Create Department"))],8,Y)])],32)])]),_:1}))}});export{R as default};
