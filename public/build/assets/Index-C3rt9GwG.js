import{d as B,u as F,q as f,I as b,i as I,o as d,w as M,f as e,a as n,t as s,e as r,m as p,p as w,z as V,F as m,r as u,v as j,n as L,y as N}from"./app-Bc8DJoIw.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-aFPrXevK.js";import"./index-Bkfj5RZf.js";import"./useForwardExpose-Dfrpkcq5.js";import"./x-Bpbu-D7u.js";import"./building-CRGTLLXw.js";import"./users-DTM0PXos.js";const $={class:"max-w-7xl mx-auto p-6"},z={class:"flex items-center justify-between mb-6"},D={class:"text-2xl font-bold"},H={href:"/departments/create",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},U={class:"flex gap-4 mb-6 p-4 bg-gray-50 rounded-lg"},q={class:"flex-1"},E=["placeholder"],A={class:"min-w-[200px]"},G={value:""},J=["value"],K={key:0,class:"text-center py-12"},O={class:"text-lg font-medium text-gray-900 mb-2"},P={class:"text-gray-600 mb-6"},Q={key:0,href:"/departments/create",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},R={key:1,href:"/companies/create",class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"},W={key:1,class:"bg-white rounded-lg border overflow-hidden"},X={class:"w-full"},Y={class:"bg-gray-50"},Z={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ee={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},te={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},se={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ae={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},re={class:"bg-white divide-y divide-gray-200"},oe={class:"px-6 py-4 whitespace-nowrap"},de={class:"text-sm font-medium text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap"},le={class:"text-sm text-gray-500 font-mono"},ie={class:"px-6 py-4 whitespace-nowrap"},ce={class:"text-sm text-gray-900"},pe={class:"px-6 py-4"},me={class:"text-sm text-gray-500"},ue={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},_e={class:"flex gap-2"},he=["href"],xe=["href"],ye={key:0,class:"px-6 py-3 border-t"},ge={class:"flex justify-between items-center"},ve={class:"text-sm text-gray-700"},fe={class:"flex gap-1"},be=["href","innerHTML"],Me=B({__name:"Index",props:{departments:{},companies:{},filters:{}},setup(k){var g,v;const{t:a,locale:C}=F(),_=k,l=f(((g=_.filters)==null?void 0:g.search)||""),i=f(((v=_.filters)==null?void 0:v.company_id)||"");let h;const x=()=>{N.get("/departments",{search:l.value||void 0,company_id:i.value||void 0},{preserveState:!0,replace:!0})};b(l,()=>{clearTimeout(h),h=window.setTimeout(x,300)}),b(i,x);const T=()=>{l.value="",i.value=""},y=o=>C.value==="ar"&&o.name_ar||o.name_en;return(o,c)=>(d(),I(S,null,{default:M(()=>[e("div",$,[e("div",z,[e("h1",D,s(r(a)("departments.title")),1),e("a",H,s(r(a)("departments.create_department")),1)]),e("div",U,[e("div",q,[w(e("input",{"onUpdate:modelValue":c[0]||(c[0]=t=>l.value=t),type:"text",placeholder:r(a)("departments.search_placeholder"),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,8,E),[[V,l.value]])]),e("div",A,[w(e("select",{"onUpdate:modelValue":c[1]||(c[1]=t=>i.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md"},[e("option",G,s(r(a)("departments.all_companies")),1),(d(!0),n(m,null,u(o.companies,t=>(d(),n("option",{key:t.id,value:t.id},s(y(t)),9,J))),128))],512),[[j,i.value]])]),l.value||i.value?(d(),n("button",{key:0,onClick:T,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},s(r(a)("departments.clear")),1)):p("",!0)]),o.departments.data.length===0?(d(),n("div",K,[c[2]||(c[2]=e("div",{class:"text-gray-400 text-6xl mb-4"},"ðŸ¢",-1)),e("h3",O,s(l.value?r(a)("departments.no_departments_found"):r(a)("departments.no_departments")),1),e("p",P,s(l.value?r(a)("departments.try_adjusting_search"):o.companies.length>0?r(a)("departments.create_first_department"):r(a)("departments.create_company_first")),1),!l.value&&o.companies.length>0?(d(),n("a",Q,s(r(a)("departments.create_department")),1)):!l.value&&o.companies.length===0?(d(),n("a",R,s(r(a)("departments.create_company")),1)):p("",!0)])):(d(),n("div",W,[e("table",X,[e("thead",Y,[e("tr",null,[e("th",Z,s(r(a)("departments.department")),1),e("th",ee,s(r(a)("departments.code")),1),e("th",te,s(r(a)("departments.company")),1),e("th",se,s(r(a)("departments.description")),1),e("th",ae,s(r(a)("departments.actions")),1)])]),e("tbody",re,[(d(!0),n(m,null,u(o.departments.data,t=>(d(),n("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",oe,[e("div",de,s(t.name),1)]),e("td",ne,[e("div",le,s(t.code),1)]),e("td",ie,[e("div",ce,s(y(t.company)),1)]),e("td",pe,[e("div",me,s(t.description||"-"),1)]),e("td",ue,[e("div",_e,[e("a",{href:`/departments/${t.id}`,class:"text-blue-600 hover:text-blue-900"},s(r(a)("departments.view")),9,he),e("a",{href:`/departments/${t.id}/edit`,class:"text-gray-600 hover:text-gray-900"},s(r(a)("departments.edit")),9,xe)])])]))),128))])]),o.departments.links.length>3?(d(),n("div",ye,[e("div",ge,[e("div",ve,s(r(a)("departments.showing_results",{from:o.departments.meta.from||0,to:o.departments.meta.to||0,total:o.departments.meta.total})),1),e("div",fe,[(d(!0),n(m,null,u(o.departments.links,t=>(d(),n("a",{key:t.label,href:t.url,innerHTML:t.label,class:L(["px-3 py-2 text-sm border rounded",{"bg-blue-600 text-white border-blue-600":t.active,"text-gray-700 border-gray-300 hover:bg-gray-50":!t.active&&t.url,"text-gray-400 border-gray-200 cursor-not-allowed":!t.url}])},null,10,be))),128))])])])):p("",!0)]))])]),_:1}))}});export{Me as default};
