import{d as O,u as W,p as k,c as Q,a as b,o as _,b as e,e as t,g as G,w as a,f as s,h as r,S as F,t as n,m as V,q as H,v as D,l as J,F as P,r as R,n as I,i as E,W as p}from"./app-DYYlfWlj.js";import{a as X,b as Y,c as Z,d as tt,e as y,f as N,_ as et}from"./AppLayout.vue_vue_type_script_setup_true_lang-Hd9CjPog.js";import{c as S,_ as h}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CT8r1Q5C.js";import{_ as st}from"./Input.vue_vue_type_script_setup_true_lang-Bk2vDVJh.js";import{_ as u,a as c,b as m,c as f,d as at}from"./CardTitle.vue_vue_type_script_setup_true_lang-BeU3nHEy.js";import{_ as w}from"./Badge.vue_vue_type_script_setup_true_lang-C2BHdCvL.js";import{P as lt}from"./plus-fUOJU3rh.js";import{E as ot}from"./eye-D-4QBPre.js";import{P as rt,a as nt}from"./play-m2GfUV0m.js";import{T as dt}from"./trash-2-DuUXeNlC.js";import"./useForwardExpose-DN9NUtqP.js";import"./RovingFocusGroup-DxHbc9ku.js";import"./building-fXNvGxkW.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=S("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=S("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=S("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),mt={class:"space-y-6"},ft={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},_t={class:"flex gap-2"},pt={class:"grid gap-4 md:grid-cols-5"},gt={class:"text-2xl font-bold"},xt={class:"text-2xl font-bold text-green-600"},vt={class:"text-2xl font-bold text-red-600"},bt={class:"text-2xl font-bold text-blue-600"},yt={class:"text-2xl font-bold text-purple-600"},ht={class:"grid gap-4 md:grid-cols-4"},kt={class:"relative"},wt={class:"overflow-x-auto"},St={class:"w-full"},$t={class:"p-4"},Tt={class:"font-medium"},Ct={class:"text-sm text-muted-foreground"},At={class:"p-4"},Ft={class:"font-medium"},Vt={class:"text-sm text-muted-foreground"},Dt={class:"p-4"},Pt={class:"p-4"},It={class:"p-4"},Et={class:"p-4 text-sm text-muted-foreground"},Nt={class:"p-4 text-right"},Bt={key:0,class:"text-center py-8 text-muted-foreground"},Xt=O({__name:"Index",props:{teams:{},stats:{},filters:{}},setup(B){const d=B,{t:Ut}=W(),g=k(d.filters.search||""),x=k(d.filters.status||""),v=k(d.filters.subscription||""),U=Q(()=>[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Teams",href:"/admin/teams"}]),j=i=>{switch(i){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"trial":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"past_due":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"canceled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},q=i=>i?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",$=()=>{p.get("/admin/teams",{search:g.value,status:x.value,subscription:v.value},{preserveState:!0,replace:!0})},z=()=>{g.value="",x.value="",v.value="",p.get("/admin/teams",{},{preserveState:!0,replace:!0})},L=i=>{confirm("Are you sure you want to suspend this team?")&&p.post(`/admin/teams/${i}/suspend`,{},{preserveScroll:!0})},M=i=>{p.post(`/admin/teams/${i}/activate`,{},{preserveScroll:!0})},K=i=>{confirm("Are you sure you want to delete this team? This action cannot be undone.")&&p.delete(`/admin/teams/${i}`,{preserveScroll:!0})};return(i,l)=>(_(),b(P,null,[e(t(G),{title:"Admin - Teams"}),e(et,{breadcrumbs:U.value},{default:a(()=>[s("div",mt,[s("div",ft,[l[5]||(l[5]=s("div",null,[s("h1",{class:"text-3xl font-bold tracking-tight"},"Teams Management"),s("p",{class:"text-muted-foreground"}," Manage all teams across the platform ")],-1)),s("div",_t,[e(t(h),{onClick:z,variant:"outline"},{default:a(()=>l[3]||(l[3]=[r(" Clear Filters ")])),_:1,__:[3]}),e(t(h),{"as-child":""},{default:a(()=>[e(t(F),{href:"/admin/teams/create"},{default:a(()=>[e(t(lt),{class:"mr-2 h-4 w-4"}),l[4]||(l[4]=r(" Create Team "))]),_:1,__:[4]})]),_:1})])]),s("div",pt,[e(t(u),null,{default:a(()=>[e(t(c),{class:"pb-2"},{default:a(()=>[e(t(m),{class:"text-sm font-medium"},{default:a(()=>l[6]||(l[6]=[r("Total Teams")])),_:1,__:[6]})]),_:1}),e(t(f),null,{default:a(()=>[s("div",gt,n(d.stats.total_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(c),{class:"pb-2"},{default:a(()=>[e(t(m),{class:"text-sm font-medium"},{default:a(()=>l[7]||(l[7]=[r("Active")])),_:1,__:[7]})]),_:1}),e(t(f),null,{default:a(()=>[s("div",xt,n(d.stats.active_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(c),{class:"pb-2"},{default:a(()=>[e(t(m),{class:"text-sm font-medium"},{default:a(()=>l[8]||(l[8]=[r("Suspended")])),_:1,__:[8]})]),_:1}),e(t(f),null,{default:a(()=>[s("div",vt,n(d.stats.suspended_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(c),{class:"pb-2"},{default:a(()=>[e(t(m),{class:"text-sm font-medium"},{default:a(()=>l[9]||(l[9]=[r("On Trial")])),_:1,__:[9]})]),_:1}),e(t(f),null,{default:a(()=>[s("div",bt,n(d.stats.trial_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(c),{class:"pb-2"},{default:a(()=>[e(t(m),{class:"text-sm font-medium"},{default:a(()=>l[10]||(l[10]=[r("Paid")])),_:1,__:[10]})]),_:1}),e(t(f),null,{default:a(()=>[s("div",yt,n(d.stats.active_subscriptions),1)]),_:1})]),_:1})]),e(t(u),null,{default:a(()=>[e(t(c),null,{default:a(()=>[e(t(m),{class:"text-lg"},{default:a(()=>l[11]||(l[11]=[r("Filters")])),_:1,__:[11]})]),_:1}),e(t(f),null,{default:a(()=>[s("div",ht,[s("div",kt,[e(t(ct),{class:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e(t(st),{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=o=>g.value=o),placeholder:"Search teams...",class:"pl-10",onKeyup:H($,["enter"])},null,8,["modelValue"])]),V(s("select",{"onUpdate:modelValue":l[1]||(l[1]=o=>x.value=o),class:"w-full px-3 py-2 text-sm bg-background border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"},l[12]||(l[12]=[s("option",{value:""},"All Statuses",-1),s("option",{value:"active"},"Active",-1),s("option",{value:"suspended"},"Suspended",-1)]),512),[[D,x.value]]),V(s("select",{"onUpdate:modelValue":l[2]||(l[2]=o=>v.value=o),class:"w-full px-3 py-2 text-sm bg-background border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"},l[13]||(l[13]=[s("option",{value:""},"All Subscriptions",-1),s("option",{value:"trial"},"Trial",-1),s("option",{value:"active"},"Active",-1),s("option",{value:"past_due"},"Past Due",-1),s("option",{value:"canceled"},"Canceled",-1)]),512),[[D,v.value]]),e(t(h),{onClick:$,class:"w-full"},{default:a(()=>[e(t(ut),{class:"mr-2 h-4 w-4"}),l[14]||(l[14]=r(" Apply Filters "))]),_:1,__:[14]})])]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(c),null,{default:a(()=>[e(t(m),null,{default:a(()=>[r("Teams ("+n(d.teams.total)+")",1)]),_:1}),e(t(at),null,{default:a(()=>[r(" Showing "+n(d.teams.data.length)+" of "+n(d.teams.total)+" teams ",1)]),_:1})]),_:1}),e(t(f),null,{default:a(()=>[s("div",wt,[s("table",St,[l[20]||(l[20]=s("thead",null,[s("tr",{class:"border-b"},[s("th",{class:"text-left p-4 font-medium"},"Team"),s("th",{class:"text-left p-4 font-medium"},"Owner"),s("th",{class:"text-left p-4 font-medium"},"Users"),s("th",{class:"text-left p-4 font-medium"},"Status"),s("th",{class:"text-left p-4 font-medium"},"Subscription"),s("th",{class:"text-left p-4 font-medium"},"Created"),s("th",{class:"text-right p-4 font-medium"},"Actions")])],-1)),s("tbody",null,[(_(!0),b(P,null,R(d.teams.data,o=>{var T,C;return _(),b("tr",{key:o.id,class:"border-b hover:bg-muted/50"},[s("td",$t,[s("div",null,[s("div",Tt,n(o.name),1),s("div",Ct,n(o.slug),1)])]),s("td",At,[s("div",null,[s("div",Ft,n((T=o.owner)==null?void 0:T.name),1),s("div",Vt,n((C=o.owner)==null?void 0:C.email),1)])]),s("td",Dt,[e(t(w),{variant:"secondary"},{default:a(()=>[r(n(o.users_count||0),1)]),_:2},1024)]),s("td",Pt,[e(t(w),{class:I(q(o.is_active))},{default:a(()=>[r(n(o.is_active?"Active":"Suspended"),1)]),_:2},1032,["class"])]),s("td",It,[e(t(w),{class:I(j(o.subscription_status))},{default:a(()=>[r(n(o.subscription_status),1)]),_:2},1032,["class"])]),s("td",Et,n(new Date(o.created_at).toLocaleDateString()),1),s("td",Nt,[e(t(X),null,{default:a(()=>[e(t(Y),{"as-child":""},{default:a(()=>[e(t(h),{variant:"ghost",size:"sm"},{default:a(()=>[e(t(it),{class:"h-4 w-4"})]),_:1})]),_:1}),e(t(Z),{align:"end"},{default:a(()=>[e(t(tt),null,{default:a(()=>l[15]||(l[15]=[r("Actions")])),_:1,__:[15]}),e(t(y),{"as-child":""},{default:a(()=>[e(t(F),{href:`/admin/teams/${o.id}`},{default:a(()=>[e(t(ot),{class:"mr-2 h-4 w-4"}),l[16]||(l[16]=r(" View Details "))]),_:2,__:[16]},1032,["href"])]),_:2},1024),e(t(N)),o.is_active?(_(),E(t(y),{key:0,onClick:A=>L(o.id),class:"text-orange-600"},{default:a(()=>[e(t(rt),{class:"mr-2 h-4 w-4"}),l[17]||(l[17]=r(" Suspend Team "))]),_:2,__:[17]},1032,["onClick"])):(_(),E(t(y),{key:1,onClick:A=>M(o.id),class:"text-green-600"},{default:a(()=>[e(t(nt),{class:"mr-2 h-4 w-4"}),l[18]||(l[18]=r(" Activate Team "))]),_:2,__:[18]},1032,["onClick"])),e(t(N)),e(t(y),{onClick:A=>K(o.id),class:"text-red-600"},{default:a(()=>[e(t(dt),{class:"mr-2 h-4 w-4"}),l[19]||(l[19]=r(" Delete Team "))]),_:2,__:[19]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])])}),128))])])]),d.teams.total===0?(_(),b("div",Bt," No teams found matching your criteria. ")):J("",!0)]),_:1})]),_:1})])]),_:1},8,["breadcrumbs"])],64))}});export{Xt as default};
