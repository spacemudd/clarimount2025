import{d as j,u as z,p as F,c as O,x as W,a as f,o as u,b as s,e,g as q,w as l,f as a,t as d,i as y,h as i,l as x,k as H,m as G,v as J,n as A,F as $,r as D,W as C}from"./app-DYYlfWlj.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-Hd9CjPog.js";import{c as Q,_}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CT8r1Q5C.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-Bk2vDVJh.js";import{_ as k,a as w}from"./InputError.vue_vue_type_script_setup_true_lang-WSWZPRFf.js";import{_ as c,a as g,b as v,c as b,d as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-BeU3nHEy.js";import{_ as S}from"./Badge.vue_vue_type_script_setup_true_lang-C2BHdCvL.js";import{S as R}from"./square-pen-DIAq7-5G.js";import{P as X,a as Y}from"./play-m2GfUV0m.js";import{T as Z}from"./trash-2-DuUXeNlC.js";import{U as ee}from"./users-VF8UvErH.js";import{C as te}from"./calendar-DoJvf-bC.js";import"./useForwardExpose-DN9NUtqP.js";import"./RovingFocusGroup-DxHbc9ku.js";import"./building-fXNvGxkW.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=Q("ActivityIcon",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ae={class:"space-y-6"},le={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},ne={class:"text-3xl font-bold tracking-tight"},ie={class:"text-muted-foreground"},de={class:"flex gap-2"},oe={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},re={class:"text-2xl font-bold"},ue={class:"text-2xl font-bold"},me={class:"text-sm font-medium"},fe={class:"text-xs text-muted-foreground"},pe={class:"text-sm font-medium"},_e={key:0,class:"text-xs text-muted-foreground"},ce={class:"grid gap-6 lg:grid-cols-2"},ge={class:"space-y-2"},ve={class:"space-y-2"},be={class:"space-y-2"},ye={key:0,class:"space-y-2"},xe={class:"flex gap-2"},ke={key:1,class:"space-y-4"},we={class:"font-medium"},Se={class:"font-mono text-sm"},$e={class:"font-medium"},Ce={class:"text-sm text-muted-foreground"},Te={class:"space-y-4"},Ve={class:"font-medium"},Ae={class:"text-sm text-muted-foreground"},De={class:"flex gap-1 mt-1"},Ne={class:"flex items-center gap-1"},Ue={key:0,class:"text-center py-4 text-muted-foreground"},Ke=j({__name:"Show",props:{team:{},teamStats:{}},setup(U){const m=U,{t:Be}=z(),p=F(!1),B=O(()=>[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Teams",href:"/admin/teams"},{title:m.team.name,href:`/admin/teams/${m.team.id}`}]),o=W({name:m.team.name,description:m.team.description||"",subscription_status:m.team.subscription_status,trial_days:14,is_active:m.team.is_active}),E=n=>{switch(n){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"trial":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"past_due":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"canceled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},M=n=>n?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",P=()=>{o.put(`/admin/teams/${m.team.id}`,{onSuccess:()=>{p.value=!1}})},I=()=>{confirm("Are you sure you want to suspend this team?")&&C.post(`/admin/teams/${m.team.id}/suspend`)},L=()=>{C.post(`/admin/teams/${m.team.id}/activate`)},h=()=>{confirm("Are you sure you want to delete this team? This action cannot be undone.")&&C.delete(`/admin/teams/${m.team.id}`)};return(n,t)=>(u(),f($,null,[s(e(q),{title:`Admin - ${n.team.name}`},null,8,["title"]),s(K,{breadcrumbs:B.value},{default:l(()=>[a("div",ae,[a("div",le,[a("div",null,[a("h1",ne,d(n.team.name),1),a("p",ie,d(n.team.description||"No description provided"),1)]),a("div",de,[s(e(_),{onClick:t[0]||(t[0]=r=>p.value=!p.value),variant:"outline"},{default:l(()=>[s(e(R),{class:"mr-2 h-4 w-4"}),i(" "+d(p.value?"Cancel":"Edit"),1)]),_:1}),n.team.is_active?(u(),y(e(_),{key:0,onClick:I,variant:"destructive"},{default:l(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=i(" Suspend "))]),_:1,__:[6]})):(u(),y(e(_),{key:1,onClick:L,variant:"default"},{default:l(()=>[s(e(Y),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=i(" Activate "))]),_:1,__:[7]})),s(e(_),{onClick:h,variant:"destructive"},{default:l(()=>[s(e(Z),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=i(" Delete "))]),_:1,__:[8]})])]),a("div",oe,[s(e(c),null,{default:l(()=>[s(e(g),{class:"pb-2"},{default:l(()=>[s(e(v),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(ee),{class:"h-4 w-4"}),t[9]||(t[9]=i(" Total Users "))]),_:1,__:[9]})]),_:1}),s(e(b),null,{default:l(()=>[a("div",re,d(n.teamStats.total_users),1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(g),{class:"pb-2"},{default:l(()=>[s(e(v),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(se),{class:"h-4 w-4"}),t[10]||(t[10]=i(" Active Users "))]),_:1,__:[10]})]),_:1}),s(e(b),null,{default:l(()=>[a("div",ue,d(n.teamStats.active_users),1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(g),{class:"pb-2"},{default:l(()=>[s(e(v),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(te),{class:"h-4 w-4"}),t[11]||(t[11]=i(" Created "))]),_:1,__:[11]})]),_:1}),s(e(b),null,{default:l(()=>[a("div",me,d(n.teamStats.created_ago),1),a("div",fe,d(n.teamStats.days_since_created)+" days ago",1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(g),{class:"pb-2"},{default:l(()=>[s(e(v),{class:"text-sm font-medium"},{default:l(()=>t[12]||(t[12]=[i("Trial Status")])),_:1,__:[12]})]),_:1}),s(e(b),null,{default:l(()=>[a("div",pe,d(n.teamStats.trial_status),1),n.team.trial_ends_at?(u(),f("div",_e," Ends: "+d(new Date(n.team.trial_ends_at).toLocaleDateString()),1)):x("",!0)]),_:1})]),_:1})]),a("div",ce,[s(e(c),null,{default:l(()=>[s(e(g),null,{default:l(()=>[s(e(v),null,{default:l(()=>t[13]||(t[13]=[i("Team Information")])),_:1,__:[13]}),s(e(N),null,{default:l(()=>t[14]||(t[14]=[i("Basic team details and settings")])),_:1,__:[14]})]),_:1}),s(e(b),null,{default:l(()=>[p.value?(u(),f("form",{key:0,onSubmit:H(P,["prevent"]),class:"space-y-4"},[a("div",ge,[s(e(k),{for:"name"},{default:l(()=>t[15]||(t[15]=[i("Team Name")])),_:1,__:[15]}),s(e(T),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":t[1]||(t[1]=r=>e(o).name=r)},null,8,["modelValue"]),s(w,{message:e(o).errors.name},null,8,["message"])]),a("div",ve,[s(e(k),{for:"description"},{default:l(()=>t[16]||(t[16]=[i("Description")])),_:1,__:[16]}),s(e(T),{id:"description",modelValue:e(o).description,"onUpdate:modelValue":t[2]||(t[2]=r=>e(o).description=r)},null,8,["modelValue"]),s(w,{message:e(o).errors.description},null,8,["message"])]),a("div",be,[s(e(k),{for:"subscription_status"},{default:l(()=>t[17]||(t[17]=[i("Subscription Status")])),_:1,__:[17]}),G(a("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>e(o).subscription_status=r),class:"w-full px-3 py-2 text-sm bg-background border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"},t[18]||(t[18]=[a("option",{value:"trial"},"Trial",-1),a("option",{value:"active"},"Active",-1),a("option",{value:"past_due"},"Past Due",-1),a("option",{value:"canceled"},"Canceled",-1)]),512),[[J,e(o).subscription_status]]),s(w,{message:e(o).errors.subscription_status},null,8,["message"])]),e(o).subscription_status==="trial"?(u(),f("div",ye,[s(e(k),{for:"trial_days"},{default:l(()=>t[19]||(t[19]=[i("Extend Trial (Days)")])),_:1,__:[19]}),s(e(T),{id:"trial_days",modelValue:e(o).trial_days,"onUpdate:modelValue":t[4]||(t[4]=r=>e(o).trial_days=r),modelModifiers:{number:!0},type:"number",min:"0",max:"365"},null,8,["modelValue"]),s(w,{message:e(o).errors.trial_days},null,8,["message"])])):x("",!0),a("div",xe,[s(e(_),{type:"submit",disabled:e(o).processing},{default:l(()=>[i(d(e(o).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"]),s(e(_),{type:"button",variant:"outline",onClick:t[5]||(t[5]=r=>p.value=!1)},{default:l(()=>t[20]||(t[20]=[i(" Cancel ")])),_:1,__:[20]})])],32)):(u(),f("div",ke,[a("div",null,[t[21]||(t[21]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Name",-1)),a("p",we,d(n.team.name),1)]),a("div",null,[t[22]||(t[22]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Slug",-1)),a("p",Se,d(n.team.slug),1)]),a("div",null,[t[23]||(t[23]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Description",-1)),a("p",null,d(n.team.description||"No description provided"),1)]),a("div",null,[t[24]||(t[24]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Status",-1)),a("div",null,[s(e(S),{class:A(M(n.team.is_active))},{default:l(()=>[i(d(n.team.is_active?"Active":"Suspended"),1)]),_:1},8,["class"])])]),a("div",null,[t[25]||(t[25]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Subscription",-1)),a("div",null,[s(e(S),{class:A(E(n.team.subscription_status))},{default:l(()=>[i(d(n.team.subscription_status),1)]),_:1},8,["class"])])]),a("div",null,[t[26]||(t[26]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Owner",-1)),a("div",null,[a("p",$e,d(n.team.owner.name),1),a("p",Ce,d(n.team.owner.email),1)])])]))]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(g),null,{default:l(()=>[s(e(v),null,{default:l(()=>[i("Team Members ("+d(n.team.users.length)+")",1)]),_:1}),s(e(N),null,{default:l(()=>t[27]||(t[27]=[i("Users belonging to this team")])),_:1,__:[27]})]),_:1}),s(e(b),null,{default:l(()=>[a("div",Te,[(u(!0),f($,null,D(n.team.users,r=>(u(),f("div",{key:r.id,class:"flex items-start justify-between p-3 border rounded"},[a("div",null,[a("p",Ve,d(r.name),1),a("p",Ae,d(r.email),1),a("div",De,[(u(!0),f($,null,D(r.roles,V=>(u(),y(e(S),{key:V.id,variant:"secondary",class:"text-xs"},{default:l(()=>[i(d(V.name.replace(`-${n.team.id}`,"").replace("team-","")),1)]),_:2},1024))),128))])]),a("div",Ne,[r.id===n.team.owner_id?(u(),y(e(S),{key:0,variant:"default",class:"text-xs"},{default:l(()=>t[28]||(t[28]=[i(" Owner ")])),_:1,__:[28]})):x("",!0)])]))),128)),n.team.users.length===0?(u(),f("div",Ue," No team members found ")):x("",!0)])]),_:1})]),_:1})])])]),_:1},8,["breadcrumbs"])],64))}});export{Ke as default};
