import{d as S,u as D,c as y,k as I,i as h,o as p,w as i,f as t,b as s,e,l as L,m as v,g as n,t as l,n as u,p as x,a as b,F as V,r as w,v as T,z as j,s as q}from"./app-CxR3Rgxi.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-BJdKCi8B.js";import{_ as $}from"./index-BVKlX1El.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-DXd3euAp.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-CUDsUqIl.js";import{_ as k,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-CIRecHqL.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-_FHY3Eph.js";import{_ as z,a as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-BPQ0Tuht.js";import{_ as A}from"./Heading.vue_vue_type_script_setup_true_lang-BVhMLek1.js";import{_ as f}from"./InputError.vue_vue_type_script_setup_true_lang-DnAHSIpy.js";import{_ as G}from"./Icon.vue_vue_type_script_setup_true_lang-BFRX6vCk.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardExpose-3NUKWST4.js";import"./x-DHtexKo2.js";import"./building-rc9xLOpA.js";import"./users-C6UN0_C7.js";import"./activity-BaRmT7s_.js";import"./arrow-left-DC8ZmGMT.js";import"./calendar-vRuk-Z2F.js";import"./chart-column-BPj_LaoC.js";import"./chevron-down-D8K61LsM.js";import"./circle-x-ISUweIqP.js";import"./clock-vNtPzlSW.js";import"./upload-papkBZbf.js";import"./ellipsis-vertical-BPRe-IgJ.js";import"./search-uj3VNKbk.js";import"./save-BdMXzmsw.js";import"./eye-BMzTKKjF.js";import"./user-I9zMvK7q.js";import"./loader-circle-CgTglvYZ.js";import"./sun-BgMi5bTu.js";import"./play-BaybDote.js";import"./plus-BfkAuTXA.js";import"./rotate-ccw-C-VOvnJY.js";import"./square-pen-BXWLyNs3.js";import"./trash-2-mxqlWjR9.js";import"./trending-up-Bgp_FMMw.js";import"./triangle-alert-BCogt5Aq.js";const J={class:"space-y-6"},K={class:"max-w-2xl"},O={class:"text-sm text-gray-600 mt-1"},Q={value:""},R=["value"],W={class:"text-sm text-gray-600 mt-1"},X=["placeholder"],Y={class:"grid grid-cols-2 gap-4"},Z={class:"text-sm text-gray-600 mt-1"},ee={class:"flex space-x-2"},oe={class:"space-y-4"},se={class:"p-4 bg-red-50 rounded-lg"},re={class:"text-sm text-red-700"},te={class:"mt-2 text-sm text-red-600 list-disc list-inside"},ae={class:"flex items-center justify-between"},ie=S({__name:"Edit",props:{category:{},parentCategories:{},company:{}},setup(N){const{t:r}=D(),c=N,E=y(()=>[{title:r("nav.dashboard"),href:"/dashboard"},{title:r("asset_categories.title"),href:"/asset-categories"},{title:c.category.name,href:`/asset-categories/${c.category.id}`},{title:r("asset_categories.edit"),href:`/asset-categories/${c.category.id}/edit`}]),F=y(()=>c.parentCategories.filter(m=>m.id!==c.category.id)),o=I({name:c.category.name,code:c.category.code||"",description:c.category.description||"",icon:c.category.icon||"",color:c.category.color||"#6b7280",parent_id:c.category.parent_id||""}),M=()=>{o.put(route("asset-categories.update",c.category.id))};return(m,d)=>(p(),h(P,{breadcrumbs:E.value},{default:i(()=>[t("div",J,[s(A,{title:e(r)("asset_categories.edit")},null,8,["title"]),t("div",K,[t("form",{onSubmit:L(M,["prevent"]),class:"space-y-6"},[s(e(k),null,{default:i(()=>[s(e(z),null,{default:i(()=>[s(e(B),null,{default:i(()=>[n(l(e(r)("asset_categories.form.category_details")),1)]),_:1}),s(e(U),null,{default:i(()=>[n(l(e(r)("asset_categories.form.category_details_description")),1)]),_:1})]),_:1}),s(e(C),{class:"space-y-6"},{default:i(()=>[t("div",null,[s(e(_),{for:"name",class:"required"},{default:i(()=>[n(l(e(r)("asset_categories.form.name")),1)]),_:1}),s(e(g),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":d[0]||(d[0]=a=>e(o).name=a),type:"text",placeholder:e(r)("asset_categories.form.name_placeholder"),class:u({"border-red-500":e(o).errors.name})},null,8,["modelValue","placeholder","class"]),s(f,{message:e(o).errors.name},null,8,["message"])]),t("div",null,[s(e(_),{for:"code"},{default:i(()=>[n(l(e(r)("asset_categories.form.code")),1)]),_:1}),s(e(g),{id:"code",modelValue:e(o).code,"onUpdate:modelValue":d[1]||(d[1]=a=>e(o).code=a),type:"text",placeholder:e(r)("asset_categories.form.code_placeholder"),class:u({"border-red-500":e(o).errors.code})},null,8,["modelValue","placeholder","class"]),s(f,{message:e(o).errors.code},null,8,["message"]),t("p",O,l(e(r)("asset_categories.form.code_help")),1)]),t("div",null,[s(e(_),{for:"parent_id"},{default:i(()=>[n(l(e(r)("asset_categories.form.parent_category")),1)]),_:1}),x(t("select",{id:"parent_id","onUpdate:modelValue":d[2]||(d[2]=a=>e(o).parent_id=a),class:u(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(o).errors.parent_id}])},[t("option",Q,l(e(r)("asset_categories.form.no_parent")),1),(p(!0),b(V,null,w(F.value,a=>(p(),b("option",{key:a.id,value:a.id},l("â€”".repeat(a.depth||0))+" "+l(a.name),9,R))),128))],2),[[T,e(o).parent_id]]),s(f,{message:e(o).errors.parent_id},null,8,["message"]),t("p",W,l(e(r)("asset_categories.form.parent_help")),1)]),t("div",null,[s(e(_),{for:"description"},{default:i(()=>[n(l(e(r)("asset_categories.form.description")),1)]),_:1}),x(t("textarea",{id:"description","onUpdate:modelValue":d[3]||(d[3]=a=>e(o).description=a),rows:"3",class:u(["flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(o).errors.description}]),placeholder:e(r)("asset_categories.form.description_placeholder")},null,10,X),[[j,e(o).description]]),s(f,{message:e(o).errors.description},null,8,["message"])]),t("div",Y,[t("div",null,[s(e(_),{for:"icon"},{default:i(()=>[n(l(e(r)("asset_categories.form.icon")),1)]),_:1}),s(e(g),{id:"icon",modelValue:e(o).icon,"onUpdate:modelValue":d[4]||(d[4]=a=>e(o).icon=a),type:"text",placeholder:e(r)("asset_categories.form.icon_placeholder"),class:u({"border-red-500":e(o).errors.icon})},null,8,["modelValue","placeholder","class"]),s(f,{message:e(o).errors.icon},null,8,["message"]),t("p",Z,l(e(r)("asset_categories.form.icon_help")),1)]),t("div",null,[s(e(_),{for:"color"},{default:i(()=>[n(l(e(r)("asset_categories.form.color")),1)]),_:1}),t("div",ee,[s(e(g),{id:"color",modelValue:e(o).color,"onUpdate:modelValue":d[5]||(d[5]=a=>e(o).color=a),type:"color",class:u(["w-16 h-10",{"border-red-500":e(o).errors.color}])},null,8,["modelValue","class"]),s(e(g),{modelValue:e(o).color,"onUpdate:modelValue":d[6]||(d[6]=a=>e(o).color=a),type:"text",class:u(["flex-1",{"border-red-500":e(o).errors.color}]),placeholder:e(r)("asset_categories.form.color_placeholder")},null,8,["modelValue","placeholder","class"])]),s(f,{message:e(o).errors.color},null,8,["message"])])])]),_:1})]),_:1}),m.category.children&&m.category.children.length>0?(p(),h(e(k),{key:0,class:"border-red-200"},{default:i(()=>[s(e(z),null,{default:i(()=>[s(e(B),{class:"text-red-700"},{default:i(()=>[n(l(e(r)("asset_categories.form.danger_zone")),1)]),_:1}),s(e(U),{class:"text-red-600"},{default:i(()=>[n(l(e(r)("asset_categories.form.danger_zone_description")),1)]),_:1})]),_:1}),s(e(C),null,{default:i(()=>[t("div",oe,[t("div",se,[t("p",re,l(e(r)("asset_categories.form.has_children_warning",{count:m.category.children.length})),1),t("ul",te,[(p(!0),b(V,null,w(m.category.children,a=>(p(),b("li",{key:a.id},l(a.name),1))),128))])])])]),_:1})]),_:1})):v("",!0),t("div",ae,[s(e($),{type:"button",variant:"outline",asChild:""},{default:i(()=>[s(e(q),{href:m.route("asset-categories.index")},{default:i(()=>[n(l(e(r)("common.cancel")),1)]),_:1},8,["href"])]),_:1}),s(e($),{type:"submit",disabled:e(o).processing},{default:i(()=>[e(o).processing?(p(),h(G,{key:0,name:"LoaderCircle",class:"mr-2 h-4 w-4 animate-spin"})):v("",!0),n(" "+l(e(o).processing?e(r)("common.updating"):e(r)("common.update")),1)]),_:1},8,["disabled"])])],32)])])]),_:1},8,["breadcrumbs"]))}}),Je=H(ie,[["__scopeId","data-v-c41fdf2b"]]);export{Je as default};
