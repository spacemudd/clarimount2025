import{d as $,u as j,c as N,E as V,a as l,o as c,b as _,f as t,e as s,h as M,t as e,w as m,g as n,m as T,n as E,F as f,r as v}from"./app-Bc8DJoIw.js";import{_ as w}from"./index-Bkfj5RZf.js";import{_ as F}from"./Badge.vue_vue_type_script_setup_true_lang-B_Y-C1Z5.js";import{_ as C}from"./Icon.vue_vue_type_script_setup_true_lang-HtpKbsmg.js";import"./activity-B38cCwye.js";import"./arrow-left-DBs0UCva.js";import"./x-Bpbu-D7u.js";import"./building-CRGTLLXw.js";import"./calendar-OVtV47JS.js";import"./chevron-down-BXdb6Pvf.js";import"./search-5g_YNHla.js";import"./eye-DvPHRpkD.js";import"./user-DNuaKltC.js";import"./loader-circle-CDtL2eBU.js";import"./sun-61JU-X1P.js";import"./play-BsEdzLls.js";import"./plus-4ZVyP4bZ.js";import"./square-pen-qZPIacBp.js";import"./trash-2-D0MYhPD-.js";import"./triangle-alert-C96xWEZ3.js";import"./users-DTM0PXos.js";const H={class:"container mx-auto py-8 print:py-0"},U={class:"flex justify-between items-center mb-6 print:hidden"},z={class:"text-2xl font-bold"},I={class:"text-muted-foreground"},P={class:"flex gap-2"},q={class:"bg-white shadow-lg print:shadow-none"},G={class:"p-8 print:p-4"},J={class:"text-center mb-6"},K={class:"text-xl font-bold"},O={class:"text-sm text-muted-foreground"},Q={class:"text-center border-b-2 border-gray-800 pb-4 mb-6"},R={class:"text-2xl font-bold mb-2"},W={dir:"ltr"},X={class:"grid grid-cols-2 gap-8 mb-6"},Y={class:"mb-2"},Z={class:"font-semibold text-gray-600"},tt={class:"mb-2"},et={class:"font-semibold text-gray-600"},st={class:"mb-2"},ot={class:"font-semibold text-gray-600"},dt={class:"mb-2"},rt={class:"font-semibold text-gray-600"},nt={class:"mb-2"},at={class:"font-semibold text-gray-600"},lt={class:"mb-2"},ct={class:"font-semibold text-gray-600"},it={key:0,class:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6"},_t={class:"mb-8"},yt={class:"text-lg font-bold mb-4"},ut={key:0,class:"overflow-x-auto"},pt={class:"w-full border-collapse border border-gray-300 text-sm"},mt={class:"bg-gray-50"},bt={class:"border border-gray-300 px-3 py-2 text-left"},ht={class:"border border-gray-300 px-3 py-2 text-left"},gt={class:"border border-gray-300 px-3 py-2 text-left"},xt={class:"border border-gray-300 px-3 py-2 text-left"},ft={class:"border border-gray-300 px-3 py-2 text-left"},vt={class:"border border-gray-300 px-3 py-2 text-left"},wt={class:"border border-gray-300 px-3 py-2 text-left"},Ct={class:"border border-gray-300 px-3 py-2"},kt={class:"border border-gray-300 px-3 py-2"},At={class:"border border-gray-300 px-3 py-2"},St={class:"border border-gray-300 px-3 py-2"},Bt={class:"border border-gray-300 px-3 py-2"},Dt={class:"border border-gray-300 px-3 py-2"},Lt={class:"border border-gray-300 px-3 py-2"},$t={key:1,class:"text-center py-8 text-gray-500 italic"},jt={class:"mb-8"},Nt={class:"text-lg font-bold mb-4"},Vt={key:0,class:"overflow-x-auto"},Mt={class:"w-full border-collapse border border-gray-300 text-sm"},Tt={class:"bg-gray-50"},Et={class:"border border-gray-300 px-3 py-2 text-left"},Ft={class:"border border-gray-300 px-3 py-2 text-left"},Ht={class:"border border-gray-300 px-3 py-2 text-left"},Ut={class:"border border-gray-300 px-3 py-2 text-left"},zt={class:"border border-gray-300 px-3 py-2 text-left"},It={class:"border border-gray-300 px-3 py-2 text-left"},Pt={class:"border border-gray-300 px-3 py-2 text-left"},qt={class:"border border-gray-300 px-3 py-2"},Gt={class:"border border-gray-300 px-3 py-2"},Jt={class:"border border-gray-300 px-3 py-2"},Kt={class:"border border-gray-300 px-3 py-2"},Ot={class:"border border-gray-300 px-3 py-2"},Qt={class:"border border-gray-300 px-3 py-2"},Rt={class:"border border-gray-300 px-3 py-2"},Wt={key:1,class:"text-center py-8 text-gray-500 italic"},Xt={class:"mb-8"},Yt={class:"text-lg font-bold mb-4"},Zt={class:"text-sm space-y-2 pl-6"},te={class:"list-disc"},ee={class:"list-disc"},se={class:"list-disc"},oe={class:"list-disc"},de={class:"list-disc"},re={class:"print:mt-12"},ne={class:"text-lg font-bold mb-6"},ae={class:"grid grid-cols-2 gap-8"},le={class:"border border-gray-800 h-20 relative mb-4"},ce={class:"absolute bottom-1 left-2 text-xs text-gray-600"},ie={class:"text-center"},_e={class:"border border-gray-800 h-20 relative mb-4"},ye={class:"absolute bottom-1 left-2 text-xs text-gray-600"},ue={class:"text-center"},pe={class:"mt-8 text-center text-xs text-gray-500 print:mt-12"},me=["innerHTML"],Fe=$({__name:"CustodyChangeDocument",props:{custodyChange:{},employee:{},previousAssets:{},newAssets:{},generatedAt:{},locale:{}},setup(k){const i=k,{locale:A,t:o}=j(),S=N(()=>i.employee.department?typeof i.employee.department=="object"&&i.employee.department.name?i.employee.department.name:typeof i.employee.department=="string"?i.employee.department:o("custody.na"):o("custody.na"));V(()=>{i.locale&&(A.value=i.locale)});const B=d=>{switch(d){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"signed":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},D=()=>{window.print()},L=()=>{window.history.back()};return(d,a)=>{var b,h,g,x;return c(),l("div",null,[_(s(M),{title:s(o)("custody.document_title")},null,8,["title"]),t("div",H,[t("div",U,[t("div",null,[t("h1",z,e(s(o)("custody.document_title")),1),t("p",I,e(s(o)("custody.document_id"))+": "+e(d.custodyChange.id),1)]),t("div",P,[_(s(w),{variant:"outline",onClick:L},{default:m(()=>[_(C,{name:"ArrowLeft",class:"mr-2 h-4 w-4"}),n(" "+e(s(o)("custody.back")),1)]),_:1}),_(s(w),{onClick:D},{default:m(()=>[_(C,{name:"Printer",class:"mr-2 h-4 w-4"}),n(" "+e(s(o)("custody.print")),1)]),_:1})])]),t("div",q,[t("div",G,[t("div",J,[t("h2",K,e(((b=d.employee.company)==null?void 0:b.name_ar)||"Company"),1),t("p",O,e(((h=d.employee.company)==null?void 0:h.company_email)||""),1)]),t("div",Q,[t("h1",R,e(s(o)("custody.asset_custody_change_form")),1),t("p",null,[t("strong",null,e(s(o)("custody.document_id"))+":",1),n(" "+e(d.custodyChange.id.toString().padStart(4,"0")),1)]),t("p",null,[t("strong",null,e(s(o)("custody.date"))+":",1),a[0]||(a[0]=n()),t("span",W,e(new Date(d.custodyChange.created_at).toLocaleDateString()),1)]),_(s(F),{class:E([B(d.custodyChange.status),"mt-2"])},{default:m(()=>[n(e(s(o)("custody.status_"+d.custodyChange.status)),1)]),_:1},8,["class"])]),t("div",X,[t("div",null,[t("div",Y,[t("span",Z,e(s(o)("custody.employee_name"))+":",1),n(" "+e(d.employee.full_name),1)]),t("div",tt,[t("span",et,e(s(o)("custody.employee_id"))+":",1),n(" "+e(d.employee.employee_id),1)]),t("div",st,[t("span",ot,e(s(o)("custody.email"))+":",1),n(" "+e(d.employee.email),1)])]),t("div",null,[t("div",dt,[t("span",rt,e(s(o)("custody.department"))+":",1),n(" "+e(S.value),1)]),t("div",nt,[t("span",at,e(s(o)("custody.job_title"))+":",1),n(" "+e(d.employee.job_title||s(o)("custody.na")),1)]),t("div",lt,[t("span",ct,e(s(o)("custody.updated_by"))+":",1),n(" "+e(((g=d.custodyChange.updatedBy)==null?void 0:g.name)||"System"),1)])])]),d.custodyChange.changes_summary?(c(),l("div",it,[t("strong",null,e(s(o)("custody.change_summary"))+":",1),n(" "+e(d.custodyChange.changes_summary),1)])):T("",!0),t("div",_t,[t("h2",yt,e(s(o)("custody.previous_custody"))+" ("+e(d.previousAssets.length)+" "+e(s(o)("custody.items"))+")",1),d.previousAssets.length>0?(c(),l("div",ut,[t("table",pt,[t("thead",null,[t("tr",mt,[t("th",bt,e(s(o)("custody.asset_tag")),1),t("th",ht,e(s(o)("custody.description")),1),t("th",gt,e(s(o)("custody.model_name")),1),t("th",xt,e(s(o)("custody.serial_number")),1),t("th",ft,e(s(o)("custody.category")),1),t("th",vt,e(s(o)("custody.location")),1),t("th",wt,e(s(o)("custody.condition")),1)])]),t("tbody",null,[(c(!0),l(f,null,v(d.previousAssets,r=>{var y,u,p;return c(),l("tr",{key:r.id},[t("td",Ct,e(r.asset_tag),1),t("td",kt,e(r.model_name)+e((y=r.asset_template)!=null&&y.name?` - ${r.asset_template.name}`:""),1),t("td",At,e(r.model_number||s(o)("custody.na")),1),t("td",St,e(r.serial_number||s(o)("custody.na")),1),t("td",Bt,e(((u=r.category)==null?void 0:u.name)||s(o)("custody.na")),1),t("td",Dt,e(((p=r.location)==null?void 0:p.name)||s(o)("custody.na")),1),t("td",Lt,e(r.condition?r.condition.charAt(0).toUpperCase()+r.condition.slice(1):s(o)("custody.na")),1)])}),128))])])])):(c(),l("div",$t,e(s(o)("custody.no_previous_assets")),1))]),t("div",jt,[t("h2",Nt,e(s(o)("custody.new_custody"))+" ("+e(d.newAssets.length)+" "+e(s(o)("custody.items"))+")",1),d.newAssets.length>0?(c(),l("div",Vt,[t("table",Mt,[t("thead",null,[t("tr",Tt,[t("th",Et,e(s(o)("custody.asset_tag")),1),t("th",Ft,e(s(o)("custody.description")),1),t("th",Ht,e(s(o)("custody.model_name")),1),t("th",Ut,e(s(o)("custody.serial_number")),1),t("th",zt,e(s(o)("custody.category")),1),t("th",It,e(s(o)("custody.location")),1),t("th",Pt,e(s(o)("custody.condition")),1)])]),t("tbody",null,[(c(!0),l(f,null,v(d.newAssets,r=>{var y,u,p;return c(),l("tr",{key:r.id},[t("td",qt,e(r.asset_tag),1),t("td",Gt,e(r.model_name)+e((y=r.asset_template)!=null&&y.name?` - ${r.asset_template.name}`:""),1),t("td",Jt,e(r.model_number||s(o)("custody.na")),1),t("td",Kt,e(r.serial_number||s(o)("custody.na")),1),t("td",Ot,e(((u=r.category)==null?void 0:u.name)||s(o)("custody.na")),1),t("td",Qt,e(((p=r.location)==null?void 0:p.name)||s(o)("custody.na")),1),t("td",Rt,e(r.condition?r.condition.charAt(0).toUpperCase()+r.condition.slice(1):s(o)("custody.na")),1)])}),128))])])])):(c(),l("div",Wt,e(s(o)("custody.no_new_assets")),1))]),t("div",Xt,[t("h3",Yt,e(s(o)("custody.terms_and_conditions")),1),t("ul",Zt,[t("li",te,e(s(o)("custody.term_1")),1),t("li",ee,e(s(o)("custody.term_2")),1),t("li",se,e(s(o)("custody.term_3")),1),t("li",oe,e(s(o)("custody.term_4")),1),t("li",de,e(s(o)("custody.term_5")),1)])]),t("div",re,[t("h3",ne,e(s(o)("custody.signatures")),1),t("div",ae,[t("div",null,[t("div",le,[t("div",ce,e(s(o)("custody.employee_signature")),1)]),t("div",ie,[t("strong",null,e(d.employee.full_name),1),a[1]||(a[1]=t("br",null,null,-1)),t("small",null,e(d.employee.job_title||s(o)("custody.employee_default")),1),a[2]||(a[2]=t("br",null,null,-1)),t("small",null,e(s(o)("custody.date_label"))+" _______________________",1)])]),t("div",null,[t("div",_e,[t("div",ye,e(s(o)("custody.admin_manager_signature")),1)]),t("div",ue,[t("strong",null,e(((x=d.custodyChange.updatedBy)==null?void 0:x.name)||"____________________"),1),a[3]||(a[3]=t("br",null,null,-1)),t("small",null,e(s(o)("custody.it_administrator")),1),a[4]||(a[4]=t("br",null,null,-1)),t("small",null,e(s(o)("custody.date_label"))+" _______________________",1)])])])]),t("div",pe,[t("p",{innerHTML:s(o)("custody.document_generated_on",{date:`<span dir='ltr'>${new Date(d.generatedAt).toLocaleDateString()}</span>`})},null,8,me),t("p",null,e(s(o)("custody.document_id"))+": "+e(d.custodyChange.id.toString().padStart(4,"0"))+" | "+e(s(o)("custody.status"))+": "+e(s(o)("custody.status_"+d.custodyChange.status)),1)])])])])])}}});export{Fe as default};
