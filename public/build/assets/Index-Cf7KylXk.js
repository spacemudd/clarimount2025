import{d as W,u as j,p as k,c as q,a as b,o as _,b as e,e as t,g as Q,w as a,f as s,h as r,S as A,t as d,m as F,q as G,v as V,l as H,F as D,r as J,n as P,i as E,W as p}from"./app-CJffrqdV.js";import{a as R,b as X,c as Y,d as Z,e as h,f as N,_ as tt}from"./AppLayout.vue_vue_type_script_setup_true_lang-5vt20ptj.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DrQLdXeo.js";import{_ as et}from"./Input.vue_vue_type_script_setup_true_lang-DRa2Ap_z.js";import{_ as u,a as m}from"./CardContent.vue_vue_type_script_setup_true_lang-DigiMmlI.js";import{_ as st}from"./CardDescription.vue_vue_type_script_setup_true_lang-BxYQT-h0.js";import{_ as f,a as c}from"./CardTitle.vue_vue_type_script_setup_true_lang-CzL--qB9.js";import{_ as y}from"./Badge.vue_vue_type_script_setup_true_lang-CJ9JwjkH.js";import{P as at}from"./plus-mCZeNmPI.js";import{S as lt,F as ot,E as rt}from"./search--N-Ea8KF.js";import{E as dt}from"./eye-BAMA9JEN.js";import{P as nt,a as it}from"./play-DatPUGEY.js";import{T as ut}from"./trash-2-EM0gzN0u.js";import"./useForwardExpose-B9gdC_q2.js";import"./RovingFocusGroup-BA6EIVQl.js";import"./building-CblTbnnb.js";import"./users-DQRMWujI.js";const mt={class:"space-y-6"},ft={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},ct={class:"flex gap-2"},_t={class:"grid gap-4 md:grid-cols-5"},pt={class:"text-2xl font-bold"},gt={class:"text-2xl font-bold text-green-600"},vt={class:"text-2xl font-bold text-red-600"},xt={class:"text-2xl font-bold text-blue-600"},bt={class:"text-2xl font-bold text-purple-600"},ht={class:"grid gap-4 md:grid-cols-4"},wt={class:"relative"},kt={class:"overflow-x-auto"},yt={class:"w-full"},St={class:"p-4"},$t={class:"font-medium"},Tt={class:"text-sm text-muted-foreground"},Ct={class:"p-4"},At={class:"font-medium"},Ft={class:"text-sm text-muted-foreground"},Vt={class:"p-4"},Dt={class:"p-4"},Pt={class:"p-4"},Et={class:"p-4 text-sm text-muted-foreground"},Nt={class:"p-4 text-right"},Bt={key:0,class:"text-center py-8 text-muted-foreground"},te=W({__name:"Index",props:{teams:{},stats:{},filters:{}},setup(B){const n=B,{t:Ut}=j(),g=k(n.filters.search||""),v=k(n.filters.status||""),x=k(n.filters.subscription||""),U=q(()=>[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Teams",href:"/admin/teams"}]),M=i=>{switch(i){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"trial":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"past_due":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"canceled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},z=i=>i?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",S=()=>{p.get("/admin/teams",{search:g.value,status:v.value,subscription:x.value},{preserveState:!0,replace:!0})},I=()=>{g.value="",v.value="",x.value="",p.get("/admin/teams",{},{preserveState:!0,replace:!0})},K=i=>{confirm("Are you sure you want to suspend this team?")&&p.post(`/admin/teams/${i}/suspend`,{},{preserveScroll:!0})},L=i=>{p.post(`/admin/teams/${i}/activate`,{},{preserveScroll:!0})},O=i=>{confirm("Are you sure you want to delete this team? This action cannot be undone.")&&p.delete(`/admin/teams/${i}`,{preserveScroll:!0})};return(i,l)=>(_(),b(D,null,[e(t(Q),{title:"Admin - Teams"}),e(tt,{breadcrumbs:U.value},{default:a(()=>[s("div",mt,[s("div",ft,[l[5]||(l[5]=s("div",null,[s("h1",{class:"text-3xl font-bold tracking-tight"},"Teams Management"),s("p",{class:"text-muted-foreground"}," Manage all teams across the platform ")],-1)),s("div",ct,[e(t(w),{onClick:I,variant:"outline"},{default:a(()=>l[3]||(l[3]=[r(" Clear Filters ")])),_:1,__:[3]}),e(t(w),{"as-child":""},{default:a(()=>[e(t(A),{href:"/admin/teams/create"},{default:a(()=>[e(t(at),{class:"mr-2 h-4 w-4"}),l[4]||(l[4]=r(" Create Team "))]),_:1,__:[4]})]),_:1})])]),s("div",_t,[e(t(u),null,{default:a(()=>[e(t(f),{class:"pb-2"},{default:a(()=>[e(t(c),{class:"text-sm font-medium"},{default:a(()=>l[6]||(l[6]=[r("Total Teams")])),_:1,__:[6]})]),_:1}),e(t(m),null,{default:a(()=>[s("div",pt,d(n.stats.total_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(f),{class:"pb-2"},{default:a(()=>[e(t(c),{class:"text-sm font-medium"},{default:a(()=>l[7]||(l[7]=[r("Active")])),_:1,__:[7]})]),_:1}),e(t(m),null,{default:a(()=>[s("div",gt,d(n.stats.active_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(f),{class:"pb-2"},{default:a(()=>[e(t(c),{class:"text-sm font-medium"},{default:a(()=>l[8]||(l[8]=[r("Suspended")])),_:1,__:[8]})]),_:1}),e(t(m),null,{default:a(()=>[s("div",vt,d(n.stats.suspended_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(f),{class:"pb-2"},{default:a(()=>[e(t(c),{class:"text-sm font-medium"},{default:a(()=>l[9]||(l[9]=[r("On Trial")])),_:1,__:[9]})]),_:1}),e(t(m),null,{default:a(()=>[s("div",xt,d(n.stats.trial_teams),1)]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(f),{class:"pb-2"},{default:a(()=>[e(t(c),{class:"text-sm font-medium"},{default:a(()=>l[10]||(l[10]=[r("Paid")])),_:1,__:[10]})]),_:1}),e(t(m),null,{default:a(()=>[s("div",bt,d(n.stats.active_subscriptions),1)]),_:1})]),_:1})]),e(t(u),null,{default:a(()=>[e(t(f),null,{default:a(()=>[e(t(c),{class:"text-lg"},{default:a(()=>l[11]||(l[11]=[r("Filters")])),_:1,__:[11]})]),_:1}),e(t(m),null,{default:a(()=>[s("div",ht,[s("div",wt,[e(t(lt),{class:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e(t(et),{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=o=>g.value=o),placeholder:"Search teams...",class:"pl-10",onKeyup:G(S,["enter"])},null,8,["modelValue"])]),F(s("select",{"onUpdate:modelValue":l[1]||(l[1]=o=>v.value=o),class:"w-full px-3 py-2 text-sm bg-background border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"},l[12]||(l[12]=[s("option",{value:""},"All Statuses",-1),s("option",{value:"active"},"Active",-1),s("option",{value:"suspended"},"Suspended",-1)]),512),[[V,v.value]]),F(s("select",{"onUpdate:modelValue":l[2]||(l[2]=o=>x.value=o),class:"w-full px-3 py-2 text-sm bg-background border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"},l[13]||(l[13]=[s("option",{value:""},"All Subscriptions",-1),s("option",{value:"trial"},"Trial",-1),s("option",{value:"active"},"Active",-1),s("option",{value:"past_due"},"Past Due",-1),s("option",{value:"canceled"},"Canceled",-1)]),512),[[V,x.value]]),e(t(w),{onClick:S,class:"w-full"},{default:a(()=>[e(t(ot),{class:"mr-2 h-4 w-4"}),l[14]||(l[14]=r(" Apply Filters "))]),_:1,__:[14]})])]),_:1})]),_:1}),e(t(u),null,{default:a(()=>[e(t(f),null,{default:a(()=>[e(t(c),null,{default:a(()=>[r("Teams ("+d(n.teams.total)+")",1)]),_:1}),e(t(st),null,{default:a(()=>[r(" Showing "+d(n.teams.data.length)+" of "+d(n.teams.total)+" teams ",1)]),_:1})]),_:1}),e(t(m),null,{default:a(()=>[s("div",kt,[s("table",yt,[l[20]||(l[20]=s("thead",null,[s("tr",{class:"border-b"},[s("th",{class:"text-left p-4 font-medium"},"Team"),s("th",{class:"text-left p-4 font-medium"},"Owner"),s("th",{class:"text-left p-4 font-medium"},"Users"),s("th",{class:"text-left p-4 font-medium"},"Status"),s("th",{class:"text-left p-4 font-medium"},"Subscription"),s("th",{class:"text-left p-4 font-medium"},"Created"),s("th",{class:"text-right p-4 font-medium"},"Actions")])],-1)),s("tbody",null,[(_(!0),b(D,null,J(n.teams.data,o=>{var $,T;return _(),b("tr",{key:o.id,class:"border-b hover:bg-muted/50"},[s("td",St,[s("div",null,[s("div",$t,d(o.name),1),s("div",Tt,d(o.slug),1)])]),s("td",Ct,[s("div",null,[s("div",At,d(($=o.owner)==null?void 0:$.name),1),s("div",Ft,d((T=o.owner)==null?void 0:T.email),1)])]),s("td",Vt,[e(t(y),{variant:"secondary"},{default:a(()=>[r(d(o.users_count||0),1)]),_:2},1024)]),s("td",Dt,[e(t(y),{class:P(z(o.is_active))},{default:a(()=>[r(d(o.is_active?"Active":"Suspended"),1)]),_:2},1032,["class"])]),s("td",Pt,[e(t(y),{class:P(M(o.subscription_status))},{default:a(()=>[r(d(o.subscription_status),1)]),_:2},1032,["class"])]),s("td",Et,d(new Date(o.created_at).toLocaleDateString()),1),s("td",Nt,[e(t(R),null,{default:a(()=>[e(t(X),{"as-child":""},{default:a(()=>[e(t(w),{variant:"ghost",size:"sm"},{default:a(()=>[e(t(rt),{class:"h-4 w-4"})]),_:1})]),_:1}),e(t(Y),{align:"end"},{default:a(()=>[e(t(Z),null,{default:a(()=>l[15]||(l[15]=[r("Actions")])),_:1,__:[15]}),e(t(h),{"as-child":""},{default:a(()=>[e(t(A),{href:`/admin/teams/${o.id}`},{default:a(()=>[e(t(dt),{class:"mr-2 h-4 w-4"}),l[16]||(l[16]=r(" View Details "))]),_:2,__:[16]},1032,["href"])]),_:2},1024),e(t(N)),o.is_active?(_(),E(t(h),{key:0,onClick:C=>K(o.id),class:"text-orange-600"},{default:a(()=>[e(t(nt),{class:"mr-2 h-4 w-4"}),l[17]||(l[17]=r(" Suspend Team "))]),_:2,__:[17]},1032,["onClick"])):(_(),E(t(h),{key:1,onClick:C=>L(o.id),class:"text-green-600"},{default:a(()=>[e(t(it),{class:"mr-2 h-4 w-4"}),l[18]||(l[18]=r(" Activate Team "))]),_:2,__:[18]},1032,["onClick"])),e(t(N)),e(t(h),{onClick:C=>O(o.id),class:"text-red-600"},{default:a(()=>[e(t(ut),{class:"mr-2 h-4 w-4"}),l[19]||(l[19]=r(" Delete Team "))]),_:2,__:[19]},1032,["onClick"])]),_:2},1024)]),_:2},1024)])])}),128))])])]),n.teams.total===0?(_(),b("div",Bt," No teams found matching your criteria. ")):H("",!0)]),_:1})]),_:1})])]),_:1},8,["breadcrumbs"])],64))}});export{te as default};
