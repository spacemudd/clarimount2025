import{d as F,x as P,p as x,i as p,o as m,w as d,f as t,k as R,b as o,e as a,h as n,a as v,l as i,m as c,F as $,r as M,t as w,v as N,s as A,z as G}from"./app-4ik3_SM2.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-CTJA9jIC.js";import{_ as T}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CspAB5oH.js";import{_ as z,a as H}from"./CardContent.vue_vue_type_script_setup_true_lang-CZ28Sir4.js";import{_ as J,a as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-D0NfIyDe.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-DS9KhBFu.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-C5CSo9Jg.js";import{_}from"./InputError.vue_vue_type_script_setup_true_lang-CRORY9eQ.js";import{_ as K}from"./Icon.vue_vue_type_script_setup_true_lang-Bb1QV_bS.js";import"./useForwardExpose-pi2wQiDH.js";import"./RovingFocusGroup-u24FmkkR.js";import"./building-WgAkTM_W.js";import"./users-Br9zvY46.js";import"./activity-BNNREC6U.js";import"./arrow-left-Clk5VD8D.js";import"./calendar-NrRkXkbD.js";import"./check-lZjI_Xcw.js";import"./chevron-down-CzHk2okz.js";import"./search-DvjDTBl2.js";import"./eye-BltrbwUq.js";import"./user-CqCMTcup.js";import"./loader-circle-D339T6pq.js";import"./sun-BS4ROJ_e.js";import"./play-fA7L9iHS.js";import"./plus-01i6BDAP.js";import"./square-pen-BRZH9iPO.js";import"./trash-2-D3XuaLaj.js";import"./triangle-alert-BklvIkh7.js";const O={class:"p-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W=["value"],X=["value"],Y={key:0,class:"space-y-2"},Z={class:"flex items-start gap-4"},h=["src"],ee={key:1,class:"mt-4"},ae=["src"],te={class:"flex items-center space-x-2"},le={class:"mt-6 flex items-center gap-4"},Le=F({__name:"Edit",props:{template:{},companies:{},categories:{}},setup(D){const f=D,r=P({name:f.template.name,manufacturer:f.template.manufacturer||"",model_name:f.template.model_name||"",model_number:f.template.model_number||"",asset_category_id:f.template.asset_category_id,company_id:f.template.company_id||"",specifications:{},default_notes:f.template.default_notes||"",image:null,is_global:f.template.is_global}),b=x(!1),s=x({}),y=x(null),I=()=>{b.value=!0,s.value={},r.put(route("asset-templates.update",f.template.id),{onSuccess:()=>{b.value=!1},onError:u=>{s.value=u,b.value=!1},onFinish:()=>{b.value=!1}})},L=u=>{var V;const l=(V=u.target.files)==null?void 0:V[0];if(l){r.image=l;const C=new FileReader;C.onload=E=>{var U;y.value=(U=E.target)==null?void 0:U.result},C.readAsDataURL(l)}},S=()=>{r.image=null,y.value=null;const u=document.getElementById("image");u&&(u.value="")},B=()=>{console.log("Remove current image functionality can be implemented")};return(u,e)=>(m(),p(q,null,{default:d(()=>[t("div",O,[e[24]||(e[24]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"}," Edit Template "),t("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Update this asset template ")],-1)),t("form",{onSubmit:R(I,["prevent"]),class:"max-w-2xl"},[o(a(z),null,{default:d(()=>[o(a(J),null,{default:d(()=>[o(a(j),null,{default:d(()=>e[8]||(e[8]=[n("Template Details")])),_:1,__:[8]})]),_:1}),o(a(H),{class:"space-y-6"},{default:d(()=>[t("div",null,[o(a(g),{for:"name"},{default:d(()=>e[9]||(e[9]=[n("Template Name *")])),_:1,__:[9]}),o(a(k),{id:"name",modelValue:a(r).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(r).name=l),required:"",placeholder:"Dell Latitude 7420 Laptop",class:"mt-1"},null,8,["modelValue"]),s.value.name?(m(),p(_,{key:0,message:s.value.name,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(g),{for:"manufacturer"},{default:d(()=>e[10]||(e[10]=[n("Manufacturer")])),_:1,__:[10]}),o(a(k),{id:"manufacturer",modelValue:a(r).manufacturer,"onUpdate:modelValue":e[1]||(e[1]=l=>a(r).manufacturer=l),placeholder:"Dell, HP, Apple...",class:"mt-1"},null,8,["modelValue"]),s.value.manufacturer?(m(),p(_,{key:0,message:s.value.manufacturer,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",Q,[t("div",null,[o(a(g),{for:"model_name"},{default:d(()=>e[11]||(e[11]=[n("Model Name")])),_:1,__:[11]}),o(a(k),{id:"model_name",modelValue:a(r).model_name,"onUpdate:modelValue":e[2]||(e[2]=l=>a(r).model_name=l),placeholder:"Latitude 7420",class:"mt-1"},null,8,["modelValue"]),s.value.model_name?(m(),p(_,{key:0,message:s.value.model_name,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(g),{for:"model_number"},{default:d(()=>e[12]||(e[12]=[n("Model Number")])),_:1,__:[12]}),o(a(k),{id:"model_number",modelValue:a(r).model_number,"onUpdate:modelValue":e[3]||(e[3]=l=>a(r).model_number=l),placeholder:"LAT7420-001",class:"mt-1"},null,8,["modelValue"]),s.value.model_number?(m(),p(_,{key:0,message:s.value.model_number,class:"mt-1"},null,8,["message"])):i("",!0)])]),t("div",null,[o(a(g),{for:"asset_category_id"},{default:d(()=>e[13]||(e[13]=[n("Category")])),_:1,__:[13]}),c(t("select",{id:"asset_category_id","onUpdate:modelValue":e[4]||(e[4]=l=>a(r).asset_category_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},[e[14]||(e[14]=t("option",{value:""},"Select a category",-1)),(m(!0),v($,null,M(u.categories,l=>(m(),v("option",{key:l.id,value:l.id},w("â€”".repeat(Math.max(0,l.depth||0)))+" "+w(l.name),9,W))),128))],512),[[N,a(r).asset_category_id]]),s.value.asset_category_id?(m(),p(_,{key:0,message:s.value.asset_category_id,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(g),{for:"company_id"},{default:d(()=>e[15]||(e[15]=[n("Company")])),_:1,__:[15]}),c(t("select",{id:"company_id","onUpdate:modelValue":e[5]||(e[5]=l=>a(r).company_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},[e[16]||(e[16]=t("option",{value:""},"Select a company",-1)),(m(!0),v($,null,M(u.companies,l=>(m(),v("option",{key:l.id,value:l.id},w(l.name_en),9,X))),128))],512),[[N,a(r).company_id]]),s.value.company_id?(m(),p(_,{key:0,message:s.value.company_id,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(g),{for:"default_notes"},{default:d(()=>e[17]||(e[17]=[n("Default Notes")])),_:1,__:[17]}),c(t("textarea",{id:"default_notes","onUpdate:modelValue":e[6]||(e[6]=l=>a(r).default_notes=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",placeholder:"Additional notes about this template"},null,512),[[A,a(r).default_notes]]),s.value.default_notes?(m(),p(_,{key:0,message:s.value.default_notes,class:"mt-1"},null,8,["message"])):i("",!0)]),u.template.image_path?(m(),v("div",Y,[o(a(g),null,{default:d(()=>e[18]||(e[18]=[n("Current Image")])),_:1,__:[18]}),t("div",Z,[t("img",{src:`/storage/${u.template.image_path}`,alt:"Current template image",class:"max-w-xs max-h-48 rounded-lg border border-gray-300 dark:border-gray-600"},null,8,h),t("button",{type:"button",onClick:B,class:"text-sm text-red-600 hover:text-red-800 dark:text-red-400"}," Remove current image ")])])):i("",!0),t("div",null,[o(a(g),{for:"image"},{default:d(()=>e[19]||(e[19]=[n("Template Image")])),_:1,__:[19]}),t("input",{id:"image",type:"file",accept:"image/*",onChange:L,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-700 dark:file:text-gray-300"},null,32),e[20]||(e[20]=t("p",{class:"mt-1 text-sm text-gray-500"},"PNG, JPG, GIF up to 2MB",-1)),s.value.image?(m(),p(_,{key:0,message:s.value.image,class:"mt-1"},null,8,["message"])):i("",!0),y.value?(m(),v("div",ee,[t("img",{src:y.value,alt:"Preview",class:"max-w-xs max-h-48 rounded-lg border border-gray-300 dark:border-gray-600"},null,8,ae),t("button",{type:"button",onClick:S,class:"mt-2 text-sm text-red-600 hover:text-red-800 dark:text-red-400"}," Remove new image ")])):i("",!0)]),t("div",te,[c(t("input",{id:"is_global","onUpdate:modelValue":e[7]||(e[7]=l=>a(r).is_global=l),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700"},null,512),[[G,a(r).is_global]]),o(a(g),{for:"is_global",class:"text-sm font-medium"},{default:d(()=>e[21]||(e[21]=[n(" Make this template available to all companies (Global) ")])),_:1,__:[21]}),s.value.is_global?(m(),p(_,{key:0,message:s.value.is_global,class:"mt-1"},null,8,["message"])):i("",!0)])]),_:1})]),_:1}),t("div",le,[o(a(T),{type:"submit",disabled:b.value},{default:d(()=>[b.value?(m(),p(K,{key:0,name:"loader-2",class:"h-4 w-4 mr-2 animate-spin"})):i("",!0),e[22]||(e[22]=n(" Update Template "))]),_:1,__:[22]},8,["disabled"]),o(a(T),{variant:"outline",as:"Link",href:u.route("asset-templates.show",u.template.id)},{default:d(()=>e[23]||(e[23]=[n(" Cancel ")])),_:1,__:[23]},8,["href"])])],32)])]),_:1}))}});export{Le as default};
