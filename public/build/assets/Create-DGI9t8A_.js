import{d as I,x as P,p as k,i as n,o as m,w as d,f as t,k as A,b as o,e as a,h as u,l as i,m as y,a as b,F as $,r as N,t as x,v as U,s as G,z as E}from"./app-BU4Fz2v5.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-BEZomKc7.js";import{_ as T}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B2lKfvHL.js";import{_ as q,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-DdUCTS3U.js";import{_ as H,a as J}from"./CardTitle.vue_vue_type_script_setup_true_lang-CHrkG_rg.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-C9VmExD2.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-liPH2qOQ.js";import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-u33r-D9W.js";import{_ as j}from"./Icon.vue_vue_type_script_setup_true_lang-D103WJUS.js";import"./useForwardExpose-Dg1sB4kQ.js";import"./RovingFocusGroup-Cgp7aR2i.js";import"./building-CYvWgotV.js";import"./users-O7TWGZiz.js";import"./activity-DK25qt7C.js";import"./arrow-left-6vDaPKK3.js";import"./calendar-C7Q6v6Rj.js";import"./check-Ik1-5avC.js";import"./chevron-down-DdIkom8s.js";import"./search-CSqGqebV.js";import"./eye-BwtD9N99.js";import"./user-DbSzs-BQ.js";import"./loader-circle-d-s_UhnV.js";import"./sun-DXLUuTmc.js";import"./play-1uItQUwT.js";import"./plus-CzfUTzdy.js";import"./square-pen-Cbzuc2Xp.js";import"./trash-2-DR8HiMnr.js";import"./triangle-alert-BpnpYElQ.js";const K={class:"p-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q=["value"],W=["value"],X={key:1,class:"mt-4"},Y=["src"],Z={class:"flex items-center space-x-2"},h={class:"mt-6 flex items-center gap-4"},Te=I({__name:"Create",props:{companies:{},categories:{},currentCompany:{}},setup(D){var V;const r=P({name:"",manufacturer:"",model_name:"",model_number:"",asset_category_id:"",company_id:((V=D.currentCompany)==null?void 0:V.id)||"",specifications:{},default_notes:"",image:null,is_global:!0}),_=k(!1),s=k({}),v=k(null),L=()=>{_.value=!0,s.value={},r.post(route("asset-templates.store"),{onSuccess:()=>{_.value=!1},onError:f=>{s.value=f,_.value=!1},onFinish:()=>{_.value=!1}})},S=f=>{var w;const l=(w=f.target.files)==null?void 0:w[0];if(l){r.image=l;const C=new FileReader;C.onload=F=>{var M;v.value=(M=F.target)==null?void 0:M.result},C.readAsDataURL(l)}},B=()=>{r.image=null,v.value=null;const f=document.getElementById("image");f&&(f.value="")};return(f,e)=>(m(),n(R,null,{default:d(()=>[t("div",K,[e[23]||(e[23]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"}," Create Template "),t("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Create a reusable asset template to streamline asset creation ")],-1)),t("form",{onSubmit:A(L,["prevent"]),class:"max-w-2xl"},[o(a(q),null,{default:d(()=>[o(a(H),null,{default:d(()=>[o(a(J),null,{default:d(()=>e[8]||(e[8]=[u("Template Details")])),_:1,__:[8]})]),_:1}),o(a(z),{class:"space-y-6"},{default:d(()=>[t("div",null,[o(a(p),{for:"name"},{default:d(()=>e[9]||(e[9]=[u("Template Name *")])),_:1,__:[9]}),o(a(c),{id:"name",modelValue:a(r).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(r).name=l),required:"",placeholder:"Dell Latitude 7420 Laptop",class:"mt-1"},null,8,["modelValue"]),s.value.name?(m(),n(g,{key:0,message:s.value.name,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(p),{for:"manufacturer"},{default:d(()=>e[10]||(e[10]=[u("Manufacturer")])),_:1,__:[10]}),o(a(c),{id:"manufacturer",modelValue:a(r).manufacturer,"onUpdate:modelValue":e[1]||(e[1]=l=>a(r).manufacturer=l),placeholder:"Dell, HP, Apple...",class:"mt-1"},null,8,["modelValue"]),s.value.manufacturer?(m(),n(g,{key:0,message:s.value.manufacturer,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",O,[t("div",null,[o(a(p),{for:"model_name"},{default:d(()=>e[11]||(e[11]=[u("Model Name")])),_:1,__:[11]}),o(a(c),{id:"model_name",modelValue:a(r).model_name,"onUpdate:modelValue":e[2]||(e[2]=l=>a(r).model_name=l),placeholder:"Latitude 7420",class:"mt-1"},null,8,["modelValue"]),s.value.model_name?(m(),n(g,{key:0,message:s.value.model_name,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(p),{for:"model_number"},{default:d(()=>e[12]||(e[12]=[u("Model Number")])),_:1,__:[12]}),o(a(c),{id:"model_number",modelValue:a(r).model_number,"onUpdate:modelValue":e[3]||(e[3]=l=>a(r).model_number=l),placeholder:"LAT7420-001",class:"mt-1"},null,8,["modelValue"]),s.value.model_number?(m(),n(g,{key:0,message:s.value.model_number,class:"mt-1"},null,8,["message"])):i("",!0)])]),t("div",null,[o(a(p),{for:"asset_category_id"},{default:d(()=>e[13]||(e[13]=[u("Category")])),_:1,__:[13]}),y(t("select",{id:"asset_category_id","onUpdate:modelValue":e[4]||(e[4]=l=>a(r).asset_category_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},[e[14]||(e[14]=t("option",{value:""},"Select a category",-1)),(m(!0),b($,null,N(f.categories,l=>(m(),b("option",{key:l.id,value:l.id},x("â€”".repeat(Math.max(0,l.depth||0)))+" "+x(l.name),9,Q))),128))],512),[[U,a(r).asset_category_id]]),s.value.asset_category_id?(m(),n(g,{key:0,message:s.value.asset_category_id,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(p),{for:"company_id"},{default:d(()=>e[15]||(e[15]=[u("Company")])),_:1,__:[15]}),y(t("select",{id:"company_id","onUpdate:modelValue":e[5]||(e[5]=l=>a(r).company_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},[e[16]||(e[16]=t("option",{value:""},"Select a company",-1)),(m(!0),b($,null,N(f.companies,l=>(m(),b("option",{key:l.id,value:l.id},x(l.name_en),9,W))),128))],512),[[U,a(r).company_id]]),s.value.company_id?(m(),n(g,{key:0,message:s.value.company_id,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(p),{for:"default_notes"},{default:d(()=>e[17]||(e[17]=[u("Default Notes")])),_:1,__:[17]}),y(t("textarea",{id:"default_notes","onUpdate:modelValue":e[6]||(e[6]=l=>a(r).default_notes=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",placeholder:"Additional notes about this template"},null,512),[[G,a(r).default_notes]]),s.value.default_notes?(m(),n(g,{key:0,message:s.value.default_notes,class:"mt-1"},null,8,["message"])):i("",!0)]),t("div",null,[o(a(p),{for:"image"},{default:d(()=>e[18]||(e[18]=[u("Template Image")])),_:1,__:[18]}),t("input",{id:"image",type:"file",accept:"image/*",onChange:S,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-700 dark:file:text-gray-300"},null,32),e[19]||(e[19]=t("p",{class:"mt-1 text-sm text-gray-500"},"PNG, JPG, GIF up to 2MB",-1)),s.value.image?(m(),n(g,{key:0,message:s.value.image,class:"mt-1"},null,8,["message"])):i("",!0),v.value?(m(),b("div",X,[t("img",{src:v.value,alt:"Preview",class:"max-w-xs max-h-48 rounded-lg border border-gray-300 dark:border-gray-600"},null,8,Y),t("button",{type:"button",onClick:B,class:"mt-2 text-sm text-red-600 hover:text-red-800 dark:text-red-400"}," Remove image ")])):i("",!0)]),t("div",Z,[y(t("input",{id:"is_global","onUpdate:modelValue":e[7]||(e[7]=l=>a(r).is_global=l),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700"},null,512),[[E,a(r).is_global]]),o(a(p),{for:"is_global",class:"text-sm font-medium"},{default:d(()=>e[20]||(e[20]=[u(" Make this template available to all companies (Global) ")])),_:1,__:[20]}),s.value.is_global?(m(),n(g,{key:0,message:s.value.is_global,class:"mt-1"},null,8,["message"])):i("",!0)])]),_:1})]),_:1}),t("div",h,[o(a(T),{type:"submit",disabled:_.value},{default:d(()=>[_.value?(m(),n(j,{key:0,name:"loader-2",class:"h-4 w-4 mr-2 animate-spin"})):i("",!0),e[21]||(e[21]=u(" Create Template "))]),_:1,__:[21]},8,["disabled"]),o(a(T),{variant:"outline",as:"Link",href:f.route("asset-templates.index")},{default:d(()=>e[22]||(e[22]=[u(" Cancel ")])),_:1,__:[22]},8,["href"])])],32)])]),_:1}))}});export{Te as default};
