import{d as X,u as q,p as v,c as A,C as G,W as J,a as d,o as i,b as o,e as s,g as K,w as n,f as t,S as h,h as f,t as a,m as E,i as H,l as N,F as y,r as b,v as z}from"./app-BU4Fz2v5.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-BEZomKc7.js";import{_ as p}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B2lKfvHL.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-C9VmExD2.js";import{_ as R}from"./Badge.vue_vue_type_script_setup_true_lang-B-0jkIIg.js";import{_ as g}from"./Icon.vue_vue_type_script_setup_true_lang-D103WJUS.js";import{_ as Y}from"./Heading.vue_vue_type_script_setup_true_lang-BoA0YFrM.js";import"./useForwardExpose-Dg1sB4kQ.js";import"./RovingFocusGroup-Cgp7aR2i.js";import"./building-CYvWgotV.js";import"./users-O7TWGZiz.js";import"./activity-DK25qt7C.js";import"./arrow-left-6vDaPKK3.js";import"./calendar-C7Q6v6Rj.js";import"./check-Ik1-5avC.js";import"./chevron-down-DdIkom8s.js";import"./search-CSqGqebV.js";import"./eye-BwtD9N99.js";import"./user-DbSzs-BQ.js";import"./loader-circle-d-s_UhnV.js";import"./sun-DXLUuTmc.js";import"./play-1uItQUwT.js";import"./plus-CzfUTzdy.js";import"./square-pen-Cbzuc2Xp.js";import"./trash-2-DR8HiMnr.js";import"./triangle-alert-BpnpYElQ.js";const Z={class:"space-y-6"},tt={class:"flex items-center justify-between my-2"},et={class:"flex flex-col sm:flex-row gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},st={class:"flex-1 relative"},at={class:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 pl-3 rtl:pl-0 rtl:pr-3 flex items-center pointer-events-none"},rt={value:""},ot=["value"],it={value:""},lt=["value"],dt={key:0,class:"text-center py-12"},nt={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},ct={class:"text-gray-600 dark:text-gray-400 mb-6"},mt={key:1,class:"bg-white dark:bg-gray-800 rounded-lg border overflow-hidden"},ut={class:"overflow-x-auto"},gt={class:"w-full"},_t={class:"bg-gray-50 dark:bg-gray-700"},pt={class:"text-left rtl:text-right"},ht={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ft={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},yt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},xt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},vt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},bt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},wt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},kt={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"flex items-center"},Vt={class:"flex-shrink-0 h-10 w-10"},$t={key:0,class:"h-10 w-10 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600"},jt=["src","alt"],St={key:1,class:"h-10 w-10 rounded-lg bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},Tt={class:"ml-4 rtl:ml-0 rtl:mr-4"},Bt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ft={class:"text-sm text-gray-500 dark:text-gray-400"},Mt={class:"px-6 py-4 whitespace-nowrap"},Dt={class:"text-sm text-gray-900 dark:text-gray-100"},Et={class:"text-sm text-gray-500 dark:text-gray-400"},Ht={class:"px-6 py-4 whitespace-nowrap"},Nt={class:"text-sm text-gray-900 dark:text-gray-100"},zt={class:"text-sm text-gray-500 dark:text-gray-400"},It={class:"px-6 py-4 whitespace-nowrap"},Pt={class:"text-sm text-gray-900 dark:text-gray-100"},Ut={class:"text-sm text-gray-500 dark:text-gray-400"},Lt={class:"px-6 py-4 whitespace-nowrap"},Wt={class:"px-6 py-4 whitespace-nowrap text-right rtl:text-left text-sm font-medium"},Xt={class:"flex justify-end rtl:justify-start"},he=X({__name:"Index",props:{assets:{},categories:{},locations:{},filters:{}},setup(I){var k,C,V;const{t:r}=q(),x=I,c=v(((k=x.filters)==null?void 0:k.search)||""),m=v(((C=x.filters)==null?void 0:C.category_id)||""),u=v(((V=x.filters)==null?void 0:V.location_id)||""),P=A(()=>[{title:r("nav.dashboard"),href:"/dashboard"},{title:r("nav.assets"),href:"/assets"}]),U=l=>{switch(l){case"available":return"default";case"assigned":return"secondary";case"maintenance":return"destructive";case"retired":return"outline";default:return"secondary"}};let w;G([c,m,u],()=>{clearTimeout(w),w=window.setTimeout(()=>{J.get("/assets",{search:c.value||void 0,category_id:m.value||void 0,location_id:u.value||void 0},{preserveState:!0,replace:!0})},300)});const L=()=>{c.value="",m.value="",u.value=""},W=l=>{const e=l.target.closest(".flex-shrink-0");e&&(e.innerHTML=`
            <div class="h-10 w-10 rounded-lg bg-gray-300 dark:bg-gray-600 flex items-center justify-center">
                <svg class="h-5 w-5 text-gray-700 dark:text-gray-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2 3h6l2 4h8a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3z"/>
                    <path d="M8 21h8"/>
                    <path d="M12 17v4"/>
                </svg>
            </div>
        `)};return(l,_)=>(i(),d(y,null,[o(s(K),{title:s(r)("assets.title")},null,8,["title"]),o(O,{breadcrumbs:P.value},{default:n(()=>[t("div",Z,[t("div",tt,[o(Y,{title:s(r)("assets.title")},null,8,["title"]),o(s(p),{asChild:""},{default:n(()=>[o(s(h),{href:l.route("assets.create")},{default:n(()=>[o(g,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),f(" "+a(s(r)("assets.create_asset")),1)]),_:1},8,["href"])]),_:1})]),t("div",et,[t("div",st,[t("div",at,[o(g,{name:"Search",class:"h-4 w-4 text-gray-400"})]),o(s(Q),{modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=e=>c.value=e),placeholder:s(r)("assets.search_placeholder"),class:"w-full pl-10 rtl:pl-3 rtl:pr-10"},null,8,["modelValue","placeholder"])]),E(t("select",{"onUpdate:modelValue":_[1]||(_[1]=e=>m.value=e),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t("option",rt,a(s(r)("assets.filter_by_category")),1),(i(!0),d(y,null,b(l.categories,e=>(i(),d("option",{key:e.id,value:e.id},a(e.name),9,ot))),128))],512),[[z,m.value]]),E(t("select",{"onUpdate:modelValue":_[2]||(_[2]=e=>u.value=e),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t("option",it,a(s(r)("assets.filter_by_location")),1),(i(!0),d(y,null,b(l.locations,e=>(i(),d("option",{key:e.id,value:e.id},a(`${e.code}: ${e.name}`),9,lt))),128))],512),[[z,u.value]]),c.value||m.value||u.value?(i(),H(s(p),{key:0,variant:"ghost",onClick:L},{default:n(()=>[o(g,{name:"X",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),f(" "+a(s(r)("common.clear")),1)]),_:1})):N("",!0)]),l.assets.data.length===0?(i(),d("div",dt,[o(g,{name:"HardDrive",class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t("h3",nt,a(s(r)("assets.no_assets")),1),t("p",ct,a(c.value||m.value||u.value?s(r)("assets.no_assets_found"):s(r)("assets.create_first_asset")),1),!c.value&&!m.value&&!u.value?(i(),H(s(p),{key:0,asChild:""},{default:n(()=>[o(s(h),{href:l.route("assets.create")},{default:n(()=>[o(g,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),f(" "+a(s(r)("assets.create_asset")),1)]),_:1},8,["href"])]),_:1})):N("",!0)])):(i(),d("div",mt,[t("div",ut,[t("table",gt,[t("thead",_t,[t("tr",pt,[t("th",ht,a(s(r)("assets.asset")),1),t("th",ft,a(s(r)("assets.company")),1),t("th",yt,a(s(r)("assets.category")),1),t("th",xt,a(s(r)("assets.location")),1),t("th",vt,a(s(r)("assets.status")),1),t("th",bt,a(s(r)("common.actions")),1)])]),t("tbody",wt,[(i(!0),d(y,null,b(l.assets.data,e=>{var $,j,S,T,B,F,M,D;return i(),d("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",kt,[t("div",Ct,[t("div",Vt,[e.image_path||($=e.assetTemplate)!=null&&$.image_path?(i(),d("div",$t,[t("img",{src:`/storage/${e.image_path||((j=e.assetTemplate)==null?void 0:j.image_path)}`,alt:e.asset_tag,class:"h-full w-full object-cover",onError:W},null,40,jt)])):(i(),d("div",St,[o(g,{name:"HardDrive",class:"h-5 w-5 text-gray-700 dark:text-gray-300"})]))]),t("div",Tt,[t("div",Bt,a(e.asset_tag),1),t("div",Ft,a(e.model_name||e.serial_number||"-"),1)])])]),t("td",Mt,[t("div",Dt,a(((S=e.company)==null?void 0:S.name_en)||"-"),1),t("div",Et,a(((T=e.company)==null?void 0:T.slug)||"-"),1)]),t("td",Ht,[t("div",Nt,a(((B=e.category)==null?void 0:B.name)||"-"),1),t("div",zt,a(((F=e.category)==null?void 0:F.code)||"-"),1)]),t("td",It,[t("div",Pt,a(((M=e.location)==null?void 0:M.name)||"-"),1),t("div",Ut,a(((D=e.location)==null?void 0:D.code)||"-"),1)]),t("td",Lt,[o(s(R),{variant:U(e.status)},{default:n(()=>[f(a(s(r)(`assets.status_${e.status}`)),1)]),_:2},1032,["variant"])]),t("td",Wt,[t("div",Xt,[o(s(p),{variant:"ghost",size:"sm",asChild:"",class:"mr-2 rtl:mr-0 rtl:ml-2"},{default:n(()=>[o(s(h),{href:l.route("assets.show",e.id)},{default:n(()=>[o(g,{name:"Eye",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),o(s(p),{variant:"ghost",size:"sm",asChild:""},{default:n(()=>[o(s(h),{href:l.route("assets.edit",e.id)},{default:n(()=>[o(g,{name:"Pencil",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024)])])])}),128))])])])]))])]),_:1},8,["breadcrumbs"])],64))}});export{he as default};
