import{d as L,u as O,p as W,c as h,x as q,a as f,o as m,b as s,e,g as z,w as l,f as a,t as n,i as x,h as o,l as y,k as G,m as H,v as J,n as A,F as $,r as D,W as C}from"./app-DG1lurFW.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-DvAd4n56.js";import{_}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BxgiPSVG.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-C9DVD26K.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-BMoDE-LG.js";import{_ as c,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-B5fPjeJ-.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-BWXt5OpS.js";import{_ as v,a as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-W5EKclN8.js";import{_ as w}from"./Badge.vue_vue_type_script_setup_true_lang-BrbPKhIo.js";import{_ as S}from"./InputError.vue_vue_type_script_setup_true_lang-Dqskb7WP.js";import{S as Q}from"./square-pen-B_CnjjZU.js";import{P as R,a as X}from"./play-C5k24Vcu.js";import{T as Y}from"./trash-2-B3wFLb4V.js";import{U as Z}from"./users-B0sw7VYo.js";import{A as ee}from"./activity-CdPfGQB_.js";import{C as te}from"./calendar-EapuQZnP.js";import"./useForwardExpose-Dl3RukD5.js";import"./RovingFocusGroup-uS0a3PU_.js";import"./building-BNiDWmIA.js";const se={class:"space-y-6"},ae={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},le={class:"text-3xl font-bold tracking-tight"},ie={class:"text-muted-foreground"},oe={class:"flex gap-2"},ne={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},de={class:"text-2xl font-bold"},re={class:"text-2xl font-bold"},me={class:"text-sm font-medium"},ue={class:"text-xs text-muted-foreground"},fe={class:"text-sm font-medium"},pe={key:0,class:"text-xs text-muted-foreground"},_e={class:"grid gap-6 lg:grid-cols-2"},ce={class:"space-y-2"},ge={class:"space-y-2"},ve={class:"space-y-2"},be={key:0,class:"space-y-2"},xe={class:"flex gap-2"},ye={key:1,class:"space-y-4"},ke={class:"font-medium"},we={class:"font-mono text-sm"},Se={class:"font-medium"},$e={class:"text-sm text-muted-foreground"},Ce={class:"space-y-4"},Te={class:"font-medium"},Ve={class:"text-sm text-muted-foreground"},Ae={class:"flex gap-1 mt-1"},De={class:"flex items-center gap-1"},Ne={key:0,class:"text-center py-4 text-muted-foreground"},Xe=L({__name:"Show",props:{team:{},teamStats:{}},setup(U){const u=U,{t:Ue}=O(),p=W(!1),B=h(()=>[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Teams",href:"/admin/teams"},{title:u.team.name,href:`/admin/teams/${u.team.id}`}]),d=q({name:u.team.name,description:u.team.description||"",subscription_status:u.team.subscription_status,trial_days:14,is_active:u.team.is_active}),E=i=>{switch(i){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"trial":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"past_due":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"canceled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},P=i=>i?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",M=()=>{d.put(`/admin/teams/${u.team.id}`,{onSuccess:()=>{p.value=!1}})},j=()=>{confirm("Are you sure you want to suspend this team?")&&C.post(`/admin/teams/${u.team.id}/suspend`)},F=()=>{C.post(`/admin/teams/${u.team.id}/activate`)},I=()=>{confirm("Are you sure you want to delete this team? This action cannot be undone.")&&C.delete(`/admin/teams/${u.team.id}`)};return(i,t)=>(m(),f($,null,[s(e(z),{title:`Admin - ${i.team.name}`},null,8,["title"]),s(K,{breadcrumbs:B.value},{default:l(()=>[a("div",se,[a("div",ae,[a("div",null,[a("h1",le,n(i.team.name),1),a("p",ie,n(i.team.description||"No description provided"),1)]),a("div",oe,[s(e(_),{onClick:t[0]||(t[0]=r=>p.value=!p.value),variant:"outline"},{default:l(()=>[s(e(Q),{class:"mr-2 h-4 w-4"}),o(" "+n(p.value?"Cancel":"Edit"),1)]),_:1}),i.team.is_active?(m(),x(e(_),{key:0,onClick:j,variant:"destructive"},{default:l(()=>[s(e(R),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=o(" Suspend "))]),_:1,__:[6]})):(m(),x(e(_),{key:1,onClick:F,variant:"default"},{default:l(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=o(" Activate "))]),_:1,__:[7]})),s(e(_),{onClick:I,variant:"destructive"},{default:l(()=>[s(e(Y),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=o(" Delete "))]),_:1,__:[8]})])]),a("div",ne,[s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(Z),{class:"h-4 w-4"}),t[9]||(t[9]=o(" Total Users "))]),_:1,__:[9]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",de,n(i.teamStats.total_users),1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(ee),{class:"h-4 w-4"}),t[10]||(t[10]=o(" Active Users "))]),_:1,__:[10]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",re,n(i.teamStats.active_users),1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(te),{class:"h-4 w-4"}),t[11]||(t[11]=o(" Created "))]),_:1,__:[11]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",me,n(i.teamStats.created_ago),1),a("div",ue,n(i.teamStats.days_since_created)+" days ago",1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium"},{default:l(()=>t[12]||(t[12]=[o("Trial Status")])),_:1,__:[12]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",fe,n(i.teamStats.trial_status),1),i.team.trial_ends_at?(m(),f("div",pe," Ends: "+n(new Date(i.team.trial_ends_at).toLocaleDateString()),1)):y("",!0)]),_:1})]),_:1})]),a("div",_e,[s(e(c),null,{default:l(()=>[s(e(v),null,{default:l(()=>[s(e(b),null,{default:l(()=>t[13]||(t[13]=[o("Team Information")])),_:1,__:[13]}),s(e(N),null,{default:l(()=>t[14]||(t[14]=[o("Basic team details and settings")])),_:1,__:[14]})]),_:1}),s(e(g),null,{default:l(()=>[p.value?(m(),f("form",{key:0,onSubmit:G(M,["prevent"]),class:"space-y-4"},[a("div",ce,[s(e(k),{for:"name"},{default:l(()=>t[15]||(t[15]=[o("Team Name")])),_:1,__:[15]}),s(e(T),{id:"name",modelValue:e(d).name,"onUpdate:modelValue":t[1]||(t[1]=r=>e(d).name=r)},null,8,["modelValue"]),s(S,{message:e(d).errors.name},null,8,["message"])]),a("div",ge,[s(e(k),{for:"description"},{default:l(()=>t[16]||(t[16]=[o("Description")])),_:1,__:[16]}),s(e(T),{id:"description",modelValue:e(d).description,"onUpdate:modelValue":t[2]||(t[2]=r=>e(d).description=r)},null,8,["modelValue"]),s(S,{message:e(d).errors.description},null,8,["message"])]),a("div",ve,[s(e(k),{for:"subscription_status"},{default:l(()=>t[17]||(t[17]=[o("Subscription Status")])),_:1,__:[17]}),H(a("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>e(d).subscription_status=r),class:"w-full px-3 py-2 text-sm bg-background border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"},t[18]||(t[18]=[a("option",{value:"trial"},"Trial",-1),a("option",{value:"active"},"Active",-1),a("option",{value:"past_due"},"Past Due",-1),a("option",{value:"canceled"},"Canceled",-1)]),512),[[J,e(d).subscription_status]]),s(S,{message:e(d).errors.subscription_status},null,8,["message"])]),e(d).subscription_status==="trial"?(m(),f("div",be,[s(e(k),{for:"trial_days"},{default:l(()=>t[19]||(t[19]=[o("Extend Trial (Days)")])),_:1,__:[19]}),s(e(T),{id:"trial_days",modelValue:e(d).trial_days,"onUpdate:modelValue":t[4]||(t[4]=r=>e(d).trial_days=r),modelModifiers:{number:!0},type:"number",min:"0",max:"365"},null,8,["modelValue"]),s(S,{message:e(d).errors.trial_days},null,8,["message"])])):y("",!0),a("div",xe,[s(e(_),{type:"submit",disabled:e(d).processing},{default:l(()=>[o(n(e(d).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"]),s(e(_),{type:"button",variant:"outline",onClick:t[5]||(t[5]=r=>p.value=!1)},{default:l(()=>t[20]||(t[20]=[o(" Cancel ")])),_:1,__:[20]})])],32)):(m(),f("div",ye,[a("div",null,[t[21]||(t[21]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Name",-1)),a("p",ke,n(i.team.name),1)]),a("div",null,[t[22]||(t[22]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Slug",-1)),a("p",we,n(i.team.slug),1)]),a("div",null,[t[23]||(t[23]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Description",-1)),a("p",null,n(i.team.description||"No description provided"),1)]),a("div",null,[t[24]||(t[24]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Status",-1)),a("div",null,[s(e(w),{class:A(P(i.team.is_active))},{default:l(()=>[o(n(i.team.is_active?"Active":"Suspended"),1)]),_:1},8,["class"])])]),a("div",null,[t[25]||(t[25]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Subscription",-1)),a("div",null,[s(e(w),{class:A(E(i.team.subscription_status))},{default:l(()=>[o(n(i.team.subscription_status),1)]),_:1},8,["class"])])]),a("div",null,[t[26]||(t[26]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Owner",-1)),a("div",null,[a("p",Se,n(i.team.owner.name),1),a("p",$e,n(i.team.owner.email),1)])])]))]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),null,{default:l(()=>[s(e(b),null,{default:l(()=>[o("Team Members ("+n(i.team.users.length)+")",1)]),_:1}),s(e(N),null,{default:l(()=>t[27]||(t[27]=[o("Users belonging to this team")])),_:1,__:[27]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",Ce,[(m(!0),f($,null,D(i.team.users,r=>(m(),f("div",{key:r.id,class:"flex items-start justify-between p-3 border rounded"},[a("div",null,[a("p",Te,n(r.name),1),a("p",Ve,n(r.email),1),a("div",Ae,[(m(!0),f($,null,D(r.roles,V=>(m(),x(e(w),{key:V.id,variant:"secondary",class:"text-xs"},{default:l(()=>[o(n(V.name.replace(`-${i.team.id}`,"").replace("team-","")),1)]),_:2},1024))),128))])]),a("div",De,[r.id===i.team.owner_id?(m(),x(e(w),{key:0,variant:"default",class:"text-xs"},{default:l(()=>t[28]||(t[28]=[o(" Owner ")])),_:1,__:[28]})):y("",!0)])]))),128)),i.team.users.length===0?(m(),f("div",Ne," No team members found ")):y("",!0)])]),_:1})]),_:1})])])]),_:1},8,["breadcrumbs"])],64))}});export{Xe as default};
