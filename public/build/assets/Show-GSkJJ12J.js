import{d as q,u as I,q as L,c as O,k as z,a as f,o as m,b as s,e,h as G,w as l,f as a,t as d,i as y,g as o,m as x,l as H,p as J,v as K,n as A,F as $,r as D,y as C}from"./app-CxR3Rgxi.js";import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-BJdKCi8B.js";import{_}from"./index-BVKlX1El.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-DXd3euAp.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-CUDsUqIl.js";import{_ as c,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-CIRecHqL.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-_FHY3Eph.js";import{_ as v,a as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-BPQ0Tuht.js";import{_ as w}from"./Badge.vue_vue_type_script_setup_true_lang-BwC_mOsW.js";import{_ as S}from"./InputError.vue_vue_type_script_setup_true_lang-DnAHSIpy.js";import{S as R}from"./square-pen-BXWLyNs3.js";import{P as W,a as X}from"./play-BaybDote.js";import{T as Y}from"./trash-2-mxqlWjR9.js";import{U as Z}from"./users-C6UN0_C7.js";import{A as ee}from"./activity-BaRmT7s_.js";import{C as te}from"./calendar-vRuk-Z2F.js";import"./useForwardExpose-3NUKWST4.js";import"./x-DHtexKo2.js";import"./building-rc9xLOpA.js";const se={class:"space-y-6"},ae={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},le={class:"text-3xl font-bold tracking-tight"},ie={class:"text-muted-foreground"},oe={class:"flex gap-2"},de={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},ne={class:"text-2xl font-bold"},re={class:"text-2xl font-bold"},me={class:"text-sm font-medium"},ue={class:"text-xs text-muted-foreground"},fe={class:"text-sm font-medium"},pe={key:0,class:"text-xs text-muted-foreground"},_e={class:"grid gap-6 lg:grid-cols-2"},ce={class:"space-y-2"},ge={class:"space-y-2"},ve={class:"space-y-2"},be={key:0,class:"space-y-2"},ye={class:"flex gap-2"},xe={key:1,class:"space-y-4"},ke={class:"font-medium"},we={class:"font-mono text-sm"},Se={class:"font-medium"},$e={class:"text-sm text-muted-foreground"},Ce={class:"space-y-4"},Te={class:"font-medium"},Ve={class:"text-sm text-muted-foreground"},Ae={class:"flex gap-1 mt-1"},De={class:"flex items-center gap-1"},Ne={key:0,class:"text-center py-4 text-muted-foreground"},Xe=q({__name:"Show",props:{team:{},teamStats:{}},setup(U){const u=U,{t:Ue}=I(),p=L(!1),B=O(()=>[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Teams",href:"/admin/teams"},{title:u.team.name,href:`/admin/teams/${u.team.id}`}]),n=z({name:u.team.name,description:u.team.description||"",subscription_status:u.team.subscription_status,trial_days:14,is_active:u.team.is_active}),E=i=>{switch(i){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"trial":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"past_due":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"canceled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},P=i=>i?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",M=()=>{n.put(`/admin/teams/${u.team.id}`,{onSuccess:()=>{p.value=!1}})},F=()=>{confirm("Are you sure you want to suspend this team?")&&C.post(`/admin/teams/${u.team.id}/suspend`)},h=()=>{C.post(`/admin/teams/${u.team.id}/activate`)},j=()=>{confirm("Are you sure you want to delete this team? This action cannot be undone.")&&C.delete(`/admin/teams/${u.team.id}`)};return(i,t)=>(m(),f($,null,[s(e(G),{title:`Admin - ${i.team.name}`},null,8,["title"]),s(Q,{breadcrumbs:B.value},{default:l(()=>[a("div",se,[a("div",ae,[a("div",null,[a("h1",le,d(i.team.name),1),a("p",ie,d(i.team.description||"No description provided"),1)]),a("div",oe,[s(e(_),{onClick:t[0]||(t[0]=r=>p.value=!p.value),variant:"outline"},{default:l(()=>[s(e(R),{class:"mr-2 h-4 w-4"}),o(" "+d(p.value?"Cancel":"Edit"),1)]),_:1}),i.team.is_active?(m(),y(e(_),{key:0,onClick:F,variant:"destructive"},{default:l(()=>[s(e(W),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=o(" Suspend ",-1))]),_:1,__:[6]})):(m(),y(e(_),{key:1,onClick:h,variant:"default"},{default:l(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=o(" Activate ",-1))]),_:1,__:[7]})),s(e(_),{onClick:j,variant:"destructive"},{default:l(()=>[s(e(Y),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=o(" Delete ",-1))]),_:1,__:[8]})])]),a("div",de,[s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(Z),{class:"h-4 w-4"}),t[9]||(t[9]=o(" Total Users ",-1))]),_:1,__:[9]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",ne,d(i.teamStats.total_users),1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(ee),{class:"h-4 w-4"}),t[10]||(t[10]=o(" Active Users ",-1))]),_:1,__:[10]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",re,d(i.teamStats.active_users),1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium flex items-center gap-2"},{default:l(()=>[s(e(te),{class:"h-4 w-4"}),t[11]||(t[11]=o(" Created ",-1))]),_:1,__:[11]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",me,d(i.teamStats.created_ago),1),a("div",ue,d(i.teamStats.days_since_created)+" days ago",1)]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),{class:"pb-2"},{default:l(()=>[s(e(b),{class:"text-sm font-medium"},{default:l(()=>t[12]||(t[12]=[o("Trial Status",-1)])),_:1,__:[12]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",fe,d(i.teamStats.trial_status),1),i.team.trial_ends_at?(m(),f("div",pe," Ends: "+d(new Date(i.team.trial_ends_at).toLocaleDateString()),1)):x("",!0)]),_:1})]),_:1})]),a("div",_e,[s(e(c),null,{default:l(()=>[s(e(v),null,{default:l(()=>[s(e(b),null,{default:l(()=>t[13]||(t[13]=[o("Team Information",-1)])),_:1,__:[13]}),s(e(N),null,{default:l(()=>t[14]||(t[14]=[o("Basic team details and settings",-1)])),_:1,__:[14]})]),_:1}),s(e(g),null,{default:l(()=>[p.value?(m(),f("form",{key:0,onSubmit:H(M,["prevent"]),class:"space-y-4"},[a("div",ce,[s(e(k),{for:"name"},{default:l(()=>t[15]||(t[15]=[o("Team Name",-1)])),_:1,__:[15]}),s(e(T),{id:"name",modelValue:e(n).name,"onUpdate:modelValue":t[1]||(t[1]=r=>e(n).name=r)},null,8,["modelValue"]),s(S,{message:e(n).errors.name},null,8,["message"])]),a("div",ge,[s(e(k),{for:"description"},{default:l(()=>t[16]||(t[16]=[o("Description",-1)])),_:1,__:[16]}),s(e(T),{id:"description",modelValue:e(n).description,"onUpdate:modelValue":t[2]||(t[2]=r=>e(n).description=r)},null,8,["modelValue"]),s(S,{message:e(n).errors.description},null,8,["message"])]),a("div",ve,[s(e(k),{for:"subscription_status"},{default:l(()=>t[17]||(t[17]=[o("Subscription Status",-1)])),_:1,__:[17]}),J(a("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>e(n).subscription_status=r),class:"w-full px-3 py-2 text-sm bg-background border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"},t[18]||(t[18]=[a("option",{value:"trial"},"Trial",-1),a("option",{value:"active"},"Active",-1),a("option",{value:"past_due"},"Past Due",-1),a("option",{value:"canceled"},"Canceled",-1)]),512),[[K,e(n).subscription_status]]),s(S,{message:e(n).errors.subscription_status},null,8,["message"])]),e(n).subscription_status==="trial"?(m(),f("div",be,[s(e(k),{for:"trial_days"},{default:l(()=>t[19]||(t[19]=[o("Extend Trial (Days)",-1)])),_:1,__:[19]}),s(e(T),{id:"trial_days",modelValue:e(n).trial_days,"onUpdate:modelValue":t[4]||(t[4]=r=>e(n).trial_days=r),modelModifiers:{number:!0},type:"number",min:"0",max:"365"},null,8,["modelValue"]),s(S,{message:e(n).errors.trial_days},null,8,["message"])])):x("",!0),a("div",ye,[s(e(_),{type:"submit",disabled:e(n).processing},{default:l(()=>[o(d(e(n).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"]),s(e(_),{type:"button",variant:"outline",onClick:t[5]||(t[5]=r=>p.value=!1)},{default:l(()=>t[20]||(t[20]=[o(" Cancel ",-1)])),_:1,__:[20]})])],32)):(m(),f("div",xe,[a("div",null,[t[21]||(t[21]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Name",-1)),a("p",ke,d(i.team.name),1)]),a("div",null,[t[22]||(t[22]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Slug",-1)),a("p",we,d(i.team.slug),1)]),a("div",null,[t[23]||(t[23]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Description",-1)),a("p",null,d(i.team.description||"No description provided"),1)]),a("div",null,[t[24]||(t[24]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Status",-1)),a("div",null,[s(e(w),{class:A(P(i.team.is_active))},{default:l(()=>[o(d(i.team.is_active?"Active":"Suspended"),1)]),_:1},8,["class"])])]),a("div",null,[t[25]||(t[25]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Subscription",-1)),a("div",null,[s(e(w),{class:A(E(i.team.subscription_status))},{default:l(()=>[o(d(i.team.subscription_status),1)]),_:1},8,["class"])])]),a("div",null,[t[26]||(t[26]=a("label",{class:"text-sm font-medium text-muted-foreground"},"Owner",-1)),a("div",null,[a("p",Se,d(i.team.owner.name),1),a("p",$e,d(i.team.owner.email),1)])])]))]),_:1})]),_:1}),s(e(c),null,{default:l(()=>[s(e(v),null,{default:l(()=>[s(e(b),null,{default:l(()=>[o("Team Members ("+d(i.team.users.length)+")",1)]),_:1}),s(e(N),null,{default:l(()=>t[27]||(t[27]=[o("Users belonging to this team",-1)])),_:1,__:[27]})]),_:1}),s(e(g),null,{default:l(()=>[a("div",Ce,[(m(!0),f($,null,D(i.team.users,r=>(m(),f("div",{key:r.id,class:"flex items-start justify-between p-3 border rounded"},[a("div",null,[a("p",Te,d(r.name),1),a("p",Ve,d(r.email),1),a("div",Ae,[(m(!0),f($,null,D(r.roles,V=>(m(),y(e(w),{key:V.id,variant:"secondary",class:"text-xs"},{default:l(()=>[o(d(V.name.replace(`-${i.team.id}`,"").replace("team-","")),1)]),_:2},1024))),128))])]),a("div",De,[r.id===i.team.owner_id?(m(),y(e(w),{key:0,variant:"default",class:"text-xs"},{default:l(()=>t[28]||(t[28]=[o(" Owner ",-1)])),_:1,__:[28]})):x("",!0)])]))),128)),i.team.users.length===0?(m(),f("div",Ne," No team members found ")):x("",!0)])]),_:1})]),_:1})])])]),_:1},8,["breadcrumbs"])],64))}});export{Xe as default};
