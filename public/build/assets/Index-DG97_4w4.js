var we=Object.defineProperty;var be=(C,a,l)=>a in C?we(C,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):C[a]=l;var N=(C,a,l)=>be(C,typeof a!="symbol"?a+"":a,l);import{d as xe,u as Pe,p as k,c as Se,E as ke,W as Ce,C as Fe,a as f,o as g,b as o,e as n,g as Me,w as u,f as s,l as x,S as T,h,t as d,m as J,i as j,F as $,r as E,v as L,z as Ae,s as Je}from"./app-D3LdiifG.js";import{_ as $e}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cn4d7ll3.js";import{_ as b}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-vV8PW8Ut.js";import{_ as Ee}from"./Input.vue_vue_type_script_setup_true_lang-B10n1S04.js";import{_ as ee}from"./Badge.vue_vue_type_script_setup_true_lang-w5PyHZM5.js";import{_ as te,a as se,b as ae,c as re,d as ne,e as ie}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BkrEy-aF.js";import{_ as I}from"./Label.vue_vue_type_script_setup_true_lang-651P7Xtn.js";import{_ as w}from"./Icon.vue_vue_type_script_setup_true_lang-DNrj-HSi.js";import{_ as De}from"./Heading.vue_vue_type_script_setup_true_lang-CcDoZ7K0.js";import"./useForwardExpose-w1gfauGB.js";import"./RovingFocusGroup-CpnF0ycG.js";import"./building-BA77nW2t.js";import"./users-CABRP0Cj.js";import"./activity-B17Zh4Dq.js";import"./arrow-left-CAlQ2p7T.js";import"./calendar-Dk3mYTdz.js";import"./check-CLTzwfe9.js";import"./chevron-down-C63vKOJu.js";import"./search-HiSSpd-m.js";import"./eye-BSTL68Fh.js";import"./user-Zy25AZ2R.js";import"./loader-circle-bn3ZAs3A.js";import"./sun-CBoOZXXy.js";import"./play-BcbHS29B.js";import"./plus-CqsPXapN.js";import"./square-pen-B_AkG4cx.js";import"./trash-2-DDU2_33G.js";import"./triangle-alert-CtwAzkUx.js";const M=class M{constructor(){N(this,"statusCallbacks",[])}static getInstance(){return M.instance||(M.instance=new M),M.instance}loadScript(a){return new Promise((l,m)=>{if(document.querySelector(`script[src="${a}"]`)){l();return}const _=document.createElement("script");_.src=a,_.onload=()=>l(),_.onerror=()=>m(new Error(`Failed to load script: ${a}`)),document.head.appendChild(_)})}async loadRequiredScripts(){try{this.notifyStatusChange("Loading print libraries..."),await this.loadScript("/js/bluebird.min.js"),await this.loadScript("/js/jquery-3.2.1.slim.min.js"),await this.loadScript("/js/jsmanager/JSPrintManager.js"),this.notifyStatusChange("Print libraries loaded successfully")}catch(a){throw console.error("Failed to load scripts:",a),this.notifyStatusChange("Failed to load print libraries"),a}}async initializeJSPrintManager(){return typeof window.JSPM>"u"&&(await this.loadRequiredScripts(),await new Promise(a=>setTimeout(a,500))),new Promise((a,l)=>{if(typeof window.JSPM<"u"){window.JSPM.JSPrintManager.auto_reconnect=!0,window.JSPM.JSPrintManager.start();const m=setTimeout(()=>{this.notifyStatusChange("JSPrintManager connection timeout",[],!1),l(new Error("JSPrintManager connection timeout"))},1e4);window.JSPM.JSPrintManager.WS.onStatusChanged=()=>{this.jspmWSStatus()?(clearTimeout(m),this.notifyStatusChange("Connected to JSPrintManager",[],!0),setTimeout(()=>{window.JSPM.JSPrintManager.getPrinters().then(c=>{console.log("PrintService: Retrieved printers:",c),this.notifyStatusChange("Connected to JSPrintManager",c,!0),a()}).catch(c=>{console.error("PrintService: Failed to get printers:",c),this.notifyStatusChange("Failed to get printers",[],!1),l(c)})},1e3)):(clearTimeout(m),this.notifyStatusChange("JSPrintManager connection failed",[],!1),l(new Error("JSPrintManager connection failed")))}}else{const m="JSPrintManager not loaded";this.notifyStatusChange(m,[],!1),l(new Error(m))}})}jspmWSStatus(){return window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Open?!0:window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Closed?(this.notifyStatusChange("JSPrintManager is not installed or not running! Download JSPM Client App from https://neodynamic.com/downloads/jspm",[],!1),!1):(window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Blocked&&this.notifyStatusChange("JSPM has blocked this website!",[],!1),!1)}async getAvailablePrinters(){return typeof window.JSPM<"u"&&this.jspmWSStatus()?await window.JSPM.JSPrintManager.getPrinters():[]}generateAssetLabelZPL(a){let l="^XA";return l+="^PW406",l+="^LL203",l+="^MD30",l+="^SD15",l+="^FO10,50^GFA,329,329,7,,,,,,K0F1C,J01E3E,I039F1C4,I079E10F,I07BF03E,I073E17E,00213E7FC,00607CFF8,00F87CFF,00F8F9F800C,00FCF8J08,007EF,003E6,03BEK03F,039FK07F,039FK07F,07CFK03F8,008F,I0F8I018,I07J03C,03DK03E68,07FCJ01C7,03FFJ01E7,03FF8I01F3,017FEI09F,I0FE0018F8,0043E003CF8,00F1I03C7C,00F80807C3C,0070700F838,0020F00F008,I03E00F3,I07E01F38,I07C01E78,I03801E3,L01E,L01C,L01,,,,,^FS",l+="^FO70,30^A0N,18,18^FDFAHAD NAWAF ALZEER HOLDING CO.^FS",l+=`^FO70,65^A0N,24,24^FD${a.asset_tag}^FS`,l+="^FO70,100^BY2,2,35",l+="^BCN,35,Y,N,N",l+=`^FD${a.serial_number||a.asset_tag}^FS`,l+="^FO320,50^BQN,2,4",l+=`^FDMM,${a.asset_tag}^FS`,l+=`^FO70,175^A0N,18,18^FD${new Date().toISOString().split("T")[0]}^FS`,l+="^XZ",l}async printAssetLabel(a,l=!1,m=""){if(!this.jspmWSStatus())throw new Error("JSPrintManager is not connected");if(!l&&!m)throw new Error("Please select a printer first");try{const c=new window.JSPM.ClientPrintJob;l?c.clientPrinter=new window.JSPM.DefaultPrinter:c.clientPrinter=new window.JSPM.InstalledPrinter(m);const _=this.generateAssetLabelZPL(a);c.printerCommands=_,c.sendToClient(),console.log(`Printed label for asset ${a.asset_tag}`)}catch(c){throw console.error("Print error:",c),c}}async printMultipleAssetLabels(a,l=!1,m=""){if(!this.jspmWSStatus())throw new Error("JSPrintManager is not connected");if(!l&&!m)throw new Error("Please select a printer first");try{const c=new window.JSPM.ClientPrintJob;l?c.clientPrinter=new window.JSPM.DefaultPrinter:c.clientPrinter=new window.JSPM.InstalledPrinter(m);let _="";a.forEach(P=>{_+=this.generateAssetLabelZPL(P)}),c.printerCommands=_,c.sendToClient(),console.log(`Printed ${a.length} labels`)}catch(c){throw console.error("Print error:",c),c}}onStatusChange(a){this.statusCallbacks.push(a)}offStatusChange(a){const l=this.statusCallbacks.indexOf(a);l>-1&&this.statusCallbacks.splice(l,1)}notifyStatusChange(a,l=[],m=!1){this.statusCallbacks.forEach(c=>{c({status:a,availablePrinters:l,isConnected:m})})}};N(M,"instance");let O=M;const Te={class:"space-y-6"},je={class:"flex items-center justify-between my-2"},Le={class:"flex flex-col sm:flex-row gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ie={class:"flex-1 relative"},ze={class:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 pl-3 rtl:pl-0 rtl:pr-3 flex items-center pointer-events-none"},Ne={value:""},Oe=["value"],Ve={value:""},We=["value"],Be={key:0,class:"flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg mb-4"},Ue={class:"flex items-center gap-4"},Ze={class:"text-sm font-medium text-blue-900 dark:text-blue-100"},Ke={class:"flex items-center gap-2"},qe={key:1,class:"text-center py-12"},He={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},Xe={class:"text-gray-600 dark:text-gray-400 mb-6"},Ge={key:2,class:"bg-white dark:bg-gray-800 rounded-lg border overflow-hidden"},Re={class:"overflow-x-auto"},Ye={class:"w-full"},Qe={class:"bg-gray-50 dark:bg-gray-700"},et={class:"text-left rtl:text-right"},tt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-12"},st=["checked"],at={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},rt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},nt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},it={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ot={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},lt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},dt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ut={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ct={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},gt={class:"px-6 py-4 whitespace-nowrap"},ft=["checked","onChange"],mt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"flex items-center"},ht={class:"flex-shrink-0 h-10 w-10"},vt={key:0,class:"h-10 w-10 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600"},_t=["src","alt","onError"],yt={key:1,class:"h-10 w-10 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600"},wt=["src","alt","onError"],bt={key:2,class:"h-10 w-10 rounded-lg bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},xt={class:"ml-4 rtl:ml-0 rtl:mr-4"},Pt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},St={class:"text-sm text-gray-500 dark:text-gray-400"},kt={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"flex justify-center"},Ft=["src","alt"],Mt={key:1,class:"h-12 w-12 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 flex items-center justify-center"},At={class:"px-6 py-4 whitespace-nowrap"},Jt={class:"text-sm text-gray-900 dark:text-gray-100"},$t={class:"text-sm text-gray-500 dark:text-gray-400"},Et={class:"px-6 py-4 whitespace-nowrap"},Dt={class:"text-sm text-gray-900 dark:text-gray-100"},Tt={class:"text-sm text-gray-500 dark:text-gray-400"},jt={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},Lt={class:"px-6 py-4 whitespace-nowrap"},It={class:"text-sm text-gray-900 dark:text-gray-100"},zt={class:"text-sm text-gray-500 dark:text-gray-400"},Nt={class:"px-6 py-4 whitespace-nowrap"},Ot={class:"px-6 py-4 whitespace-nowrap"},Vt={class:"px-6 py-4 whitespace-nowrap text-right rtl:text-left text-sm font-medium"},Wt={class:"flex justify-end rtl:justify-start gap-1"},Bt={key:0,class:"mt-2 font-medium"},Ut={key:1,class:"mt-2"},Zt={class:"font-medium mb-2"},Kt={class:"max-h-32 overflow-y-auto bg-gray-50 dark:bg-gray-800 rounded p-2 text-sm"},qt={key:0,class:"text-gray-500 ml-2"},Ht={class:"space-y-4"},Xt={class:"flex items-center space-x-2"},Gt={key:0,class:"space-y-2"},Rt=["value"],Yt={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Qt={key:0,class:"mt-2 font-medium"},es={class:"space-y-4"},ts={class:"space-y-2"},ss={class:"space-y-2"},Es=xe({__name:"Index",props:{assets:{},categories:{},locations:{},filters:{}},setup(C){var Z,K,q;const{t:a}=Pe(),l=O.getInstance(),m=C,c=k(((Z=m.filters)==null?void 0:Z.search)||""),_=k(((K=m.filters)==null?void 0:K.category_id)||""),P=k(((q=m.filters)==null?void 0:q.location_id)||""),y=k(new Set),F=k(!1),V=k(new Set),W=k(new Set),i=k({show:!1,printing:!1,useDefaultPrinter:!1,selectedPrinter:"",availablePrinters:[],status:"",currentAsset:null,selectedAssets:[]}),oe=Se(()=>[{title:a("nav.dashboard"),href:"/dashboard"},{title:a("nav.assets"),href:"/assets"}]),le=r=>{switch(r){case"available":return"default";case"assigned":return"secondary";case"maintenance":return"destructive";case"retired":return"outline";default:return"secondary"}};let B;ke([c,_,P],()=>{clearTimeout(B),B=window.setTimeout(()=>{Ce.get("/assets",{search:c.value||void 0,category_id:_.value||void 0,location_id:P.value||void 0},{preserveState:!0,replace:!0})},300)});const de=()=>{c.value="",_.value="",P.value=""},ue=(r,t)=>{V.value.add(t.id)},ce=(r,t)=>{W.value.add(t.id)},ge=r=>{if(console.log("Print service status:",r),i.value.status=r.status,r.isConnected&&r.availablePrinters.length>0&&(i.value.availablePrinters=r.availablePrinters,!i.value.selectedPrinter)){const t=r.availablePrinters.find(e=>e.toLowerCase().includes("zdesigner"));t?(i.value.selectedPrinter=t,console.log("Auto-selected ZDesigner printer via callback:",t)):r.availablePrinters.length>0&&(i.value.selectedPrinter=r.availablePrinters[0],console.log("Auto-selected first available printer via callback:",r.availablePrinters[0]))}},fe=r=>{y.value.has(r)?y.value.delete(r):y.value.add(r),U()},me=()=>{F.value?y.value.clear():m.assets.data.forEach(r=>{y.value.add(r.id)}),F.value=!F.value},U=()=>{const r=m.assets.data.length,t=y.value.size;F.value=r>0&&t===r},pe=()=>m.assets.data.filter(r=>y.value.has(r.id)),z=async r=>{r?(i.value.currentAsset=r,i.value.selectedAssets=[r]):(i.value.currentAsset=null,i.value.selectedAssets=pe()),i.value.show=!0,l.onStatusChange(ge),await he()},he=async(r=3,t=2e3)=>{for(let e=1;e<=r;e++)try{console.log(`Printer initialization attempt ${e}/${r}...`),i.value.status=`Connecting to JSPrintManager (attempt ${e}/${r})...`,e>1&&await new Promise(S=>setTimeout(S,t)),await l.initializeJSPrintManager();const v=await l.getAvailablePrinters();if(console.log(`Attempt ${e}: Found ${v.length} printers:`,v),v.length>0){if(i.value.availablePrinters=v,!i.value.selectedPrinter){const S=v.find(D=>D.toLowerCase().includes("zdesigner"));S?(i.value.selectedPrinter=S,console.log("Auto-selected ZDesigner printer:",S)):v.length>0&&(i.value.selectedPrinter=v[0],console.log("Auto-selected first available printer:",v[0]))}i.value.status=`Connected! Found ${v.length} printer(s)`,console.log("Printer initialization successful!");return}else e<r?(console.log(`Attempt ${e}: No printers found, retrying...`),i.value.status=`No printers found, retrying in ${t/1e3} seconds...`):(console.log("No printers found after all attempts"),i.value.status="Connected to JSPrintManager but no printers found")}catch(v){console.error(`Printer initialization attempt ${e} failed:`,v),e<r?i.value.status=`Connection failed, retrying in ${t/1e3} seconds... (${e}/${r})`:i.value.status="Failed to connect to JSPrintManager: "+(v instanceof Error?v.message:String(v))}};Fe(async()=>{if(new URLSearchParams(window.location.search).get("show_bulk_print")==="true")try{const t=await fetch("/api/assets/bulk-created");if(t.ok){const e=await t.json();if(e.length>0){e.forEach(S=>{y.value.add(S.id)}),U(),await z();const v=window.location.pathname;window.history.replaceState({},"",v)}}}catch(t){console.error("Failed to fetch bulk created assets:",t)}});const p=k({show:!1,asset:null,comment:"",priority:"normal",sending:!1}),ve=r=>{p.value.asset=r,p.value.comment="",p.value.priority="normal",p.value.show=!0},_e=async()=>{var r;if(p.value.asset){p.value.sending=!0;try{const t=await fetch("/api/print-jobs",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""},body:JSON.stringify({asset_id:p.value.asset.id,priority:p.value.priority,comment:p.value.comment||null})});if(t.ok){const e=await t.json();alert(`Print job ${e.print_job.job_id} sent to print machine successfully!`),p.value.show=!1}else{const e=await t.json();alert(`Failed to send print job: ${e.error||"Unknown error"}`)}}catch(t){console.error("Failed to send print job:",t),alert("Failed to send print job. Please try again.")}finally{p.value.sending=!1}}},ye=async()=>{const r=i.value.selectedAssets;if(!(!r||r.length===0)){console.log("Print settings:",{useDefaultPrinter:i.value.useDefaultPrinter,selectedPrinter:i.value.selectedPrinter,availablePrinters:i.value.availablePrinters}),i.value.printing=!0,i.value.status=`Printing ${r.length} label(s)...`;try{r.length===1?await l.printAssetLabel(r[0],i.value.useDefaultPrinter,i.value.selectedPrinter):await l.printMultipleAssetLabels(r,i.value.useDefaultPrinter,i.value.selectedPrinter),i.value.status=`${r.length} label(s) sent to printer successfully!`,setTimeout(()=>{i.value.show=!1,i.value.printing=!1,y.value.clear(),F.value=!1},2e3)}catch(t){console.error("Print error:",t),i.value.status="Error occurred while printing: "+(t instanceof Error?t.message:String(t)),i.value.printing=!1}}};return(r,t)=>(g(),f($,null,[o(n(Me),{title:n(a)("assets.title")},null,8,["title"]),o($e,{breadcrumbs:oe.value},{default:u(()=>[s("div",Te,[s("div",je,[o(De,{title:n(a)("assets.title")},null,8,["title"]),o(n(b),{asChild:""},{default:u(()=>[o(n(T),{href:r.route("assets.create")},{default:u(()=>[o(w,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),h(" "+d(n(a)("assets.create_asset")),1)]),_:1},8,["href"])]),_:1})]),s("div",Le,[s("div",Ie,[s("div",ze,[o(w,{name:"Search",class:"h-4 w-4 text-gray-400"})]),o(n(Ee),{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),placeholder:n(a)("assets.search_placeholder"),class:"w-full pl-10 rtl:pl-3 rtl:pr-10"},null,8,["modelValue","placeholder"])]),J(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>_.value=e),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s("option",Ne,d(n(a)("assets.filter_by_category")),1),(g(!0),f($,null,E(r.categories,e=>(g(),f("option",{key:e.id,value:e.id},d(e.name),9,Oe))),128))],512),[[L,_.value]]),J(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>P.value=e),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s("option",Ve,d(n(a)("assets.filter_by_location")),1),(g(!0),f($,null,E(r.locations,e=>(g(),f("option",{key:e.id,value:e.id},d(`${e.code}: ${e.name}`),9,We))),128))],512),[[L,P.value]]),c.value||_.value||P.value?(g(),j(n(b),{key:0,variant:"ghost",onClick:de},{default:u(()=>[o(w,{name:"X",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),h(" "+d(n(a)("common.clear")),1)]),_:1})):x("",!0)]),y.value.size>0?(g(),f("div",Be,[s("div",Ue,[s("span",Ze,d(y.value.size)+" asset(s) selected ",1),o(n(b),{variant:"outline",size:"sm",onClick:t[3]||(t[3]=e=>{y.value.clear(),F.value=!1})},{default:u(()=>t[13]||(t[13]=[h(" Clear Selection ")])),_:1,__:[13]})]),s("div",Ke,[o(n(b),{onClick:t[4]||(t[4]=e=>z()),class:"bg-blue-600 hover:bg-blue-700"},{default:u(()=>[o(w,{name:"Printer",class:"h-4 w-4 mr-2"}),h(" Print "+d(y.value.size)+" Label(s) ",1)]),_:1})])])):x("",!0),r.assets.data.length===0?(g(),f("div",qe,[o(w,{name:"HardDrive",class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s("h3",He,d(n(a)("assets.no_assets")),1),s("p",Xe,d(c.value||_.value||P.value?n(a)("assets.no_assets_found"):n(a)("assets.create_first_asset")),1),!c.value&&!_.value&&!P.value?(g(),j(n(b),{key:0,asChild:""},{default:u(()=>[o(n(T),{href:r.route("assets.create")},{default:u(()=>[o(w,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),h(" "+d(n(a)("assets.create_asset")),1)]),_:1},8,["href"])]),_:1})):x("",!0)])):(g(),f("div",Ge,[s("div",Re,[s("table",Ye,[s("thead",Qe,[s("tr",et,[s("th",tt,[s("input",{type:"checkbox",checked:F.value,onChange:me,class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,40,st)]),s("th",at,d(n(a)("assets.asset")),1),s("th",rt,d(n(a)("assets.template_image")),1),s("th",nt,d(n(a)("assets.company")),1),s("th",it,d(n(a)("assets.category")),1),s("th",ot,d(n(a)("assets.location")),1),s("th",lt,d(n(a)("assets.condition")),1),s("th",dt,d(n(a)("assets.status")),1),s("th",ut,d(n(a)("common.actions")),1)])]),s("tbody",ct,[(g(!0),f($,null,E(r.assets.data,e=>{var v,S,D,H,X,G,R,Y,Q;return g(),f("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[s("td",gt,[s("input",{type:"checkbox",checked:y.value.has(e.id),onChange:A=>fe(e.id),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,40,ft)]),s("td",mt,[s("div",pt,[s("div",ht,[e.image_path&&!V.value.has(e.id)?(g(),f("div",vt,[s("img",{src:`/storage/${e.image_path}`,alt:e.asset_tag,class:"h-full w-full object-cover",onError:A=>ue(A,e)},null,40,_t)])):(v=e.assetTemplate)!=null&&v.image_path&&!W.value.has(e.id)?(g(),f("div",yt,[s("img",{src:`/storage/${e.assetTemplate.image_path}`,alt:e.assetTemplate.name||"Template",class:"h-full w-full object-cover",onError:A=>ce(A,e)},null,40,wt)])):(g(),f("div",bt,[o(w,{name:"HardDrive",class:"h-5 w-5 text-gray-700 dark:text-gray-300"})]))]),s("div",xt,[s("div",Pt,d(e.asset_tag),1),s("div",St,d(e.model_name||e.serial_number||"-"),1)])])]),s("td",kt,[s("div",Ct,[(S=e.assetTemplate)!=null&&S.image_path?(g(),f("img",{key:0,src:`/storage/${e.assetTemplate.image_path}`,alt:e.assetTemplate.name||"Template",class:"h-12 w-12 object-cover rounded-lg border border-gray-200 dark:border-gray-600"},null,8,Ft)):(g(),f("div",Mt,[o(w,{name:"Image",class:"h-5 w-5 text-gray-400"})]))])]),s("td",At,[s("div",Jt,d(((D=e.company)==null?void 0:D.name_en)||"-"),1),s("div",$t,d(((H=e.company)==null?void 0:H.slug)||"-"),1)]),s("td",Et,[s("div",Dt,d(((X=e.category)==null?void 0:X.name)||"-"),1),s("div",Tt,d(((G=e.category)==null?void 0:G.code)||"-"),1),(R=e.assetTemplate)!=null&&R.name?(g(),f("div",jt,d(e.assetTemplate.name),1)):x("",!0)]),s("td",Lt,[s("div",It,d(((Y=e.location)==null?void 0:Y.name)||"-"),1),s("div",zt,d(((Q=e.location)==null?void 0:Q.code)||"-"),1)]),s("td",Nt,[o(n(ee),{variant:e.condition==="good"?"default":"destructive"},{default:u(()=>[h(d(n(a)(`assets.condition_${e.condition}`)),1)]),_:2},1032,["variant"])]),s("td",Ot,[o(n(ee),{variant:le(e.status)},{default:u(()=>[h(d(n(a)(`assets.status_${e.status}`)),1)]),_:2},1032,["variant"])]),s("td",Vt,[s("div",Wt,[o(n(b),{variant:"ghost",size:"sm",onClick:A=>z(e),title:"Print Label"},{default:u(()=>[o(w,{name:"Printer",class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(n(b),{variant:"ghost",size:"sm",onClick:A=>ve(e),title:"Send to Print Machine"},{default:u(()=>[o(w,{name:"Send",class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(n(b),{variant:"ghost",size:"sm",asChild:"",title:"View"},{default:u(()=>[o(n(T),{href:r.route("assets.show",e.id)},{default:u(()=>[o(w,{name:"Eye",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),o(n(b),{variant:"ghost",size:"sm",asChild:"",title:"Edit"},{default:u(()=>[o(n(T),{href:r.route("assets.edit",e.id)},{default:u(()=>[o(w,{name:"Pencil",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024)])])])}),128))])])])]))]),o(n(te),{open:i.value.show,"onUpdate:open":t[8]||(t[8]=e=>i.value.show=e)},{default:u(()=>[o(n(se),{class:"sm:max-w-md"},{default:u(()=>[o(n(ae),null,{default:u(()=>[o(n(re),null,{default:u(()=>t[14]||(t[14]=[h("Print Barcode Label")])),_:1,__:[14]}),o(n(ne),null,{default:u(()=>[t[15]||(t[15]=h(" Configure printer settings for the Zebra label printer. ")),i.value.selectedAssets.length===1?(g(),f("div",Bt," Asset: "+d(i.value.selectedAssets[0].asset_tag),1)):i.value.selectedAssets.length>1?(g(),f("div",Ut,[s("div",Zt," Printing "+d(i.value.selectedAssets.length)+" assets: ",1),s("div",Kt,[(g(!0),f($,null,E(i.value.selectedAssets,e=>(g(),f("div",{key:e.id,class:"py-1"},[h(d(e.asset_tag)+" ",1),e.serial_number?(g(),f("span",qt,"("+d(e.serial_number)+")",1)):x("",!0)]))),128))])])):x("",!0)]),_:1,__:[15]})]),_:1}),s("div",Ht,[s("div",Xt,[J(s("input",{type:"checkbox",id:"useDefaultPrinter","onUpdate:modelValue":t[5]||(t[5]=e=>i.value.useDefaultPrinter=e),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[Ae,i.value.useDefaultPrinter]]),o(n(I),{for:"useDefaultPrinter",class:"font-medium"},{default:u(()=>t[16]||(t[16]=[h(" Print to Default printer ")])),_:1,__:[16]})]),i.value.useDefaultPrinter?x("",!0):(g(),f("div",Gt,[o(n(I),{for:"installedPrinterName"},{default:u(()=>t[17]||(t[17]=[h("Select an installed Printer:")])),_:1,__:[17]}),J(s("select",{id:"installedPrinterName","onUpdate:modelValue":t[6]||(t[6]=e=>i.value.selectedPrinter=e),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},[t[18]||(t[18]=s("option",{value:""},"Select a printer...",-1)),(g(!0),f($,null,E(i.value.availablePrinters,e=>(g(),f("option",{key:e,value:e},d(e),9,Rt))),128))],512),[[L,i.value.selectedPrinter]])])),i.value.status?(g(),f("div",Yt," Status: "+d(i.value.status),1)):x("",!0)]),o(n(ie),null,{default:u(()=>[o(n(b),{variant:"outline",onClick:t[7]||(t[7]=e=>i.value.show=!1)},{default:u(()=>t[19]||(t[19]=[h(" Cancel ")])),_:1,__:[19]}),o(n(b),{onClick:ye,disabled:i.value.printing||!i.value.useDefaultPrinter&&!i.value.selectedPrinter},{default:u(()=>[i.value.printing?(g(),j(w,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 animate-spin"})):x("",!0),h(" Print "+d(i.value.selectedAssets.length>1?`${i.value.selectedAssets.length} Labels`:"Label"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),o(n(te),{open:p.value.show,"onUpdate:open":t[12]||(t[12]=e=>p.value.show=e)},{default:u(()=>[o(n(se),{class:"sm:max-w-md"},{default:u(()=>[o(n(ae),null,{default:u(()=>[o(n(re),null,{default:u(()=>t[20]||(t[20]=[h("Send to Print Machine")])),_:1,__:[20]}),o(n(ne),null,{default:u(()=>[t[21]||(t[21]=h(" Send this asset to the print station queue. ")),p.value.asset?(g(),f("div",Qt," Asset: "+d(p.value.asset.asset_tag),1)):x("",!0)]),_:1,__:[21]})]),_:1}),s("div",es,[s("div",ts,[o(n(I),{for:"priority"},{default:u(()=>t[22]||(t[22]=[h("Priority")])),_:1,__:[22]}),J(s("select",{id:"priority","onUpdate:modelValue":t[9]||(t[9]=e=>p.value.priority=e),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},t[23]||(t[23]=[s("option",{value:"low"},"Low",-1),s("option",{value:"normal"},"Normal",-1),s("option",{value:"high"},"High",-1),s("option",{value:"urgent"},"Urgent",-1)]),512),[[L,p.value.priority]])]),s("div",ss,[o(n(I),{for:"comment"},{default:u(()=>t[24]||(t[24]=[h("Comment (Optional)")])),_:1,__:[24]}),J(s("textarea",{id:"comment","onUpdate:modelValue":t[10]||(t[10]=e=>p.value.comment=e),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",rows:"3",placeholder:"Add a comment for the print station operator..."},null,512),[[Je,p.value.comment]])])]),o(n(ie),null,{default:u(()=>[o(n(b),{variant:"outline",onClick:t[11]||(t[11]=e=>p.value.show=!1)},{default:u(()=>t[25]||(t[25]=[h(" Cancel ")])),_:1,__:[25]}),o(n(b),{onClick:_e,disabled:p.value.sending},{default:u(()=>[p.value.sending?(g(),j(w,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 animate-spin"})):x("",!0),t[26]||(t[26]=h(" Send to Print Machine "))]),_:1,__:[26]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1},8,["breadcrumbs"])],64))}});export{Es as default};
