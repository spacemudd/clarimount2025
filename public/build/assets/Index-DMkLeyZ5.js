import{d as he,u as ye,p as w,c as be,E as we,W as xe,C as ke,a as u,o as d,b as r,e as a,g as Pe,w as i,f as s,l as h,S as $,h as p,t as n,m as M,i as J,F as A,r as E,v as j,z as Se,s as Fe,H as Ce}from"./app-Cl7B3qiy.js";import{_ as Me}from"./AppLayout.vue_vue_type_script_setup_true_lang-B2g_Sgs3.js";import{_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-TWlXryVj.js";import{_ as Ae}from"./Input.vue_vue_type_script_setup_true_lang-CmIpXe_P.js";import{_ as G}from"./Badge.vue_vue_type_script_setup_true_lang-B3SqZaNH.js";import{_ as Y,a as Q,b as ee,c as te,d as se,e as ae}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BefUwg9e.js";import{_ as D}from"./Label.vue_vue_type_script_setup_true_lang-Cazn_wvn.js";import{_}from"./Icon.vue_vue_type_script_setup_true_lang-DfP0IAZk.js";import{_ as Ee}from"./Heading.vue_vue_type_script_setup_true_lang-DSg1Xzgx.js";import"./useForwardExpose-BkQZWhBd.js";import"./RovingFocusGroup-xIKDMdm1.js";import"./building-CBzVr3ng.js";import"./users-Ct4ipfyp.js";import"./activity-dI2CYocv.js";import"./arrow-left-DDxQBwBV.js";import"./calendar-BhWvf09J.js";import"./check-COlaITkq.js";import"./chevron-down-gLAPp9hU.js";import"./search-CAkFRaUT.js";import"./eye-lffpshec.js";import"./user-rFlrGnCc.js";import"./loader-circle-C6aZ7T4T.js";import"./sun-B59gcz8Z.js";import"./play-CCjXeEVr.js";import"./plus-DHKl0PhJ.js";import"./square-pen-DPtHmtOg.js";import"./trash-2-DD9HmGS7.js";import"./triangle-alert-COA-bXCs.js";const $e={class:"space-y-6"},Je={class:"flex items-center justify-between my-2"},je={class:"flex flex-col sm:flex-row gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},De={class:"flex-1 relative"},Te={class:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 pl-3 rtl:pl-0 rtl:pr-3 flex items-center pointer-events-none"},Ie={value:""},Le=["value"],Ne={value:""},Ve=["value"],Oe={key:0,class:"flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg mb-4"},Be={class:"flex items-center gap-4"},Ue={class:"text-sm font-medium text-blue-900 dark:text-blue-100"},ze={class:"flex items-center gap-2"},We={key:1,class:"text-center py-12"},Ke={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},He={class:"text-gray-600 dark:text-gray-400 mb-6"},qe={key:2,class:"bg-white dark:bg-gray-800 rounded-lg border overflow-hidden"},Re={class:"overflow-x-auto"},Xe={class:"w-full"},Ze={class:"bg-gray-50 dark:bg-gray-700"},Ge={class:"text-left rtl:text-right"},Ye={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-12"},Qe=["checked"],et={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},tt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},st={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},at={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},rt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},lt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ot={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},nt={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},it={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},dt={class:"px-6 py-4 whitespace-nowrap"},ut=["checked","onChange"],ct={class:"px-6 py-4 whitespace-nowrap"},mt={class:"flex items-center"},pt={class:"flex-shrink-0 h-10 w-10"},gt={key:0,class:"h-10 w-10 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600"},ft=["src","alt","onError"],_t={key:1,class:"h-10 w-10 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600"},vt=["src","alt","onError"],ht={key:2,class:"h-10 w-10 rounded-lg bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},yt={class:"ml-4 rtl:ml-0 rtl:mr-4"},bt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},wt={class:"text-sm text-gray-500 dark:text-gray-400"},xt={class:"px-6 py-4 whitespace-nowrap"},kt={class:"flex justify-center"},Pt=["src","alt"],St={key:1,class:"h-12 w-12 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 flex items-center justify-center"},Ft={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"text-sm text-gray-900 dark:text-gray-100"},Mt={class:"text-sm text-gray-500 dark:text-gray-400"},At={class:"px-6 py-4 whitespace-nowrap"},Et={class:"text-sm text-gray-900 dark:text-gray-100"},$t={class:"text-sm text-gray-500 dark:text-gray-400"},Jt={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},jt={class:"px-6 py-4 whitespace-nowrap"},Dt={class:"text-sm text-gray-900 dark:text-gray-100"},Tt={class:"text-sm text-gray-500 dark:text-gray-400"},It={class:"px-6 py-4 whitespace-nowrap"},Lt={class:"px-6 py-4 whitespace-nowrap"},Nt={class:"px-6 py-4 whitespace-nowrap text-right rtl:text-left text-sm font-medium"},Vt={class:"flex justify-end rtl:justify-start gap-1"},Ot={key:0,class:"mt-2 font-medium"},Bt={key:1,class:"mt-2"},Ut={class:"font-medium mb-2"},zt={class:"max-h-32 overflow-y-auto bg-gray-50 dark:bg-gray-800 rounded p-2 text-sm"},Wt={key:0,class:"text-gray-500 ml-2"},Kt={class:"space-y-4"},Ht={class:"flex items-center space-x-2"},qt={key:0,class:"space-y-2"},Rt=["value"],Xt={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Zt={key:0,class:"mt-2 font-medium"},Gt={class:"space-y-4"},Yt={class:"space-y-2"},Qt={class:"space-y-2"},Ms=he({__name:"Index",props:{assets:{},categories:{},locations:{},filters:{}},setup(re){var U,z,W;const{t:c}=ye(),F=re,x=w(((U=F.filters)==null?void 0:U.search)||""),k=w(((z=F.filters)==null?void 0:z.category_id)||""),P=w(((W=F.filters)==null?void 0:W.location_id)||""),f=w(new Set),S=w(!1),L=w(new Set),N=w(new Set),o=w({show:!1,printing:!1,useDefaultPrinter:!1,selectedPrinter:"",availablePrinters:[],status:"",currentAsset:null,selectedAssets:[]}),le=be(()=>[{title:c("nav.dashboard"),href:"/dashboard"},{title:c("nav.assets"),href:"/assets"}]),oe=l=>{switch(l){case"available":return"default";case"assigned":return"secondary";case"maintenance":return"destructive";case"retired":return"outline";default:return"secondary"}};let V;we([x,k,P],()=>{clearTimeout(V),V=window.setTimeout(()=>{xe.get("/assets",{search:x.value||void 0,category_id:k.value||void 0,location_id:P.value||void 0},{preserveState:!0,replace:!0})},300)});const ne=()=>{x.value="",k.value="",P.value=""},ie=(l,t)=>{L.value.add(t.id)},de=(l,t)=>{N.value.add(t.id)},T=l=>new Promise((t,e)=>{if(document.querySelector(`script[src="${l}"]`)){t();return}const b=document.createElement("script");b.src=l,b.onload=()=>t(),b.onerror=()=>e(new Error(`Failed to load script: ${l}`)),document.head.appendChild(b)}),ue=async()=>{try{o.value.status="Loading print libraries...",await T("/js/bluebird.min.js"),await T("/js/jquery-3.2.1.slim.min.js"),await T("/js/jsmanager/JSPrintManager.js"),o.value.status="Print libraries loaded successfully"}catch(l){console.error("Failed to load scripts:",l),o.value.status="Failed to load print libraries"}},ce=l=>{f.value.has(l)?f.value.delete(l):f.value.add(l),O()},me=()=>{S.value?f.value.clear():F.assets.data.forEach(l=>{f.value.add(l.id)}),S.value=!S.value},O=()=>{const l=F.assets.data.length,t=f.value.size;S.value=l>0&&t===l},pe=()=>F.assets.data.filter(l=>f.value.has(l.id)),I=async l=>{l?(o.value.currentAsset=l,o.value.selectedAssets=[l]):(o.value.currentAsset=null,o.value.selectedAssets=pe()),o.value.show=!0,typeof window.JSPM>"u"&&await ue(),ge()},ge=()=>{Ce(()=>{typeof window.JSPM<"u"?(window.JSPM.JSPrintManager.auto_reconnect=!0,window.JSPM.JSPrintManager.start(),window.JSPM.JSPrintManager.WS.onStatusChanged=function(){B()&&(o.value.status="Connected to JSPrintManager",window.JSPM.JSPrintManager.getPrinters().then(function(l){o.value.availablePrinters=l}))}):o.value.status="JSPrintManager not loaded"})},B=()=>window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Open?!0:window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Closed?(o.value.status="JSPrintManager is not installed or not running! Download JSPM Client App from https://neodynamic.com/downloads/jspm",!1):(window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Blocked&&(o.value.status="JSPM has blocked this website!"),!1);ke(async()=>{if(new URLSearchParams(window.location.search).get("show_bulk_print")==="true")try{const t=await fetch("/api/assets/bulk-created");if(t.ok){const e=await t.json();if(e.length>0){e.forEach(b=>{f.value.add(b.id)}),O(),await I();const y=window.location.pathname;window.history.replaceState({},"",y)}}}catch(t){console.error("Failed to fetch bulk created assets:",t)}});const m=w({show:!1,asset:null,comment:"",priority:"normal",sending:!1}),fe=l=>{m.value.asset=l,m.value.comment="",m.value.priority="normal",m.value.show=!0},_e=async()=>{var l;if(m.value.asset){m.value.sending=!0;try{const t=await fetch("/api/print-jobs",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||""},body:JSON.stringify({asset_id:m.value.asset.id,priority:m.value.priority,comment:m.value.comment||null})});if(t.ok){const e=await t.json();alert(`Print job ${e.print_job.job_id} sent to print machine successfully!`),m.value.show=!1}else{const e=await t.json();alert(`Failed to send print job: ${e.error||"Unknown error"}`)}}catch(t){console.error("Failed to send print job:",t),alert("Failed to send print job. Please try again.")}finally{m.value.sending=!1}}},ve=()=>{const l=o.value.selectedAssets;if(!(!l||l.length===0))if(B()){o.value.printing=!0,o.value.status=`Printing ${l.length} label(s)...`;try{const t=new window.JSPM.ClientPrintJob;o.value.useDefaultPrinter?t.clientPrinter=new window.JSPM.DefaultPrinter:t.clientPrinter=new window.JSPM.InstalledPrinter(o.value.selectedPrinter);let e="";l.forEach((y,b)=>{let g="^XA";g+="^PW406",g+="^LL203",g+="^MD30",g+="^SD15",g+="^FO10,50^GFA,329,329,7,,,,,,K0F1C,J01E3E,I039F1C4,I079E10F,I07BF03E,I073E17E,00213E7FC,00607CFF8,00F87CFF,00F8F9F800C,00FCF8J08,007EF,003E6,03BEK03F,039FK07F,039FK07F,07CFK03F8,008F,I0F8I018,I07J03C,03DK03E68,07FCJ01C7,03FFJ01E7,03FF8I01F3,017FEI09F,I0FE0018F8,0043E003CF8,00F1I03C7C,00F80807C3C,0070700F838,0020F00F008,I03E00F3,I07E01F38,I07C01E78,I03801E3,L01E,L01C,L01,,,,,^FS",g+="^FO70,30^A0N,18,18^FDFAHAD NAWAF ALZEER HOLDING CO.^FS",g+=`^FO70,65^A0N,24,24^FD${y.asset_tag}^FS`,g+="^FO70,100^BY2,2,35",g+="^BCN,35,Y,N,N",g+=`^FD${y.serial_number||y.asset_tag}^FS`,g+="^FO320,50^BQN,2,4",g+=`^FDMM,${y.asset_tag}^FS`,g+=`^FO70,175^A0N,18,18^FD${new Date().toISOString().split("T")[0]}^FS`,g+="^XZ",e+=g}),t.printerCommands=e,t.sendToClient(),o.value.status=`${l.length} label(s) sent to printer successfully!`,setTimeout(()=>{o.value.show=!1,o.value.printing=!1,f.value.clear(),S.value=!1},2e3)}catch(t){console.error("Print error:",t),o.value.status="Error occurred while printing",o.value.printing=!1}}else o.value.printing=!1};return(l,t)=>(d(),u(A,null,[r(a(Pe),{title:a(c)("assets.title")},null,8,["title"]),r(Me,{breadcrumbs:le.value},{default:i(()=>[s("div",$e,[s("div",Je,[r(Ee,{title:a(c)("assets.title")},null,8,["title"]),r(a(v),{asChild:""},{default:i(()=>[r(a($),{href:l.route("assets.create")},{default:i(()=>[r(_,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),p(" "+n(a(c)("assets.create_asset")),1)]),_:1},8,["href"])]),_:1})]),s("div",je,[s("div",De,[s("div",Te,[r(_,{name:"Search",class:"h-4 w-4 text-gray-400"})]),r(a(Ae),{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=e=>x.value=e),placeholder:a(c)("assets.search_placeholder"),class:"w-full pl-10 rtl:pl-3 rtl:pr-10"},null,8,["modelValue","placeholder"])]),M(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>k.value=e),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s("option",Ie,n(a(c)("assets.filter_by_category")),1),(d(!0),u(A,null,E(l.categories,e=>(d(),u("option",{key:e.id,value:e.id},n(e.name),9,Le))),128))],512),[[j,k.value]]),M(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>P.value=e),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s("option",Ne,n(a(c)("assets.filter_by_location")),1),(d(!0),u(A,null,E(l.locations,e=>(d(),u("option",{key:e.id,value:e.id},n(`${e.code}: ${e.name}`),9,Ve))),128))],512),[[j,P.value]]),x.value||k.value||P.value?(d(),J(a(v),{key:0,variant:"ghost",onClick:ne},{default:i(()=>[r(_,{name:"X",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),p(" "+n(a(c)("common.clear")),1)]),_:1})):h("",!0)]),f.value.size>0?(d(),u("div",Oe,[s("div",Be,[s("span",Ue,n(f.value.size)+" asset(s) selected ",1),r(a(v),{variant:"outline",size:"sm",onClick:t[3]||(t[3]=e=>{f.value.clear(),S.value=!1})},{default:i(()=>t[13]||(t[13]=[p(" Clear Selection ")])),_:1,__:[13]})]),s("div",ze,[r(a(v),{onClick:t[4]||(t[4]=e=>I()),class:"bg-blue-600 hover:bg-blue-700"},{default:i(()=>[r(_,{name:"Printer",class:"h-4 w-4 mr-2"}),p(" Print "+n(f.value.size)+" Label(s) ",1)]),_:1})])])):h("",!0),l.assets.data.length===0?(d(),u("div",We,[r(_,{name:"HardDrive",class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s("h3",Ke,n(a(c)("assets.no_assets")),1),s("p",He,n(x.value||k.value||P.value?a(c)("assets.no_assets_found"):a(c)("assets.create_first_asset")),1),!x.value&&!k.value&&!P.value?(d(),J(a(v),{key:0,asChild:""},{default:i(()=>[r(a($),{href:l.route("assets.create")},{default:i(()=>[r(_,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),p(" "+n(a(c)("assets.create_asset")),1)]),_:1},8,["href"])]),_:1})):h("",!0)])):(d(),u("div",qe,[s("div",Re,[s("table",Xe,[s("thead",Ze,[s("tr",Ge,[s("th",Ye,[s("input",{type:"checkbox",checked:S.value,onChange:me,class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,40,Qe)]),s("th",et,n(a(c)("assets.asset")),1),s("th",tt,n(a(c)("assets.template_image")),1),s("th",st,n(a(c)("assets.company")),1),s("th",at,n(a(c)("assets.category")),1),s("th",rt,n(a(c)("assets.location")),1),s("th",lt,n(a(c)("assets.condition")),1),s("th",ot,n(a(c)("assets.status")),1),s("th",nt,n(a(c)("common.actions")),1)])]),s("tbody",it,[(d(!0),u(A,null,E(l.assets.data,e=>{var y,b,g,K,H,q,R,X,Z;return d(),u("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[s("td",dt,[s("input",{type:"checkbox",checked:f.value.has(e.id),onChange:C=>ce(e.id),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,40,ut)]),s("td",ct,[s("div",mt,[s("div",pt,[e.image_path&&!L.value.has(e.id)?(d(),u("div",gt,[s("img",{src:`/storage/${e.image_path}`,alt:e.asset_tag,class:"h-full w-full object-cover",onError:C=>ie(C,e)},null,40,ft)])):(y=e.assetTemplate)!=null&&y.image_path&&!N.value.has(e.id)?(d(),u("div",_t,[s("img",{src:`/storage/${e.assetTemplate.image_path}`,alt:e.assetTemplate.name||"Template",class:"h-full w-full object-cover",onError:C=>de(C,e)},null,40,vt)])):(d(),u("div",ht,[r(_,{name:"HardDrive",class:"h-5 w-5 text-gray-700 dark:text-gray-300"})]))]),s("div",yt,[s("div",bt,n(e.asset_tag),1),s("div",wt,n(e.model_name||e.serial_number||"-"),1)])])]),s("td",xt,[s("div",kt,[(b=e.assetTemplate)!=null&&b.image_path?(d(),u("img",{key:0,src:`/storage/${e.assetTemplate.image_path}`,alt:e.assetTemplate.name||"Template",class:"h-12 w-12 object-cover rounded-lg border border-gray-200 dark:border-gray-600"},null,8,Pt)):(d(),u("div",St,[r(_,{name:"Image",class:"h-5 w-5 text-gray-400"})]))])]),s("td",Ft,[s("div",Ct,n(((g=e.company)==null?void 0:g.name_en)||"-"),1),s("div",Mt,n(((K=e.company)==null?void 0:K.slug)||"-"),1)]),s("td",At,[s("div",Et,n(((H=e.category)==null?void 0:H.name)||"-"),1),s("div",$t,n(((q=e.category)==null?void 0:q.code)||"-"),1),(R=e.assetTemplate)!=null&&R.name?(d(),u("div",Jt,n(e.assetTemplate.name),1)):h("",!0)]),s("td",jt,[s("div",Dt,n(((X=e.location)==null?void 0:X.name)||"-"),1),s("div",Tt,n(((Z=e.location)==null?void 0:Z.code)||"-"),1)]),s("td",It,[r(a(G),{variant:e.condition==="good"?"default":"destructive"},{default:i(()=>[p(n(a(c)(`assets.condition_${e.condition}`)),1)]),_:2},1032,["variant"])]),s("td",Lt,[r(a(G),{variant:oe(e.status)},{default:i(()=>[p(n(a(c)(`assets.status_${e.status}`)),1)]),_:2},1032,["variant"])]),s("td",Nt,[s("div",Vt,[r(a(v),{variant:"ghost",size:"sm",onClick:C=>I(e),title:"Print Label"},{default:i(()=>[r(_,{name:"Printer",class:"h-4 w-4"})]),_:2},1032,["onClick"]),r(a(v),{variant:"ghost",size:"sm",onClick:C=>fe(e),title:"Send to Print Machine"},{default:i(()=>[r(_,{name:"Send",class:"h-4 w-4"})]),_:2},1032,["onClick"]),r(a(v),{variant:"ghost",size:"sm",asChild:"",title:"View"},{default:i(()=>[r(a($),{href:l.route("assets.show",e.id)},{default:i(()=>[r(_,{name:"Eye",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),r(a(v),{variant:"ghost",size:"sm",asChild:"",title:"Edit"},{default:i(()=>[r(a($),{href:l.route("assets.edit",e.id)},{default:i(()=>[r(_,{name:"Pencil",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024)])])])}),128))])])])]))]),r(a(Y),{open:o.value.show,"onUpdate:open":t[8]||(t[8]=e=>o.value.show=e)},{default:i(()=>[r(a(Q),{class:"sm:max-w-md"},{default:i(()=>[r(a(ee),null,{default:i(()=>[r(a(te),null,{default:i(()=>t[14]||(t[14]=[p("Print Barcode Label")])),_:1,__:[14]}),r(a(se),null,{default:i(()=>[t[15]||(t[15]=p(" Configure printer settings for the Zebra label printer. ")),o.value.selectedAssets.length===1?(d(),u("div",Ot," Asset: "+n(o.value.selectedAssets[0].asset_tag),1)):o.value.selectedAssets.length>1?(d(),u("div",Bt,[s("div",Ut," Printing "+n(o.value.selectedAssets.length)+" assets: ",1),s("div",zt,[(d(!0),u(A,null,E(o.value.selectedAssets,e=>(d(),u("div",{key:e.id,class:"py-1"},[p(n(e.asset_tag)+" ",1),e.serial_number?(d(),u("span",Wt,"("+n(e.serial_number)+")",1)):h("",!0)]))),128))])])):h("",!0)]),_:1,__:[15]})]),_:1}),s("div",Kt,[s("div",Ht,[M(s("input",{type:"checkbox",id:"useDefaultPrinter","onUpdate:modelValue":t[5]||(t[5]=e=>o.value.useDefaultPrinter=e),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[Se,o.value.useDefaultPrinter]]),r(a(D),{for:"useDefaultPrinter",class:"font-medium"},{default:i(()=>t[16]||(t[16]=[p(" Print to Default printer ")])),_:1,__:[16]})]),o.value.useDefaultPrinter?h("",!0):(d(),u("div",qt,[r(a(D),{for:"installedPrinterName"},{default:i(()=>t[17]||(t[17]=[p("Select an installed Printer:")])),_:1,__:[17]}),M(s("select",{id:"installedPrinterName","onUpdate:modelValue":t[6]||(t[6]=e=>o.value.selectedPrinter=e),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},[t[18]||(t[18]=s("option",{value:""},"Select a printer...",-1)),(d(!0),u(A,null,E(o.value.availablePrinters,e=>(d(),u("option",{key:e,value:e},n(e),9,Rt))),128))],512),[[j,o.value.selectedPrinter]])])),o.value.status?(d(),u("div",Xt," Status: "+n(o.value.status),1)):h("",!0)]),r(a(ae),null,{default:i(()=>[r(a(v),{variant:"outline",onClick:t[7]||(t[7]=e=>o.value.show=!1)},{default:i(()=>t[19]||(t[19]=[p(" Cancel ")])),_:1,__:[19]}),r(a(v),{onClick:ve,disabled:o.value.printing||!o.value.useDefaultPrinter&&!o.value.selectedPrinter},{default:i(()=>[o.value.printing?(d(),J(_,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 animate-spin"})):h("",!0),p(" Print "+n(o.value.selectedAssets.length>1?`${o.value.selectedAssets.length} Labels`:"Label"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),r(a(Y),{open:m.value.show,"onUpdate:open":t[12]||(t[12]=e=>m.value.show=e)},{default:i(()=>[r(a(Q),{class:"sm:max-w-md"},{default:i(()=>[r(a(ee),null,{default:i(()=>[r(a(te),null,{default:i(()=>t[20]||(t[20]=[p("Send to Print Machine")])),_:1,__:[20]}),r(a(se),null,{default:i(()=>[t[21]||(t[21]=p(" Send this asset to the print station queue. ")),m.value.asset?(d(),u("div",Zt," Asset: "+n(m.value.asset.asset_tag),1)):h("",!0)]),_:1,__:[21]})]),_:1}),s("div",Gt,[s("div",Yt,[r(a(D),{for:"priority"},{default:i(()=>t[22]||(t[22]=[p("Priority")])),_:1,__:[22]}),M(s("select",{id:"priority","onUpdate:modelValue":t[9]||(t[9]=e=>m.value.priority=e),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},t[23]||(t[23]=[s("option",{value:"low"},"Low",-1),s("option",{value:"normal"},"Normal",-1),s("option",{value:"high"},"High",-1),s("option",{value:"urgent"},"Urgent",-1)]),512),[[j,m.value.priority]])]),s("div",Qt,[r(a(D),{for:"comment"},{default:i(()=>t[24]||(t[24]=[p("Comment (Optional)")])),_:1,__:[24]}),M(s("textarea",{id:"comment","onUpdate:modelValue":t[10]||(t[10]=e=>m.value.comment=e),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",rows:"3",placeholder:"Add a comment for the print station operator..."},null,512),[[Fe,m.value.comment]])])]),r(a(ae),null,{default:i(()=>[r(a(v),{variant:"outline",onClick:t[11]||(t[11]=e=>m.value.show=!1)},{default:i(()=>t[25]||(t[25]=[p(" Cancel ")])),_:1,__:[25]}),r(a(v),{onClick:_e,disabled:m.value.sending},{default:i(()=>[m.value.sending?(d(),J(_,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 animate-spin"})):h("",!0),t[26]||(t[26]=p(" Send to Print Machine "))]),_:1,__:[26]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1},8,["breadcrumbs"])],64))}});export{Ms as default};
