import{d as h,u as y,k as x,i as g,o as r,w as f,f as s,t as o,e,l as v,a,m,p,F as k,r as w,v as V,g as B,z as c}from"./app-BlNAMTKr.js";import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-L-shulIW.js";import"./index-CQM000GX.js";import"./useForwardExpose-C_C2xsir.js";import"./x-BapOjhc5.js";import"./building-CoLVo0p4.js";import"./users-C9MwEQRI.js";const U={class:"max-w-2xl mx-auto p-6"},q={class:"text-2xl font-bold mb-6"},F={key:0,class:"bg-yellow-50 border border-yellow-200 rounded-md p-4"},M={class:"text-yellow-800"},N={href:"/companies/create",class:"text-yellow-900 underline font-medium"},S={key:1},D={class:"block text-sm font-medium mb-1"},T={value:""},z=["value"],E={key:0,class:"text-red-500 text-sm mt-1"},I={key:2,class:"bg-blue-50 border border-blue-200 rounded-md p-3"},L={class:"text-blue-800 text-sm"},$={key:0,class:"text-red-500 text-sm mt-1"},j={class:"block text-sm font-medium mb-1"},A=["placeholder","disabled"],G={key:0,class:"text-red-500 text-sm mt-1"},H={class:"block text-sm font-medium mb-1"},J=["placeholder","disabled"],K={class:"text-xs text-gray-500 mt-1"},O={key:0,class:"text-red-500 text-sm mt-1"},P={class:"block text-sm font-medium mb-1"},Q=["placeholder","disabled"],R={key:0,class:"text-red-500 text-sm mt-1"},W={class:"flex gap-4 pt-4"},X={href:"/departments",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},Y=["disabled"],Z={key:0},ee={key:1},le=h({__name:"Create",props:{companies:{}},setup(u){const{t:d}=y(),_=u,t=x({name:"",code:"",company_id:_.companies.length===1?_.companies[0].id:"",description:""}),b=()=>{t.post("/departments")};return(l,i)=>(r(),g(C,null,{default:f(()=>[s("div",U,[s("h1",q,o(e(d)("departments.create_department")),1),s("form",{onSubmit:v(b,["prevent"]),class:"space-y-4"},[l.companies.length===0?(r(),a("div",F,[s("p",M,o(e(d)("departments.company_required")),1),s("a",N,o(e(d)("departments.create_company")),1)])):m("",!0),l.companies.length>1?(r(),a("div",S,[s("label",D,o(e(d)("departments.company"))+" *",1),p(s("select",{"onUpdate:modelValue":i[0]||(i[0]=n=>e(t).company_id=n),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md"},[s("option",T,o(e(d)("departments.select_company")),1),(r(!0),a(k,null,w(l.companies,n=>(r(),a("option",{key:n.id,value:n.id},o(n.name_en),9,z))),128))],512),[[V,e(t).company_id]]),e(t).errors.company_id?(r(),a("div",E,o(e(t).errors.company_id),1)):m("",!0)])):l.companies.length===1?(r(),a("div",I,[s("p",L,[B(o(e(d)("departments.department_will_be_created_for"))+" ",1),s("strong",null,o(l.companies[0].name_en),1)]),e(t).errors.company_id?(r(),a("div",$,o(e(t).errors.company_id),1)):m("",!0)])):m("",!0),s("div",null,[s("label",j,o(e(d)("departments.name"))+" *",1),p(s("input",{"onUpdate:modelValue":i[1]||(i[1]=n=>e(t).name=n),type:"text",required:"",placeholder:e(d)("departments.name_placeholder"),class:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:l.companies.length===0},null,8,A),[[c,e(t).name]]),e(t).errors.name?(r(),a("div",G,o(e(t).errors.name),1)):m("",!0)]),s("div",null,[s("label",H,o(e(d)("departments.code")),1),p(s("input",{"onUpdate:modelValue":i[2]||(i[2]=n=>e(t).code=n),type:"text",placeholder:e(d)("departments.code_auto_generated"),class:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:l.companies.length===0},null,8,J),[[c,e(t).code]]),s("div",K,o(e(d)("departments.code_auto_generated_description")),1),e(t).errors.code?(r(),a("div",O,o(e(t).errors.code),1)):m("",!0)]),s("div",null,[s("label",P,o(e(d)("departments.description")),1),p(s("textarea",{"onUpdate:modelValue":i[3]||(i[3]=n=>e(t).description=n),rows:"3",placeholder:e(d)("departments.description_placeholder"),class:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:l.companies.length===0},null,8,Q),[[c,e(t).description]]),e(t).errors.description?(r(),a("div",R,o(e(t).errors.description),1)):m("",!0)]),s("div",W,[s("a",X,o(e(d)("departments.cancel")),1),s("button",{type:"submit",disabled:e(t).processing||l.companies.length===0||!e(t).company_id||!e(t).name,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},[e(t).processing?(r(),a("span",Z,o(e(d)("departments.creating")),1)):(r(),a("span",ee,o(e(d)("departments.create")),1))],8,Y)])],32)])]),_:1}))}});export{le as default};
