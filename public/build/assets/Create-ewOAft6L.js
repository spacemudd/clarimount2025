import{d as ct,u as ut,B as _t,p as v,x as Ve,c as Ce,C as mt,a as c,o as d,b as n,e,g as pt,w as p,f as t,t as s,F as C,r as I,l as u,n as x,h as _,m as H,D as me,k as $e,v as pe,i as te,S as yt,W as Le}from"./app-CeZgJr2N.js";import{_ as vt}from"./AppLayout.vue_vue_type_script_setup_true_lang-CI83lXaG.js";import{_ as j}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CoxfMtZF.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-CZAepyS-.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-n23m0iPA.js";import{_ as gt,a as ft}from"./CardContent.vue_vue_type_script_setup_true_lang-BOvmRcCd.js";import{_ as ht}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cd7akvgx.js";import{_ as bt,a as kt}from"./CardTitle.vue_vue_type_script_setup_true_lang-DtYEtjII.js";import{_ as xt,a as wt,b as St,c as Vt,d as Ct,e as $t}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BuVui4Rz.js";import{_ as Lt}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-BoAEMRGZ.js";import{_ as g}from"./Icon.vue_vue_type_script_setup_true_lang-5B-mLNuv.js";import{_ as Tt}from"./Heading.vue_vue_type_script_setup_true_lang-DmSS8vMl.js";import{B as Ut}from"./BarcodeScanner-Dw2QD69y.js";import"./useForwardExpose-D17_dTe6.js";import"./RovingFocusGroup-B1n3w7FE.js";import"./building-C_uoXzX6.js";import"./users-DR-hGiVB.js";import"./activity-BHzQFRrD.js";import"./arrow-left-Dhxu9zO3.js";import"./calendar-iJpP07Q_.js";import"./check-9kcAeEHO.js";import"./chevron-down-BhGkOedi.js";import"./search-DkzWLmjA.js";import"./eye-CyHrvWBU.js";import"./user-CzKHJqro.js";import"./loader-circle-BuBSLGhq.js";import"./sun-Cn-L-MFf.js";import"./play-DUJ3mMCi.js";import"./plus-BKJKycOn.js";import"./square-pen-BzH9IprK.js";import"./trash-2-myGp5dW5.js";import"./triangle-alert-DqKnMJcJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const qt={class:"max-w-4xl mx-auto"},Rt={class:"mb-8"},It={class:"text-gray-600 dark:text-gray-400 mt-2"},jt={class:"flex items-center justify-center mb-8"},Ft={class:"flex items-center"},Bt={key:0,class:"space-y-6"},Dt={class:"space-y-3"},Et={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Pt={class:"relative"},Mt={for:"creation_mode_single",class:"flex flex-col items-center justify-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 peer-checked:border-primary peer-checked:bg-primary/5 dark:border-gray-700 dark:hover:bg-gray-800 dark:peer-checked:bg-primary/10"},Nt={class:"font-medium text-sm"},zt={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1"},Xt={class:"relative"},Ot={for:"creation_mode_bulk",class:"flex flex-col items-center justify-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 peer-checked:border-primary peer-checked:bg-primary/5 dark:border-gray-700 dark:hover:bg-gray-800 dark:peer-checked:bg-primary/10"},At={class:"font-medium text-sm"},Qt={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1"},Wt={class:"relative"},Jt={for:"creation_mode_workstation",class:"flex flex-col items-center justify-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 peer-checked:border-primary peer-checked:bg-primary/5 dark:border-gray-700 dark:hover:bg-gray-800 dark:peer-checked:bg-primary/10"},Gt={class:"font-medium text-sm"},Ht={class:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1"},Kt={key:0,class:"space-y-2"},Yt={class:"flex gap-2"},Zt={class:"flex-1 relative"},es={class:"relative"},ts={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},ss={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},as=["onClick"],os={class:"font-medium text-sm"},rs={class:"text-xs text-gray-500 dark:text-gray-400"},ls={key:0},ns={key:1,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg px-3 py-2"},is={class:"text-sm text-gray-500 dark:text-gray-400"},ds={class:"space-y-2"},cs=["disabled"],us={value:""},_s=["value"],ms={key:0,class:"text-sm text-red-600 dark:text-red-400"},ps={class:"grid grid-cols-2 gap-4"},ys={class:"space-y-2"},vs={class:"space-y-2"},gs={class:"text-sm text-muted-foreground"},fs={class:"grid grid-cols-2 gap-4"},hs={class:"space-y-2"},bs={class:"space-y-2"},ks={class:"space-y-2"},xs={class:"grid grid-cols-2 gap-4"},ws={class:"space-y-2"},Ss={class:"space-y-2"},Vs={class:"grid grid-cols-2 gap-4"},Cs={class:"space-y-2"},$s={class:"space-y-2"},Ls={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ts={key:1,class:"text-sm text-blue-600 dark:text-blue-400 flex items-center gap-1"},Us={key:1,class:"space-y-4"},qs={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Rs={class:"flex items-start"},Is={class:"font-medium text-blue-900 dark:text-blue-100"},js={class:"text-sm text-blue-700 dark:text-blue-300 mt-1"},Fs={class:"space-y-2"},Bs={class:"relative"},Ds={value:""},Es=["value"],Ps={class:"text-sm text-muted-foreground"},Ms={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ns={class:"space-y-2"},zs={class:"text-sm text-muted-foreground"},Xs={key:0,class:"text-sm text-red-600 dark:text-red-400"},Os={class:"grid grid-cols-2 gap-4"},As={class:"space-y-2"},Qs={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ws={class:"space-y-2"},Js={key:0,class:"text-sm text-red-600 dark:text-red-400"},Gs={key:0,class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Hs={class:"font-medium text-sm mb-2"},Ks={class:"text-sm text-gray-600 dark:text-gray-400"},Ys={key:1,class:"space-y-6"},Zs={class:"space-y-2"},ea={class:"relative"},ta={class:"relative"},sa={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},aa={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},oa=["onClick"],ra={class:"font-medium text-sm"},la={class:"text-xs text-gray-500 dark:text-gray-400"},na={key:0},ia={key:1},da={key:2},ca={key:3},ua={key:1,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg px-3 py-2"},_a={class:"text-sm text-gray-500 dark:text-gray-400"},ma={key:0,class:"text-sm text-red-600 dark:text-red-400"},pa={class:"space-y-2"},ya={class:"flex gap-2"},va={class:"text-sm text-muted-foreground"},ga={key:0,class:"text-sm text-red-600 dark:text-red-400"},fa={class:"space-y-2"},ha={value:"good"},ba={value:"damaged"},ka={key:0,class:"text-sm text-red-600 dark:text-red-400"},xa={key:0,class:"space-y-2"},wa={class:"text-sm text-muted-foreground"},Sa={key:0,class:"text-sm text-red-600 dark:text-red-400"},Va={class:"space-y-6 border-t pt-6"},Ca={class:"font-medium text-gray-900 dark:text-gray-100"},$a={class:"space-y-2"},La={class:"relative"},Ta={class:"relative"},Ua={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},qa={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},Ra=["onClick"],Ia={class:"font-medium text-sm"},ja={class:"text-xs text-gray-500 dark:text-gray-400"},Fa={class:"text-sm text-muted-foreground"},Ba={key:0,class:"text-sm text-red-600 dark:text-red-400"},Da={class:"space-y-2"},Ea={class:"relative"},Pa={class:"relative"},Ma={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},Na={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},za=["onClick"],Xa={class:"font-medium text-sm"},Oa={class:"text-xs text-gray-500 dark:text-gray-400"},Aa={key:0},Qa={class:"text-sm text-muted-foreground"},Wa={key:0,class:"text-sm text-red-600 dark:text-red-400"},Ja={class:"space-y-2"},Ga={class:"relative"},Ha={class:"relative"},Ka={key:1,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},Ya={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},Za=["onClick"],eo={class:"font-medium text-sm"},to={class:"text-xs text-gray-500 dark:text-gray-400"},so={key:0},ao={key:1},oo={class:"text-sm text-muted-foreground"},ro={key:0,class:"text-sm text-red-600 dark:text-red-400"},lo={key:1,class:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},no={class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},io={class:"space-y-1 text-sm"},co={key:0},uo={key:1},_o={key:2},mo={key:2,class:"space-y-6"},po={class:"space-y-4"},yo={class:"space-y-2"},vo={class:"flex items-center justify-center w-full"},go={key:0,class:"flex flex-col items-center justify-center pt-5 pb-6"},fo={class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},ho={class:"font-semibold"},bo={class:"text-xs text-gray-500 dark:text-gray-400"},ko={key:1,class:"relative w-full h-full"},xo=["src"],wo={key:0,class:"text-sm text-red-600 dark:text-red-400"},So={class:"text-sm text-muted-foreground"},Vo={class:"mt-8 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg"},Co={class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},$o={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Lo={key:0},To={key:1},Uo={key:2},qo={key:0},Ro={key:1},Io={key:2},jo={key:3},Fo={key:0,class:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},Bo={class:"flex items-start"},Do={class:"text-sm text-blue-700 dark:text-blue-300"},Eo={class:"font-medium"},Po={class:"mt-1"},Mo={key:1,class:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},No={class:"flex items-start"},zo={class:"text-sm text-green-700 dark:text-green-300"},Xo={class:"font-medium"},Oo={class:"mt-1"},Ao={class:"flex justify-between mt-8"},Qo={class:"flex gap-2"},Wo={class:"flex gap-2"},le=3,Tr=ct({__name:"Create",props:{companies:{},currentCompany:{},categories:{},locations:{}},setup(Te){var xe,we,Se;const{t:r}=ut(),$=Te;_t();const ye=new URLSearchParams(window.location.search).get("location_id"),Ue=()=>{var o;return((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},w=v(1),se=v(!1),K=v(!1),L=v(""),F=v([]),ae=v(!1),T=v(!1),V=v(null),U=v(""),B=v([]),oe=v(!1),q=v(!1),k=v(null),D=v(""),A=v([]),ne=v(!1),E=v(!1),R=v(null),P=v(""),Q=v([]),ie=v(!1),M=v(!1),W=v(null),N=v(""),J=v([]),de=v(!1),z=v(!1),G=v(null),Y=v(null),Z=v(null),X=v(null),a=Ve({location_id:"",asset_template_id:"",company_id:((xe=$.currentCompany)==null?void 0:xe.id)||"",department_id:"",assigned_to:"",serial_number:"",condition:"good",image:null,quantity:1,creation_mode:"single",workstation_prefix:"",workstation_start:1,workstation_end:1,workstation_company_id:((we=$.currentCompany)==null?void 0:we.id)||""}),m=Ve({company_id:((Se=$.currentCompany)==null?void 0:Se.id)||($.companies.length===1?$.companies[0].id:""),name:"",building:"",office_number:"",address:"",city:"",state:"",postal_code:"",country:""}),qe=Ce(()=>[{title:r("nav.dashboard"),href:"/dashboard"},{title:r("nav.assets"),href:"/assets"},{title:r("assets.create_asset"),href:"/assets/create"}]),ce=Ce(()=>{switch(w.value){case 1:return a.creation_mode==="workstation_range"?a.workstation_prefix.length>0&&a.workstation_start>0&&a.workstation_end>0&&a.workstation_start<=a.workstation_end:V.value!==null;case 2:return k.value!==null;case 3:return!0;default:return!1}});let ve;const Re=async()=>{if(L.value.length<2){F.value=[],T.value=!1;return}ae.value=!0;try{const o=await(await fetch(`/api/locations/search?q=${encodeURIComponent(L.value)}`)).json();F.value=o,T.value=!0}catch(i){console.error("Location search failed:",i),F.value=[]}finally{ae.value=!1}},Ie=()=>{clearTimeout(ve),ve=window.setTimeout(Re,300)},re=i=>{V.value=i,a.location_id=i.id.toString(),L.value=i.display_name,T.value=!1,it(i)},je=()=>{V.value=null,a.location_id="",L.value="",F.value=[],T.value=!1;try{sessionStorage.removeItem("lastSelectedLocation")}catch(i){console.error("Failed to clear saved location:",i)}},Fe=()=>{setTimeout(()=>{T.value=!1},200)};let ge;const Be=async()=>{if(U.value.length<2){B.value=[],q.value=!1;return}oe.value=!0;try{const o=await(await fetch(`/api/asset-templates/search?q=${encodeURIComponent(U.value)}`)).json();B.value=o,q.value=!0}catch(i){console.error("Template search failed:",i),B.value=[]}finally{oe.value=!1}},De=()=>{clearTimeout(ge),ge=window.setTimeout(Be,300)},Ee=i=>{k.value=i,a.asset_template_id=i.id.toString(),U.value=i.display_name,q.value=!1},Pe=()=>{k.value=null,a.asset_template_id="",U.value="",B.value=[],q.value=!1},Me=()=>{setTimeout(()=>{q.value=!1},200)};let fe;const Ne=async()=>{if(D.value.length<2){A.value=[],E.value=!1;return}ne.value=!0;try{const o=await(await fetch(`/api/companies/search?q=${encodeURIComponent(D.value)}`)).json();A.value=o,E.value=!0}catch(i){console.error("Company search failed:",i),A.value=[]}finally{ne.value=!1}},ze=()=>{clearTimeout(fe),fe=window.setTimeout(Ne,300)},Xe=i=>{R.value=i,a.company_id=i.id.toString(),D.value=i.display_name,E.value=!1,ue(),ee()},Oe=()=>{var i;R.value=null,a.company_id=((i=$.currentCompany)==null?void 0:i.id)||"",D.value="",A.value=[],E.value=!1,ue(),ee()},Ae=()=>{setTimeout(()=>{E.value=!1},200)};let he;const Qe=async()=>{var i,o;if(P.value.length<2){Q.value=[],M.value=!1;return}ie.value=!0;try{const y=((i=R.value)==null?void 0:i.id)||((o=$.currentCompany)==null?void 0:o.id),l=await(await fetch(`/api/departments/search?q=${encodeURIComponent(P.value)}&company_id=${y}`)).json();Q.value=l,M.value=!0}catch(y){console.error("Department search failed:",y),Q.value=[]}finally{ie.value=!1}},We=()=>{clearTimeout(he),he=window.setTimeout(Qe,300)},Je=i=>{W.value=i,a.department_id=i.id,P.value=i.display_name,M.value=!1,ee()},ue=()=>{W.value=null,a.department_id="",P.value="",Q.value=[],M.value=!1,ee()},Ge=()=>{setTimeout(()=>{M.value=!1},200)};let be;const He=async()=>{var i,o;if(N.value.length<2){J.value=[],z.value=!1;return}de.value=!0;try{const y=((i=R.value)==null?void 0:i.id)||((o=$.currentCompany)==null?void 0:o.id),h=`/api/employees/search?q=${encodeURIComponent(N.value)}&company_id=${y}`,S=await(await fetch(h)).json();J.value=S,z.value=!0}catch(y){console.error("Employee search failed:",y),J.value=[]}finally{de.value=!1}},Ke=()=>{clearTimeout(be),be=window.setTimeout(He,300)},Ye=i=>{G.value=i,a.assigned_to=i.id.toString(),N.value=i.display_name,z.value=!1},ee=()=>{G.value=null,a.assigned_to="",N.value="",J.value=[],z.value=!1},Ze=()=>{setTimeout(()=>{z.value=!1},200)},et=i=>{var l;const y=(l=i.target.files)==null?void 0:l[0];if(!y){Y.value=null,Z.value=null,a.image=null;return}if(!y.type.startsWith("image/")){X.value=r("assets.invalid_file_type");return}if(y.size>5*1024*1024){X.value=r("assets.file_too_large");return}X.value=null,Y.value=y,a.image=y;const h=new FileReader;h.onload=S=>{var O;Z.value=(O=S.target)==null?void 0:O.result},h.readAsDataURL(y)},tt=()=>{Y.value=null,Z.value=null,X.value=null,a.image=null;const i=document.getElementById("asset_image");i&&(i.value="")},st=()=>{ce.value&&w.value<le&&w.value++},at=()=>{w.value>1&&w.value--},ke=async()=>{m.processing=!0,m.clearErrors();try{const i=await fetch("/locations",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":Ue()},body:JSON.stringify({company_id:m.company_id,name:m.name,building:m.building,office_number:m.office_number,address:m.address,city:m.city,state:m.state,postal_code:m.postal_code,country:m.country,_from_modal:!0})}),o=await i.json();if(i.ok&&o.success){se.value=!1,m.reset();const y={id:o.location.id,name:o.location.name,code:o.location.code,building:o.location.building,office_number:o.location.office_number,address:o.location.address,city:o.location.city,company_name:o.location.company.name_en,display_name:`${o.location.code}: ${o.location.name}`+(o.location.building?` - Building ${o.location.building}`:"")+(o.location.office_number?` - Office ${o.location.office_number}`:""),full_address:[o.location.address,o.location.city].filter(Boolean).join(", ")};re(y)}else if(o.errors){const y=["company_id","name","building","office_number","address","city","state","postal_code","country"];Object.keys(o.errors).forEach(h=>{y.includes(h)&&m.setError(h,o.errors[h][0])})}else console.error("Failed to create location:",o)}catch(i){console.error("Error creating location:",i),m.setError("name","An error occurred while creating the location.")}finally{m.processing=!1}},ot=()=>{a.post("/assets",{onSuccess:i=>{var y,h;((h=(y=i.props)==null?void 0:y.flash)==null?void 0:h.show_bulk_print)&&a.quantity>1?Le.visit("/assets?show_bulk_print=true"):Le.visit("/assets")},onError:()=>{}})},rt=i=>i<w.value?"bg-primary text-primary-foreground":i===w.value?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2":"bg-muted text-muted-foreground",lt=i=>i<w.value?"bg-primary":"bg-muted",nt=i=>{a.serial_number=i,K.value=!1},it=i=>{try{const o={id:i.id,name:i.name,code:i.code,building:i.building,office_number:i.office_number,address:i.address,city:i.city,company_name:i.company_name,display_name:i.display_name,full_address:i.full_address,timestamp:Date.now()};sessionStorage.setItem("lastSelectedLocation",JSON.stringify(o))}catch(o){console.error("Failed to save last selected location:",o)}},dt=async()=>{try{const i=sessionStorage.getItem("lastSelectedLocation");if(!i)return null;const o=JSON.parse(i),y=24*60*60*1e3;if(Date.now()-o.timestamp>y)return sessionStorage.removeItem("lastSelectedLocation"),null;const S=(await(await fetch(`/api/locations/search?q=${encodeURIComponent(o.name)}`)).json()).find(O=>O.id===o.id);return S||(sessionStorage.removeItem("lastSelectedLocation"),null)}catch(i){return console.error("Failed to load last selected location:",i),null}},_e=v(!1);return mt(async()=>{if(ye)try{const y=(await(await fetch("/api/locations/search?q=")).json()).find(h=>h.id.toString()===ye);if(y){re(y);const h=new URL(window.location.href);h.searchParams.delete("location_id"),window.history.replaceState({},"",h.toString());return}}catch(i){console.error("Failed to load pre-selected location:",i)}if(a.creation_mode!=="workstation_range")try{const i=await dt();i&&(re(i),_e.value=!0,setTimeout(()=>{_e.value=!1},3e3))}catch(i){console.error("Failed to load last selected location from session:",i)}}),(i,o)=>(d(),c(C,null,[n(e(pt),{title:e(r)("assets.create_asset")},null,8,["title"]),n(vt,{breadcrumbs:qe.value},{default:p(()=>[t("div",qt,[t("div",Rt,[n(Tt,{title:e(r)("assets.create_asset")},null,8,["title"]),t("p",It,s(e(r)("assets.create_asset_description")),1)]),t("div",jt,[t("div",Ft,[(d(),c(C,null,I(le,y=>t("div",{key:y,class:"flex items-center"},[t("div",{class:x([rt(y),"w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors"])},s(y),3),y<le?(d(),c("div",{key:0,class:x([lt(y),"w-16 h-1 mx-4 transition-colors"])},null,2)):u("",!0)])),64))])]),n(e(gt),null,{default:p(()=>[n(e(bt),null,{default:p(()=>[n(e(kt),null,{default:p(()=>[_(s(e(r)(`assets.step_${w.value}_title`)),1)]),_:1}),n(e(ht),null,{default:p(()=>[_(s(e(r)(`assets.step_${w.value}_description`)),1)]),_:1})]),_:1}),n(e(ft),{class:"space-y-6"},{default:p(()=>{var y,h;return[w.value===1?(d(),c("div",Bt,[t("div",Dt,[n(e(f),null,{default:p(()=>[_(s(e(r)("assets.creation_mode"))+" *",1)]),_:1}),t("div",Et,[t("div",Pt,[H(t("input",{type:"radio",id:"creation_mode_single","onUpdate:modelValue":o[0]||(o[0]=l=>e(a).creation_mode=l),value:"single",class:"peer sr-only"},null,512),[[me,e(a).creation_mode]]),t("label",Mt,[n(g,{name:"MapPin",class:"h-6 w-6 mb-2 text-gray-600 dark:text-gray-400"}),t("span",Nt,s(e(r)("assets.single_location")),1),t("span",zt,s(e(r)("assets.single_location_desc")),1)])]),t("div",Xt,[H(t("input",{type:"radio",id:"creation_mode_bulk","onUpdate:modelValue":o[1]||(o[1]=l=>e(a).creation_mode=l),value:"bulk",class:"peer sr-only"},null,512),[[me,e(a).creation_mode]]),t("label",Ot,[n(g,{name:"Package",class:"h-6 w-6 mb-2 text-gray-600 dark:text-gray-400"}),t("span",At,s(e(r)("assets.bulk_creation")),1),t("span",Qt,s(e(r)("assets.bulk_creation_desc")),1)])]),t("div",Wt,[H(t("input",{type:"radio",id:"creation_mode_workstation","onUpdate:modelValue":o[2]||(o[2]=l=>e(a).creation_mode=l),value:"workstation_range",class:"peer sr-only"},null,512),[[me,e(a).creation_mode]]),t("label",Jt,[n(g,{name:"Monitor",class:"h-6 w-6 mb-2 text-gray-600 dark:text-gray-400"}),t("span",Gt,s(e(r)("assets.workstation_range")),1),t("span",Ht,s(e(r)("assets.workstation_range_desc")),1)])])])]),e(a).creation_mode!=="workstation_range"?(d(),c("div",Kt,[n(e(f),{for:"location_search"},{default:p(()=>[_(s(e(r)("assets.location"))+" *",1)]),_:1}),t("div",Yt,[t("div",Zt,[t("div",es,[n(e(b),{id:"location_search",modelValue:L.value,"onUpdate:modelValue":o[3]||(o[3]=l=>L.value=l),type:"text",placeholder:V.value?V.value.display_name:e(r)("assets.search_location_placeholder"),onInput:Ie,onFocus:o[4]||(o[4]=l=>L.value.length>=2&&(T.value=!0)),onBlur:Fe,class:x({"border-red-500":e(a).errors.location_id}),disabled:V.value!==null},null,8,["modelValue","placeholder","class","disabled"]),V.value?(d(),c("button",{key:0,type:"button",onClick:je,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),ae.value?(d(),c("div",ts,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),T.value&&F.value.length>0?(d(),c("div",ss,[(d(!0),c(C,null,I(F.value,l=>(d(),c("div",{key:l.id,onClick:S=>re(l),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",os,s(l.display_name),1),t("div",rs,[_(s(l.company_name)+" ",1),l.full_address?(d(),c("span",ls," • "+s(l.full_address),1)):u("",!0)])],8,as))),128))])):u("",!0),T.value&&F.value.length===0&&!ae.value&&L.value.length>=2?(d(),c("div",ns,[t("div",is,s(e(r)("assets.no_locations_found")),1)])):u("",!0)]),n(e(xt),{open:se.value,"onUpdate:open":o[15]||(o[15]=l=>se.value=l)},{default:p(()=>[n(e(Lt),{asChild:""},{default:p(()=>[n(e(j),{variant:"outline",type:"button"},{default:p(()=>[n(g,{name:"Plus",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),_(" "+s(e(r)("locations.create_location")),1)]),_:1})]),_:1}),n(e(wt),{class:"sm:max-w-lg"},{default:p(()=>[n(e(St),null,{default:p(()=>[n(e(Vt),null,{default:p(()=>[_(s(e(r)("locations.create_location")),1)]),_:1}),n(e(Ct),null,{default:p(()=>[_(s(e(r)("locations.create_location_description")),1)]),_:1})]),_:1}),t("form",{onSubmit:$e(ke,["prevent"]),class:"space-y-4"},[t("div",ds,[n(e(f),{for:"location_company_id"},{default:p(()=>[_(s(e(r)("locations.company"))+" *",1)]),_:1}),H(t("select",{id:"location_company_id","onUpdate:modelValue":o[5]||(o[5]=l=>e(m).company_id=l),class:x(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(m).errors.company_id}]),disabled:e(m).processing,required:""},[t("option",us,s(e(r)("locations.select_company")),1),(d(!0),c(C,null,I(i.companies,l=>(d(),c("option",{key:l.id,value:l.id},s(l.name_en)+" "+s(l.name_ar?`(${l.name_ar})`:""),9,_s))),128))],10,cs),[[pe,e(m).company_id]]),e(m).errors.company_id?(d(),c("div",ms,s(e(m).errors.company_id),1)):u("",!0)]),t("div",ps,[t("div",ys,[n(e(f),{for:"location_name"},{default:p(()=>[_(s(e(r)("locations.name"))+" *",1)]),_:1}),n(e(b),{id:"location_name",modelValue:e(m).name,"onUpdate:modelValue":o[6]||(o[6]=l=>e(m).name=l),error:e(m).errors.name,required:""},null,8,["modelValue","error"])]),t("div",vs,[n(e(f),{for:"location_code"},{default:p(()=>[_(s(e(r)("locations.code")),1)]),_:1}),n(e(b),{id:"location_code",type:"text",placeholder:e(r)("locations.code_auto_generated"),disabled:"",class:"bg-muted"},null,8,["placeholder"]),t("p",gs,s(e(r)("locations.code_auto_generated")),1)])]),t("div",fs,[t("div",hs,[n(e(f),{for:"location_building"},{default:p(()=>[_(s(e(r)("locations.building")),1)]),_:1}),n(e(b),{id:"location_building",modelValue:e(m).building,"onUpdate:modelValue":o[7]||(o[7]=l=>e(m).building=l),error:e(m).errors.building},null,8,["modelValue","error"])]),t("div",bs,[n(e(f),{for:"location_office_number"},{default:p(()=>[_(s(e(r)("locations.office_number")),1)]),_:1}),n(e(b),{id:"location_office_number",modelValue:e(m).office_number,"onUpdate:modelValue":o[8]||(o[8]=l=>e(m).office_number=l),error:e(m).errors.office_number},null,8,["modelValue","error"])])]),t("div",ks,[n(e(f),{for:"location_address"},{default:p(()=>[_(s(e(r)("locations.address")),1)]),_:1}),n(e(b),{id:"location_address",modelValue:e(m).address,"onUpdate:modelValue":o[9]||(o[9]=l=>e(m).address=l),error:e(m).errors.address},null,8,["modelValue","error"])]),t("div",xs,[t("div",ws,[n(e(f),{for:"location_city"},{default:p(()=>[_(s(e(r)("locations.city")),1)]),_:1}),n(e(b),{id:"location_city",modelValue:e(m).city,"onUpdate:modelValue":o[10]||(o[10]=l=>e(m).city=l),error:e(m).errors.city},null,8,["modelValue","error"])]),t("div",Ss,[n(e(f),{for:"location_state"},{default:p(()=>[_(s(e(r)("locations.state")),1)]),_:1}),n(e(b),{id:"location_state",modelValue:e(m).state,"onUpdate:modelValue":o[11]||(o[11]=l=>e(m).state=l),error:e(m).errors.state},null,8,["modelValue","error"])])]),t("div",Vs,[t("div",Cs,[n(e(f),{for:"location_postal_code"},{default:p(()=>[_(s(e(r)("locations.postal_code")),1)]),_:1}),n(e(b),{id:"location_postal_code",modelValue:e(m).postal_code,"onUpdate:modelValue":o[12]||(o[12]=l=>e(m).postal_code=l),error:e(m).errors.postal_code},null,8,["modelValue","error"])]),t("div",$s,[n(e(f),{for:"location_country"},{default:p(()=>[_(s(e(r)("locations.country")),1)]),_:1}),n(e(b),{id:"location_country",modelValue:e(m).country,"onUpdate:modelValue":o[13]||(o[13]=l=>e(m).country=l),error:e(m).errors.country},null,8,["modelValue","error"])])])],32),n(e($t),null,{default:p(()=>[n(e(j),{variant:"outline",onClick:o[14]||(o[14]=l=>se.value=!1),type:"button"},{default:p(()=>[_(s(e(r)("common.cancel")),1)]),_:1}),n(e(j),{onClick:ke,disabled:e(m).processing},{default:p(()=>[e(m).processing?(d(),te(g,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2 animate-spin"})):u("",!0),_(" "+s(e(r)("common.create")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),e(a).errors.location_id?(d(),c("div",Ls,s(e(a).errors.location_id),1)):u("",!0),_e.value&&V.value?(d(),c("div",Ts,[n(g,{name:"Clock",class:"h-3 w-3"}),_(" "+s(e(r)("assets.location_pre_selected")),1)])):u("",!0)])):u("",!0),e(a).creation_mode==="workstation_range"?(d(),c("div",Us,[t("div",qs,[t("div",Rs,[n(g,{name:"Info",class:"h-5 w-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),t("div",null,[t("h4",Is,s(e(r)("assets.workstation_range_info")),1),t("p",js,s(e(r)("assets.workstation_range_info_desc")),1)])])]),t("div",Fs,[n(e(f),{for:"workstation_company_search"},{default:p(()=>[_(s(e(r)("assets.workstation_company"))+" *",1)]),_:1}),t("div",Bs,[H(t("select",{id:"workstation_company_search","onUpdate:modelValue":o[16]||(o[16]=l=>e(a).workstation_company_id=l),class:x(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(a).errors.workstation_company_id}]),required:""},[t("option",Ds,s(e(r)("assets.select_company")),1),(d(!0),c(C,null,I(i.companies,l=>(d(),c("option",{key:l.id,value:l.id},s(l.name_en)+" "+s(l.name_ar?`(${l.name_ar})`:""),9,Es))),128))],2),[[pe,e(a).workstation_company_id]])]),t("p",Ps,s(e(r)("assets.workstation_company_desc")),1),e(a).errors.workstation_company_id?(d(),c("div",Ms,s(e(a).errors.workstation_company_id),1)):u("",!0)]),t("div",Ns,[n(e(f),{for:"workstation_prefix"},{default:p(()=>[_(s(e(r)("assets.workstation_prefix"))+" *",1)]),_:1}),n(e(b),{id:"workstation_prefix",modelValue:e(a).workstation_prefix,"onUpdate:modelValue":o[17]||(o[17]=l=>e(a).workstation_prefix=l),type:"text",placeholder:e(r)("assets.workstation_prefix_placeholder"),class:x({"border-red-500":e(a).errors.workstation_prefix}),required:""},null,8,["modelValue","placeholder","class"]),t("p",zs,s(e(r)("assets.workstation_prefix_desc")),1),e(a).errors.workstation_prefix?(d(),c("div",Xs,s(e(a).errors.workstation_prefix),1)):u("",!0)]),t("div",Os,[t("div",As,[n(e(f),{for:"workstation_start"},{default:p(()=>[_(s(e(r)("assets.workstation_start"))+" *",1)]),_:1}),n(e(b),{id:"workstation_start",modelValue:e(a).workstation_start,"onUpdate:modelValue":o[18]||(o[18]=l=>e(a).workstation_start=l),modelModifiers:{number:!0},type:"number",min:"1",max:"999",placeholder:e(r)("assets.workstation_start_placeholder"),class:x({"border-red-500":e(a).errors.workstation_start}),required:""},null,8,["modelValue","placeholder","class"]),e(a).errors.workstation_start?(d(),c("div",Qs,s(e(a).errors.workstation_start),1)):u("",!0)]),t("div",Ws,[n(e(f),{for:"workstation_end"},{default:p(()=>[_(s(e(r)("assets.workstation_end"))+" *",1)]),_:1}),n(e(b),{id:"workstation_end",modelValue:e(a).workstation_end,"onUpdate:modelValue":o[19]||(o[19]=l=>e(a).workstation_end=l),modelModifiers:{number:!0},type:"number",min:"1",max:"999",placeholder:e(r)("assets.workstation_end_placeholder"),class:x({"border-red-500":e(a).errors.workstation_end}),required:""},null,8,["modelValue","placeholder","class"]),e(a).errors.workstation_end?(d(),c("div",Js,s(e(a).errors.workstation_end),1)):u("",!0)])]),e(a).workstation_prefix&&e(a).workstation_start&&e(a).workstation_end&&e(a).workstation_start<=e(a).workstation_end?(d(),c("div",Gs,[t("h4",Hs,s(e(r)("assets.workstation_preview")),1),t("div",Ks,[t("strong",null,s(e(r)("assets.locations_to_create"))+":",1),_(" "+s(e(a).workstation_prefix)+s(e(a).workstation_start)+" "+s(e(a).workstation_end>e(a).workstation_start?`to ${e(a).workstation_prefix}${e(a).workstation_end}`:"")+" ("+s(e(a).workstation_end-e(a).workstation_start+1)+" "+s(e(r)("assets.workstations"))+") ",1)])])):u("",!0)])):u("",!0)])):w.value===2?(d(),c("div",Ys,[t("div",Zs,[n(e(f),{for:"template_search"},{default:p(()=>[_(s(e(r)("assets.template"))+" *",1)]),_:1}),t("div",ea,[t("div",ta,[n(e(b),{id:"template_search",modelValue:U.value,"onUpdate:modelValue":o[20]||(o[20]=l=>U.value=l),type:"text",placeholder:k.value?k.value.display_name:e(r)("assets.search_template_placeholder"),onInput:De,onFocus:o[21]||(o[21]=l=>U.value.length>=2&&(q.value=!0)),onBlur:Me,class:x({"border-red-500":e(a).errors.asset_template_id}),disabled:k.value!==null},null,8,["modelValue","placeholder","class","disabled"]),k.value?(d(),c("button",{key:0,type:"button",onClick:Pe,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),oe.value?(d(),c("div",sa,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),q.value&&B.value.length>0?(d(),c("div",aa,[(d(!0),c(C,null,I(B.value,l=>{var S,O;return d(),c("div",{key:l.id,onClick:Go=>Ee(l),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",ra,s(l.display_name),1),t("div",la,[l.category_name?(d(),c("span",na,s(l.category_name),1)):u("",!0),l.category_name&&((S=l.company)!=null&&S.name_en||l.is_global)?(d(),c("span",ia," • ")):u("",!0),l.is_global?(d(),c("span",da,s(e(r)("asset_templates.global")),1)):(O=l.company)!=null&&O.name_en?(d(),c("span",ca,s(l.company.name_en),1)):u("",!0)])],8,oa)}),128))])):u("",!0),q.value&&B.value.length===0&&!oe.value&&U.value.length>=2?(d(),c("div",ua,[t("div",_a,s(e(r)("assets.no_templates_found")),1)])):u("",!0)]),e(a).errors.asset_template_id?(d(),c("div",ma,s(e(a).errors.asset_template_id),1)):u("",!0)]),t("div",pa,[n(e(f),{for:"serial_number"},{default:p(()=>[_(s(e(r)("assets.serial_number")),1)]),_:1}),t("div",ya,[n(e(b),{id:"serial_number",modelValue:e(a).serial_number,"onUpdate:modelValue":o[22]||(o[22]=l=>e(a).serial_number=l),type:"text",placeholder:e(r)("assets.serial_number_placeholder"),class:x([{"border-red-500":e(a).errors.serial_number},"flex-1"])},null,8,["modelValue","placeholder","class"]),n(e(j),{type:"button",variant:"outline",onClick:o[23]||(o[23]=l=>K.value=!0),class:"shrink-0"},{default:p(()=>[n(g,{name:"ScanSearch",class:"h-4 w-4 mr-2"}),o[34]||(o[34]=_(" Scan "))]),_:1,__:[34]})]),t("p",va,s(e(r)("assets.serial_number_optional")),1),e(a).errors.serial_number?(d(),c("div",ga,s(e(a).errors.serial_number),1)):u("",!0)]),t("div",fa,[n(e(f),{for:"condition"},{default:p(()=>[_(s(e(r)("assets.condition"))+" *",1)]),_:1}),H(t("select",{id:"condition","onUpdate:modelValue":o[24]||(o[24]=l=>e(a).condition=l),class:x(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(a).errors.condition}]),required:""},[t("option",ha,s(e(r)("assets.condition_good")),1),t("option",ba,s(e(r)("assets.condition_damaged")),1)],2),[[pe,e(a).condition]]),e(a).errors.condition?(d(),c("div",ka,s(e(a).errors.condition),1)):u("",!0)]),e(a).creation_mode==="bulk"?(d(),c("div",xa,[n(e(f),{for:"quantity"},{default:p(()=>[_(s(e(r)("assets.quantity"))+" *",1)]),_:1}),n(e(b),{id:"quantity",modelValue:e(a).quantity,"onUpdate:modelValue":o[25]||(o[25]=l=>e(a).quantity=l),modelModifiers:{number:!0},type:"number",min:"1",max:"100",placeholder:e(r)("assets.quantity_placeholder"),class:x({"border-red-500":e(a).errors.quantity}),required:""},null,8,["modelValue","placeholder","class"]),t("p",wa,s(e(r)("assets.quantity_description")),1),e(a).errors.quantity?(d(),c("div",Sa,s(e(a).errors.quantity),1)):u("",!0)])):u("",!0),t("div",Va,[t("h4",Ca,s(e(r)("assets.assignment_details")),1),t("div",$a,[n(e(f),{for:"company_search"},{default:p(()=>[_(s(e(r)("assets.company")),1)]),_:1}),t("div",La,[t("div",Ta,[n(e(b),{id:"company_search",modelValue:D.value,"onUpdate:modelValue":o[26]||(o[26]=l=>D.value=l),type:"text",placeholder:R.value?R.value.display_name:e(r)("assets.search_company_placeholder"),onInput:ze,onFocus:o[27]||(o[27]=l=>D.value.length>=2&&(E.value=!0)),onBlur:Ae,class:x({"border-red-500":e(a).errors.company_id}),disabled:R.value!==null},null,8,["modelValue","placeholder","class","disabled"]),R.value?(d(),c("button",{key:0,type:"button",onClick:Oe,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),ne.value?(d(),c("div",Ua,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),E.value&&A.value.length>0?(d(),c("div",qa,[(d(!0),c(C,null,I(A.value,l=>(d(),c("div",{key:l.id,onClick:S=>Xe(l),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",Ia,s(l.display_name),1),t("div",ja,s(l.company_email),1)],8,Ra))),128))])):u("",!0)]),t("p",Fa,s(e(r)("assets.company_optional")),1),e(a).errors.company_id?(d(),c("div",Ba,s(e(a).errors.company_id),1)):u("",!0)]),t("div",Da,[n(e(f),{for:"department_search"},{default:p(()=>[_(s(e(r)("assets.department")),1)]),_:1}),t("div",Ea,[t("div",Pa,[n(e(b),{id:"department_search",modelValue:P.value,"onUpdate:modelValue":o[28]||(o[28]=l=>P.value=l),type:"text",placeholder:W.value?W.value.display_name:e(r)("assets.search_department_placeholder"),onInput:We,onFocus:o[29]||(o[29]=l=>P.value.length>=2&&(M.value=!0)),onBlur:Ge,class:x({"border-red-500":e(a).errors.department_id}),disabled:W.value!==null},null,8,["modelValue","placeholder","class","disabled"]),W.value?(d(),c("button",{key:0,type:"button",onClick:ue,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),ie.value?(d(),c("div",Ma,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),M.value&&Q.value.length>0?(d(),c("div",Na,[(d(!0),c(C,null,I(Q.value,l=>(d(),c("div",{key:l.id,onClick:S=>Je(l),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",Xa,s(l.display_name),1),t("div",Oa,[_(s(l.company_name)+" ",1),l.description?(d(),c("span",Aa," • "+s(l.description),1)):u("",!0)])],8,za))),128))])):u("",!0)]),t("p",Qa,s(e(r)("assets.department_optional")),1),e(a).errors.department_id?(d(),c("div",Wa,s(e(a).errors.department_id),1)):u("",!0)]),t("div",Ja,[n(e(f),{for:"employee_search"},{default:p(()=>[_(s(e(r)("assets.assign_to_employee")),1)]),_:1}),t("div",Ga,[t("div",Ha,[n(e(b),{id:"employee_search",modelValue:N.value,"onUpdate:modelValue":o[30]||(o[30]=l=>N.value=l),type:"text",placeholder:G.value?G.value.display_name:e(r)("assets.search_employee_placeholder"),onInput:Ke,onFocus:o[31]||(o[31]=l=>N.value.length>=2&&(z.value=!0)),onBlur:Ze,class:x({"border-red-500":e(a).errors.assigned_to}),disabled:G.value!==null},null,8,["modelValue","placeholder","class","disabled"]),G.value?(d(),c("button",{key:0,type:"button",onClick:ee,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n(g,{name:"X",class:"h-4 w-4"})])):u("",!0),de.value?(d(),c("div",Ka,[n(g,{name:"Loader2",class:"h-4 w-4 animate-spin text-gray-400"})])):u("",!0)]),z.value&&J.value.length>0?(d(),c("div",Ya,[(d(!0),c(C,null,I(J.value,l=>(d(),c("div",{key:l.id,onClick:S=>Ye(l),class:"px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[t("div",eo,s(l.display_name),1),t("div",to,[_(s(l.email)+" ",1),l.department?(d(),c("span",so," • "+s(l.department),1)):u("",!0),l.company_name?(d(),c("span",ao," • "+s(l.company_name),1)):u("",!0)])],8,Za))),128))])):u("",!0)]),t("p",oo,s(e(r)("assets.assign_to_employee_optional")),1),e(a).errors.assigned_to?(d(),c("div",ro,s(e(a).errors.assigned_to),1)):u("",!0)])]),k.value?(d(),c("div",lo,[t("h4",no,s(e(r)("assets.selected_template")),1),t("div",io,[t("div",null,[t("strong",null,s(e(r)("assets.name"))+":",1),_(" "+s(k.value.name),1)]),k.value.manufacturer?(d(),c("div",co,[t("strong",null,s(e(r)("assets.manufacturer"))+":",1),_(" "+s(k.value.manufacturer),1)])):u("",!0),k.value.model_name?(d(),c("div",uo,[t("strong",null,s(e(r)("assets.model"))+":",1),_(" "+s(k.value.model_name),1)])):u("",!0),k.value.asset_category?(d(),c("div",_o,[t("strong",null,s(e(r)("assets.category"))+":",1),_(" "+s(k.value.asset_category.name),1)])):u("",!0)])])):u("",!0)])):w.value===3?(d(),c("div",mo,[t("div",po,[t("div",yo,[n(e(f),{for:"asset_image"},{default:p(()=>[_(s(e(r)("assets.image")),1)]),_:1}),t("div",vo,[t("label",{for:"asset_image",class:x(["flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500",{"border-red-500":X.value}])},[Z.value?(d(),c("div",ko,[t("img",{src:Z.value,alt:"Asset preview",class:"w-full h-full object-contain rounded-lg"},null,8,xo),t("button",{type:"button",onClick:$e(tt,["prevent"]),class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors"},[n(g,{name:"X",class:"h-4 w-4"})])])):(d(),c("div",go,[n(g,{name:"Upload",class:"w-10 h-10 mb-3 text-gray-400"}),t("p",fo,[t("span",ho,s(e(r)("assets.click_to_upload")),1),_(" "+s(e(r)("assets.or_drag_and_drop")),1)]),t("p",bo,s(e(r)("assets.supported_formats")),1)])),t("input",{id:"asset_image",type:"file",accept:"image/*",onChange:et,class:"hidden"},null,32)],2)]),X.value?(d(),c("div",wo,s(X.value),1)):u("",!0),t("p",So,s(e(r)("assets.image_optional")),1)])]),t("div",Vo,[t("h4",Co,s(e(r)("assets.review_asset")),1),t("div",$o,[t("div",null,[t("strong",null,s(e(r)("assets.creation_mode"))+":",1),e(a).creation_mode==="single"?(d(),c("span",Lo,s(e(r)("assets.single_location")),1)):e(a).creation_mode==="bulk"?(d(),c("span",To,s(e(r)("assets.bulk_creation")),1)):(d(),c("span",Uo,s(e(r)("assets.workstation_range")),1))]),e(a).creation_mode!=="workstation_range"?(d(),c("div",qo,[t("strong",null,s(e(r)("assets.location"))+":",1),_(" "+s(((y=V.value)==null?void 0:y.display_name)||"—"),1)])):u("",!0),e(a).creation_mode==="workstation_range"?(d(),c("div",Ro,[t("strong",null,s(e(r)("assets.workstation_range"))+":",1),_(" "+s(e(a).workstation_prefix)+s(e(a).workstation_start)+" to "+s(e(a).workstation_prefix)+s(e(a).workstation_end),1)])):u("",!0),t("div",null,[t("strong",null,s(e(r)("assets.template"))+":",1),_(" "+s(((h=k.value)==null?void 0:h.display_name)||"—"),1)]),t("div",null,[t("strong",null,s(e(r)("assets.serial_number"))+":",1),_(" "+s(e(a).serial_number||e(r)("assets.not_provided")),1)]),t("div",null,[t("strong",null,s(e(r)("assets.condition"))+":",1),_(" "+s(e(a).condition==="good"?e(r)("assets.condition_good"):e(r)("assets.condition_damaged")),1)]),e(a).creation_mode==="bulk"?(d(),c("div",Io,[t("strong",null,s(e(r)("assets.quantity"))+":",1),_(" "+s(e(a).quantity)+" "+s(e(a).quantity===1?e(r)("assets.asset"):e(r)("assets.assets")),1)])):u("",!0),e(a).creation_mode==="workstation_range"?(d(),c("div",jo,[t("strong",null,s(e(r)("assets.workstations"))+":",1),_(" "+s(e(a).workstation_end-e(a).workstation_start+1)+" "+s(e(r)("assets.workstations")),1)])):u("",!0),t("div",null,[t("strong",null,s(e(r)("assets.image"))+":",1),_(" "+s(Y.value?Y.value.name:e(r)("assets.not_provided")),1)])]),e(a).creation_mode==="bulk"&&e(a).quantity>1?(d(),c("div",Fo,[t("div",Bo,[n(g,{name:"Info",class:"h-4 w-4 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),t("div",Do,[t("p",Eo,s(e(r)("assets.bulk_creation_notice")),1),t("p",Po,s(e(r)("assets.bulk_creation_description",{quantity:e(a).quantity})),1)])])])):u("",!0),e(a).creation_mode==="workstation_range"?(d(),c("div",Mo,[t("div",No,[n(g,{name:"Monitor",class:"h-4 w-4 text-green-500 mt-0.5 mr-2 flex-shrink-0"}),t("div",zo,[t("p",Xo,s(e(r)("assets.workstation_creation_notice")),1),t("p",Oo,s(e(r)("assets.workstation_creation_description",{count:e(a).workstation_end-e(a).workstation_start+1,prefix:e(a).workstation_prefix,start:e(a).workstation_start,end:e(a).workstation_end})),1)])])])):u("",!0)])])):u("",!0)]}),_:1})]),_:1}),t("div",Ao,[t("div",Qo,[n(e(j),{variant:"outline",asChild:""},{default:p(()=>[n(e(yt),{href:i.route("assets.index")},{default:p(()=>[n(g,{name:"ArrowLeft",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),_(" "+s(e(r)("common.cancel")),1)]),_:1},8,["href"])]),_:1}),w.value>1?(d(),te(e(j),{key:0,variant:"outline",onClick:at},{default:p(()=>[n(g,{name:"ChevronLeft",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),_(" "+s(e(r)("common.previous")),1)]),_:1})):u("",!0)]),t("div",Wo,[w.value<le?(d(),te(e(j),{key:0,onClick:st,disabled:!ce.value},{default:p(()=>[_(s(e(r)("common.next"))+" ",1),n(g,{name:"ChevronRight",class:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"})]),_:1},8,["disabled"])):(d(),te(e(j),{key:1,onClick:ot,disabled:!ce.value||e(a).processing},{default:p(()=>[e(a).processing?(d(),te(g,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2 animate-spin"})):u("",!0),_(" "+s(e(r)("assets.create_asset")),1)]),_:1},8,["disabled"]))])])]),n(Ut,{modelValue:K.value,"onUpdate:modelValue":o[32]||(o[32]=y=>K.value=y),title:"Scan Serial Number",description:"Position the barcode or QR code on the asset within the camera view to scan the serial number automatically. Supports all common barcode formats and QR codes.",onScanned:nt,onCancel:o[33]||(o[33]=y=>K.value=!1)},null,8,["modelValue"])]),_:1},8,["breadcrumbs"])],64))}});export{Tr as default};
