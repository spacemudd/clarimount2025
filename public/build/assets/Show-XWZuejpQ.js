import{d as R,u as G,p as C,c as H,a as _,o as c,b as t,e,g as K,w as s,f as l,t as r,h as i,S as P,i as k,l as f,m as j,B as ee,F,r as te,v as se,W as B,C as ae}from"./app-Bo17RUVq.js";import{_ as re}from"./AppLayout.vue_vue_type_script_setup_true_lang-C3ye3UzF.js";import{_ as S}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-D2CArAQj.js";import{_ as v,a as w}from"./CardContent.vue_vue_type_script_setup_true_lang-BX34F3o6.js";import{_ as b,a as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-IzPmXn3f.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-CfzMO8qw.js";import{_ as L}from"./Badge.vue_vue_type_script_setup_true_lang-DzpIrFQc.js";import{_ as N,a as E,b as W,c as V,d as O,e as T}from"./DialogTitle.vue_vue_type_script_setup_true_lang-nkkTOwDw.js";import{_ as p}from"./Icon.vue_vue_type_script_setup_true_lang-eA2bsqrL.js";import{_ as le}from"./Heading.vue_vue_type_script_setup_true_lang-CyZBB6tj.js";import"./useForwardExpose-DFoxTTHF.js";import"./RovingFocusGroup-ydjSZ5Zc.js";import"./building-DY2b6jwI.js";import"./users-C_zfL7ME.js";import"./activity-BaMD3pPP.js";import"./arrow-left-BHYdU5Pv.js";import"./triangle-alert-BlY2hfJx.js";import"./calendar-z6GwVUfk.js";import"./check-CuK8K4If.js";import"./chevron-down-M6n8Uv-N.js";import"./search-BL8g7Vqf.js";import"./eye-DsXvQfQg.js";import"./user-DlFfmsY8.js";import"./loader-circle-DEUPUThf.js";import"./sun-Cb4DDFAp.js";import"./play-DDsVQu0I.js";import"./plus-B2PfplSo.js";import"./square-pen-DT0AYONx.js";import"./trash-2-DUssoWbM.js";const ne={class:"space-y-6"},ie={class:"flex items-center justify-between"},oe={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},de={class:"flex items-center space-x-3"},ue={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},me={class:"lg:col-span-2 space-y-6"},ce={class:"flex justify-center"},fe=["src","alt"],_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 font-mono"},pe={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 font-mono"},ye={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},xe={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},ve={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},we={key:0},be={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap"},he={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ke={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Se={class:"flex justify-end"},Pe={class:"space-y-6"},Me={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},De={key:0},Je={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 font-mono"},$e={key:1},Ce={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},je={key:2},Fe={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Be={key:3,class:"flex justify-end"},Le={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Ne={key:0},Ee={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 font-mono"},We={class:"flex justify-end"},Ve={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Oe={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Te={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Ae={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Ue={key:0},qe={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Ie={class:"space-y-4"},Xe={class:"flex items-center space-x-2"},Ye={key:0,class:"space-y-2"},Ze=["value"],ze={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},St=R({__name:"Show",props:{asset:{}},setup(A){const{t:o}=G(),y=A,g=C({show:!1,loading:!1}),d=C({show:!1,printing:!1,useDefaultPrinter:!1,selectedPrinter:"",availablePrinters:[],status:""}),U=H(()=>[{title:o("nav.dashboard"),href:"/dashboard"},{title:o("nav.assets"),href:"/assets"},{title:y.asset.asset_tag,href:`/assets/${y.asset.id}`}]),q=a=>{switch(a){case"available":return"default";case"assigned":return"secondary";case"maintenance":return"destructive";case"retired":return"outline";default:return"secondary"}},I=()=>{g.value.show=!0},X=()=>{g.value.loading=!0,B.delete(route("assets.destroy",y.asset.id),{onSuccess:()=>{B.visit(route("assets.index"))},onFinish:()=>{g.value.loading=!1}})},M=a=>new Promise((n,u)=>{if(document.querySelector(`script[src="${a}"]`)){n();return}const x=document.createElement("script");x.src=a,x.onload=()=>n(),x.onerror=()=>u(new Error(`Failed to load script: ${a}`)),document.head.appendChild(x)}),Y=async()=>{try{d.value.status="Loading print libraries...",await M("/js/bluebird.min.js"),await M("/js/jquery-3.2.1.slim.min.js"),await M("/js/jsmanager/JSPrintManager.js"),d.value.status="Print libraries loaded successfully"}catch(a){console.error("Failed to load scripts:",a),d.value.status="Failed to load print libraries"}},Z=async()=>{d.value.show=!0,typeof window.JSPM>"u"&&await Y(),z()},z=()=>{ae(()=>{typeof window.JSPM<"u"?(window.JSPM.JSPrintManager.auto_reconnect=!0,window.JSPM.JSPrintManager.start(),window.JSPM.JSPrintManager.WS.onStatusChanged=function(){J()&&(d.value.status="Connected to JSPrintManager",window.JSPM.JSPrintManager.getPrinters().then(function(a){d.value.availablePrinters=a}))}):d.value.status="JSPrintManager not loaded"})},J=()=>window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Open?!0:window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Closed?(d.value.status="JSPrintManager is not installed or not running! Download JSPM Client App from https://neodynamic.com/downloads/jspm",!1):(window.JSPM.JSPrintManager.websocket_status==window.JSPM.WSStatus.Blocked&&(d.value.status="JSPM has blocked this website!"),!1),Q=()=>{if(J()){d.value.printing=!0;try{const a=new window.JSPM.ClientPrintJob;d.value.useDefaultPrinter?a.clientPrinter=new window.JSPM.DefaultPrinter:a.clientPrinter=new window.JSPM.InstalledPrinter(d.value.selectedPrinter);let n="^XA";n+="^PW406",n+="^LL203",n+="^MD30",n+="^SD15",n+=`^FO25,20^A0N,28,28^FD${y.asset.asset_tag}^FS`,n+="^FO25,60^BY3,3,40",n+="^BCN,40,Y,N,N",n+=`^FD${y.asset.serial_number||y.asset.asset_tag}^FS`,n+="^FO310,20^BQN,2,4",n+=`^FDMM,${y.asset.asset_tag}^FS`,n+=`^FO25,175^A0N,20,20^FD${new Date().toISOString().split("T")[0]}^FS`,n+="^XZ",a.printerCommands=n,a.sendToClient(),d.value.status="Print job sent successfully!",setTimeout(()=>{d.value.show=!1,d.value.printing=!1},2e3)}catch(a){console.error("Print error:",a),d.value.status="Error occurred while printing",d.value.printing=!1}}else d.value.printing=!1};return(a,n)=>(c(),_(F,null,[t(e(K),{title:a.asset.asset_tag},null,8,["title"]),t(re,{breadcrumbs:U.value},{default:s(()=>[l("div",ne,[l("div",ie,[l("div",null,[t(le,{title:a.asset.asset_tag},null,8,["title"]),l("p",oe,r(e(o)("assets.asset_details")),1)]),l("div",de,[t(e(S),{variant:"outline",onClick:Z,class:"inline-flex items-center"},{default:s(()=>[t(p,{name:"Printer",class:"mr-2 h-4 w-4"}),n[6]||(n[6]=i(" Barcode "))]),_:1,__:[6]}),t(e(P),{href:a.route("assets.edit",a.asset.id),class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"},{default:s(()=>[t(p,{name:"Edit",class:"mr-2 h-4 w-4"}),i(" "+r(e(o)("common.edit")),1)]),_:1},8,["href"]),t(e(S),{variant:"destructive",onClick:I},{default:s(()=>[t(p,{name:"Trash2",class:"mr-2 h-4 w-4"}),i(" "+r(e(o)("common.delete")),1)]),_:1})])]),l("div",ue,[l("div",me,[a.asset.image_path?(c(),k(e(v),{key:0},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(h),null,{default:s(()=>[i(r(e(o)("assets.asset_image")),1)]),_:1})]),_:1}),t(e(w),null,{default:s(()=>[l("div",ce,[l("img",{src:`/storage/${a.asset.image_path}`,alt:a.asset.asset_tag,class:"max-w-full h-auto max-h-96 rounded-lg border border-gray-200 dark:border-gray-700"},null,8,fe)])]),_:1})]),_:1})):f("",!0),t(e(v),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(h),null,{default:s(()=>[i(r(e(o)("assets.basic_information")),1)]),_:1})]),_:1}),t(e(w),{class:"space-y-4"},{default:s(()=>[l("div",_e,[l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.asset_tag")),1)]),_:1}),l("p",ge,r(a.asset.asset_tag),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.serial_number")),1)]),_:1}),l("p",pe,r(a.asset.serial_number||"—"),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.manufacturer")),1)]),_:1}),l("p",ye,r(a.asset.manufacturer||"—"),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.model_name")),1)]),_:1}),l("p",xe,r(a.asset.model_name||"—"),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.model_number")),1)]),_:1}),l("p",ve,r(a.asset.model_number||"—"),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.status")),1)]),_:1}),t(e(L),{variant:q(a.asset.status),class:"mt-1"},{default:s(()=>[i(r(e(o)(`assets.status_${a.asset.status}`)),1)]),_:1},8,["variant"])])]),a.asset.notes?(c(),_("div",we,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.notes")),1)]),_:1}),l("p",be,r(a.asset.notes),1)])):f("",!0)]),_:1})]),_:1}),a.asset.asset_template?(c(),k(e(v),{key:1},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(h),null,{default:s(()=>[i(r(e(o)("assets.template_information")),1)]),_:1})]),_:1}),t(e(w),{class:"space-y-3"},{default:s(()=>[l("div",he,[l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.template_name")),1)]),_:1}),l("p",ke,r(a.asset.asset_template.name),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.template_type")),1)]),_:1}),t(e(L),{variant:a.asset.asset_template.is_global?"secondary":"default",class:"mt-1"},{default:s(()=>{var u;return[i(r(a.asset.asset_template.is_global?e(o)("asset_templates.global"):(u=a.asset.asset_template.company)==null?void 0:u.name_en),1)]}),_:1},8,["variant"])])]),l("div",Se,[t(e(P),{href:a.route("asset-templates.show",a.asset.asset_template.id),class:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"},{default:s(()=>[i(r(e(o)("assets.view_template"))+" ",1),t(p,{name:"ExternalLink",class:"ml-1 h-3 w-3"})]),_:1},8,["href"])])]),_:1})]),_:1})):f("",!0)]),l("div",Pe,[t(e(v),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(h),null,{default:s(()=>[i(r(e(o)("assets.location_information")),1)]),_:1})]),_:1}),t(e(w),{class:"space-y-3"},{default:s(()=>{var u,D,x,$;return[l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.location")),1)]),_:1}),l("p",Me,r(((u=a.asset.location)==null?void 0:u.name)||"—"),1)]),(D=a.asset.location)!=null&&D.code?(c(),_("div",De,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("locations.code")),1)]),_:1}),l("p",Je,r(a.asset.location.code),1)])):f("",!0),(x=a.asset.location)!=null&&x.building?(c(),_("div",$e,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("locations.building")),1)]),_:1}),l("p",Ce,r(a.asset.location.building),1)])):f("",!0),($=a.asset.location)!=null&&$.office_number?(c(),_("div",je,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("locations.office_number")),1)]),_:1}),l("p",Fe,r(a.asset.location.office_number),1)])):f("",!0),a.asset.location?(c(),_("div",Be,[t(e(P),{href:a.route("locations.show",a.asset.location.id),class:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"},{default:s(()=>[i(r(e(o)("assets.view_location"))+" ",1),t(p,{name:"ExternalLink",class:"ml-1 h-3 w-3"})]),_:1},8,["href"])])):f("",!0)]}),_:1})]),_:1}),a.asset.category?(c(),k(e(v),{key:0},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(h),null,{default:s(()=>[i(r(e(o)("assets.category_information")),1)]),_:1})]),_:1}),t(e(w),{class:"space-y-3"},{default:s(()=>[l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.category")),1)]),_:1}),l("p",Le,r(a.asset.category.name),1)]),a.asset.category.code?(c(),_("div",Ne,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("asset_categories.code")),1)]),_:1}),l("p",Ee,r(a.asset.category.code),1)])):f("",!0),l("div",We,[t(e(P),{href:a.route("asset-categories.show",a.asset.category.id),class:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"},{default:s(()=>[i(r(e(o)("assets.view_category"))+" ",1),t(p,{name:"ExternalLink",class:"ml-1 h-3 w-3"})]),_:1},8,["href"])])]),_:1})]),_:1})):f("",!0),t(e(v),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(h),null,{default:s(()=>[i(r(e(o)("assets.asset_metadata")),1)]),_:1})]),_:1}),t(e(w),{class:"space-y-3"},{default:s(()=>{var u;return[l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("common.created_at")),1)]),_:1}),l("p",Ve,r(new Date(a.asset.created_at).toLocaleDateString()),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("common.updated_at")),1)]),_:1}),l("p",Oe,r(new Date(a.asset.updated_at).toLocaleDateString()),1)]),l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.company")),1)]),_:1}),l("p",Te,r(((u=a.asset.company)==null?void 0:u.name_en)||"—"),1)])]}),_:1})]),_:1}),a.asset.status==="assigned"&&a.asset.assigned_to?(c(),k(e(v),{key:1},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(h),null,{default:s(()=>[i(r(e(o)("assets.assignment_information")),1)]),_:1})]),_:1}),t(e(w),{class:"space-y-3"},{default:s(()=>{var u;return[l("div",null,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.assigned_to")),1)]),_:1}),l("p",Ae,r(((u=a.asset.assigned_to)==null?void 0:u.name)||"—"),1)]),a.asset.assigned_date?(c(),_("div",Ue,[t(e(m),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:s(()=>[i(r(e(o)("assets.assigned_date")),1)]),_:1}),l("p",qe,r(new Date(a.asset.assigned_date).toLocaleDateString()),1)])):f("",!0)]}),_:1})]),_:1})):f("",!0)])])]),t(e(N),{open:d.value.show,"onUpdate:open":n[3]||(n[3]=u=>d.value.show=u)},{default:s(()=>[t(e(E),{class:"sm:max-w-md"},{default:s(()=>[t(e(W),null,{default:s(()=>[t(e(V),null,{default:s(()=>n[7]||(n[7]=[i("Print Barcode Label")])),_:1,__:[7]}),t(e(O),null,{default:s(()=>n[8]||(n[8]=[i(" Configure printer settings for the Zebra label printer. ")])),_:1,__:[8]})]),_:1}),l("div",Ie,[l("div",Xe,[j(l("input",{type:"checkbox",id:"useDefaultPrinter","onUpdate:modelValue":n[0]||(n[0]=u=>d.value.useDefaultPrinter=u),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[ee,d.value.useDefaultPrinter]]),t(e(m),{for:"useDefaultPrinter",class:"font-medium"},{default:s(()=>n[9]||(n[9]=[i(" Print to Default printer ")])),_:1,__:[9]})]),d.value.useDefaultPrinter?f("",!0):(c(),_("div",Ye,[t(e(m),{for:"installedPrinterName"},{default:s(()=>n[10]||(n[10]=[i("Select an installed Printer:")])),_:1,__:[10]}),j(l("select",{id:"installedPrinterName","onUpdate:modelValue":n[1]||(n[1]=u=>d.value.selectedPrinter=u),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},[n[11]||(n[11]=l("option",{value:""},"Select a printer...",-1)),(c(!0),_(F,null,te(d.value.availablePrinters,u=>(c(),_("option",{key:u,value:u},r(u),9,Ze))),128))],512),[[se,d.value.selectedPrinter]])])),d.value.status?(c(),_("div",ze," Status: "+r(d.value.status),1)):f("",!0)]),t(e(T),null,{default:s(()=>[t(e(S),{variant:"outline",onClick:n[2]||(n[2]=u=>d.value.show=!1)},{default:s(()=>n[12]||(n[12]=[i(" Cancel ")])),_:1,__:[12]}),t(e(S),{onClick:Q,disabled:d.value.printing||!d.value.useDefaultPrinter&&!d.value.selectedPrinter},{default:s(()=>[d.value.printing?(c(),k(p,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 animate-spin"})):f("",!0),n[13]||(n[13]=i(" Print Now "))]),_:1,__:[13]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),t(e(N),{open:g.value.show,"onUpdate:open":n[5]||(n[5]=u=>g.value.show=u)},{default:s(()=>[t(e(E),null,{default:s(()=>[t(e(W),null,{default:s(()=>[t(e(V),null,{default:s(()=>[i(r(e(o)("assets.confirm_delete")),1)]),_:1}),t(e(O),null,{default:s(()=>[i(r(e(o)("assets.delete_warning")),1)]),_:1})]),_:1}),t(e(T),null,{default:s(()=>[t(e(S),{variant:"outline",onClick:n[4]||(n[4]=u=>g.value.show=!1)},{default:s(()=>[i(r(e(o)("common.cancel")),1)]),_:1}),t(e(S),{variant:"destructive",onClick:X,disabled:g.value.loading},{default:s(()=>[g.value.loading?(c(),k(p,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 animate-spin"})):f("",!0),i(" "+r(e(o)("common.delete")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1},8,["breadcrumbs"])],64))}});export{St as default};
