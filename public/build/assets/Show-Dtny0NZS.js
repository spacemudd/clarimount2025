import{d as G,u as H,q as $,c as J,C as K,a as d,o as i,b as e,e as t,h as Q,w as a,f as s,t as l,s as R,g as r,i as b,m as f,F as C,r as E,y as S}from"./app-CHIjDZuZ.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-6s3i2-Li.js";import{_ as D}from"./index-BI5lX1Qb.js";import{_ as g,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-DlOkVb1m.js";import{_ as h,a as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXsNoMDC.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-EGcFv3FP.js";import{_ as L}from"./Badge.vue_vue_type_script_setup_true_lang-CRn8JKss.js";import{_ as N,a as B,b as M,c as V,d as X}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CVhQ0Qqz.js";import{_ as Y}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DqCAkky5.js";import{_ as x}from"./Icon.vue_vue_type_script_setup_true_lang-BJJ5fV1_.js";import{_ as tt}from"./Heading.vue_vue_type_script_setup_true_lang-L0cC348Q.js";import"./useForwardExpose-BwM4eZOZ.js";import"./x-BaaE6kpm.js";import"./building-C1-G0n3X.js";import"./users-DkzFubVR.js";import"./activity-B11j2qvV.js";import"./arrow-left-BC6c0Typ.js";import"./calendar-BPdmiXCZ.js";import"./chevron-down-B-Pvo_2T.js";import"./search-DFV3jbWM.js";import"./eye-kM4RYPQj.js";import"./user-Ba_S_03D.js";import"./loader-circle-BlLlK2RK.js";import"./sun-Bc_YScej.js";import"./play-hDMb51pb.js";import"./plus-Ba8neW1X.js";import"./square-pen-C-pva_bz.js";import"./trash-2-hWt_95z4.js";import"./triangle-alert-B2Tql2sf.js";const et={class:"space-y-6"},at={class:"flex items-center justify-between"},st={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},lt={class:"flex items-center space-x-3"},ot={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},nt={class:"lg:col-span-2 space-y-6"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mt={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},it={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},dt={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},ct={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},_t={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},ut={key:0},pt={class:"mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap"},ft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gt={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},yt={key:0,class:"text-center py-8"},xt={class:"text-sm text-gray-500"},ht={key:1,class:"space-y-4"},vt={class:"flex items-center justify-between"},bt={class:"flex-1"},kt={class:"flex items-center space-x-3"},wt={class:"flex-1"},$t={class:"font-medium text-gray-900 dark:text-gray-100"},Ct={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},Dt={key:0,class:"text-gray-500"},jt={class:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},It={class:"font-medium text-gray-500 dark:text-gray-400"},Et={class:"ml-1 text-gray-900 dark:text-gray-100"},St={class:"font-medium text-gray-500 dark:text-gray-400"},Lt={class:"ml-1 text-gray-900 dark:text-gray-100"},Nt={class:"font-medium text-gray-500 dark:text-gray-400"},Bt={class:"ml-1 text-gray-900 dark:text-gray-100"},Mt={class:"space-y-6"},Vt={class:"relative group"},Ft=["src","alt"],Tt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all cursor-pointer flex items-center justify-center"},Ut={class:"text-center"},Ot={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},qt={class:"text-sm text-gray-500 dark:text-gray-400"},zt={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Pt={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Zt={key:0},At={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"},Gt={class:"flex justify-center"},Ht=["src","alt"],ke=G({__name:"Show",props:{template:{},assets:{}},setup(F){const{t:n}=H(),k=F,u=$({show:!1,loading:!1}),j=$(!1),w=$(!1),T=J(()=>[{title:n("nav.dashboard"),href:"/dashboard"},{title:n("nav.asset_templates"),href:"/asset-templates"},{title:k.template.name,href:`/asset-templates/${k.template.id}`}]),U=()=>{u.value.show=!0},O=()=>{u.value.loading=!0,S.delete(route("asset-templates.destroy",k.template.id),{onSuccess:()=>{S.visit(route("asset-templates.index"))},onFinish:()=>{u.value.loading=!1}})},q=()=>{j.value=!0},z=()=>{w.value=!0},P=o=>({available:n("asset_templates.available"),assigned:n("asset_templates.assigned"),maintenance:n("asset_templates.maintenance"),retired:n("asset_templates.retired"),disposed:n("asset_templates.disposed")})[o]||o,Z=o=>o?`${o.first_name} ${o.last_name}`:"—";return(o,c)=>{const A=K("CardDescription");return i(),d(C,null,[e(t(Q),{title:o.template.name},null,8,["title"]),e(W,{breadcrumbs:T.value},{default:a(()=>[s("div",et,[s("div",at,[s("div",null,[e(tt,{title:o.template.name},null,8,["title"]),s("p",st,l(t(n)("asset_templates.template_details")),1)]),s("div",lt,[e(t(R),{href:o.route("asset-templates.edit",o.template.id),class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"},{default:a(()=>[e(x,{name:"Edit",class:"mr-2 h-4 w-4"}),r(" "+l(t(n)("common.edit")),1)]),_:1},8,["href"]),e(t(D),{variant:"destructive",onClick:U},{default:a(()=>[e(x,{name:"Trash2",class:"mr-2 h-4 w-4"}),r(" "+l(t(n)("common.delete")),1)]),_:1})])]),s("div",ot,[s("div",nt,[e(t(g),null,{default:a(()=>[e(t(h),null,{default:a(()=>[e(t(v),null,{default:a(()=>[r(l(t(n)("asset_templates.basic_information")),1)]),_:1})]),_:1}),e(t(y),{class:"space-y-4"},{default:a(()=>{var m;return[s("div",rt,[s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("asset_templates.template_name")),1)]),_:1}),s("p",mt,l(o.template.name),1)]),s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("asset_templates.manufacturer")),1)]),_:1}),s("p",it,l(o.template.manufacturer||"—"),1)]),s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("asset_templates.model_name")),1)]),_:1}),s("p",dt,l(o.template.model_name||"—"),1)]),s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("asset_templates.model_number")),1)]),_:1}),s("p",ct,l(o.template.model_number||"—"),1)]),s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("common.category")),1)]),_:1}),s("p",_t,l(((m=o.template.asset_category)==null?void 0:m.name)||"—"),1)]),s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("common.company")),1)]),_:1}),e(t(L),{variant:o.template.is_global?"secondary":"default",class:"mt-1"},{default:a(()=>{var p;return[r(l(o.template.is_global?t(n)("asset_templates.global"):((p=o.template.company)==null?void 0:p.name_en)||"—"),1)]}),_:1},8,["variant"])])]),o.template.default_notes?(i(),d("div",ut,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("asset_templates.default_notes")),1)]),_:1}),s("p",pt,l(o.template.default_notes),1)])):f("",!0)]}),_:1})]),_:1}),o.template.specifications&&Object.keys(o.template.specifications).length>0?(i(),b(t(g),{key:0},{default:a(()=>[e(t(h),null,{default:a(()=>[e(t(v),null,{default:a(()=>[r(l(t(n)("asset_templates.specifications")),1)]),_:1})]),_:1}),e(t(y),null,{default:a(()=>[s("div",ft,[(i(!0),d(C,null,E(o.template.specifications,(m,p)=>(i(),d("div",{key:p},[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400 capitalize"},{default:a(()=>[r(l(p.replace(/_/g," ")),1)]),_:2},1024),s("p",gt,l(m),1)]))),128))])]),_:1})]),_:1})):f("",!0),e(t(g),null,{default:a(()=>[e(t(h),null,{default:a(()=>[e(t(v),null,{default:a(()=>[r(l(t(n)("asset_templates.assets_using_template")),1)]),_:1}),e(A,null,{default:a(()=>[r(l(t(n)("asset_templates.assets_using_template_description")),1)]),_:1})]),_:1}),e(t(y),null,{default:a(()=>[o.assets.length===0?(i(),d("div",yt,[e(x,{name:"Package",class:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s("p",xt,l(t(n)("asset_templates.no_assets_found")),1)])):(i(),d("div",ht,[(i(!0),d(C,null,E(o.assets,m=>{var p,I;return i(),d("div",{key:m.id,class:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},[s("div",vt,[s("div",bt,[s("div",kt,[s("div",wt,[s("h4",$t,l(m.asset_tag),1),m.model_name?(i(),d("p",Ct,[r(l(m.model_name)+" ",1),m.model_number?(i(),d("span",Dt,"("+l(m.model_number)+")",1)):f("",!0)])):f("",!0)]),e(t(L),{variant:m.status==="assigned"?"default":"secondary"},{default:a(()=>[r(l(P(m.status)),1)]),_:2},1032,["variant"])]),s("div",jt,[s("div",null,[s("span",It,l(t(n)("asset_templates.location"))+":",1),s("span",Et,l(((p=m.location)==null?void 0:p.name)||"—"),1)]),s("div",null,[s("span",St,l(t(n)("asset_templates.employee"))+":",1),s("span",Lt,l(Z(m.assigned_to)),1)]),s("div",null,[s("span",Nt,l(t(n)("common.company"))+":",1),s("span",Bt,l(((I=m.company)==null?void 0:I.name_en)||"—"),1)])])])])])}),128))]))]),_:1})]),_:1})]),s("div",Mt,[o.template.image_path?(i(),b(t(g),{key:0,class:"overflow-hidden"},{default:a(()=>[e(t(h),null,{default:a(()=>[e(t(v),{class:"flex items-center gap-2"},{default:a(()=>[e(x,{name:"Image",class:"h-5 w-5"}),c[3]||(c[3]=r(" Template Image ",-1))]),_:1,__:[3]})]),_:1}),e(t(y),{class:"p-0"},{default:a(()=>[s("div",Vt,[s("img",{src:`/storage/${o.template.image_path}`,alt:o.template.name,class:"w-full h-auto max-h-80 object-cover transition-transform group-hover:scale-105",onError:q,onClick:z},null,40,Ft),s("div",Tt,[e(x,{name:"ZoomIn",class:"h-8 w-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})])])]),_:1})]),_:1})):o.template.image_path&&j.value?(i(),b(t(g),{key:1,class:"border-red-200 dark:border-red-800"},{default:a(()=>[e(t(y),{class:"p-6 text-center"},{default:a(()=>[e(x,{name:"ImageOff",class:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c[4]||(c[4]=s("p",{class:"text-sm text-gray-500"},"Unable to load template image",-1))]),_:1,__:[4]})]),_:1})):f("",!0),e(t(g),null,{default:a(()=>[e(t(h),null,{default:a(()=>[e(t(v),null,{default:a(()=>[r(l(t(n)("asset_templates.usage_statistics")),1)]),_:1})]),_:1}),e(t(y),null,{default:a(()=>[s("div",Ut,[s("div",Ot,l(o.template.usage_count),1),s("p",qt,l(t(n)("asset_templates.times_used")),1)])]),_:1})]),_:1}),e(t(g),null,{default:a(()=>[e(t(h),null,{default:a(()=>[e(t(v),null,{default:a(()=>[r(l(t(n)("asset_templates.template_info")),1)]),_:1})]),_:1}),e(t(y),{class:"space-y-3"},{default:a(()=>[s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("common.created_at")),1)]),_:1}),s("p",zt,l(new Date(o.template.created_at).toLocaleDateString()),1)]),s("div",null,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("common.updated_at")),1)]),_:1}),s("p",Pt,l(new Date(o.template.updated_at).toLocaleDateString()),1)]),o.template.created_by_user?(i(),d("div",Zt,[e(t(_),{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},{default:a(()=>[r(l(t(n)("common.created_by")),1)]),_:1}),s("p",At,l(o.template.created_by_user.name),1)])):f("",!0)]),_:1})]),_:1})])])]),e(t(N),{open:w.value,"onUpdate:open":c[0]||(c[0]=m=>w.value=m)},{default:a(()=>[e(t(B),{class:"max-w-4xl w-full"},{default:a(()=>[e(t(M),null,{default:a(()=>[e(t(V),null,{default:a(()=>[r(l(o.template.name),1)]),_:1})]),_:1}),s("div",Gt,[o.template.image_path?(i(),d("img",{key:0,src:`/storage/${o.template.image_path}`,alt:o.template.name,class:"max-w-full max-h-[70vh] object-contain rounded-lg"},null,8,Ht)):f("",!0)])]),_:1})]),_:1},8,["open"]),e(t(N),{open:u.value.show,"onUpdate:open":c[2]||(c[2]=m=>u.value.show=m)},{default:a(()=>[e(t(B),null,{default:a(()=>[e(t(M),null,{default:a(()=>[e(t(V),null,{default:a(()=>[r(l(t(n)("asset_templates.delete_confirm")),1)]),_:1}),e(t(Y),null,{default:a(()=>[r(l(t(n)("asset_templates.delete_confirm_message")),1)]),_:1})]),_:1}),e(t(X),null,{default:a(()=>[e(t(D),{variant:"outline",onClick:c[1]||(c[1]=m=>u.value.show=!1)},{default:a(()=>[r(l(t(n)("common.cancel")),1)]),_:1}),e(t(D),{variant:"destructive",onClick:O,disabled:u.value.loading},{default:a(()=>[u.value.loading?(i(),b(x,{key:0,name:"Loader2",class:"h-4 w-4 mr-2 animate-spin"})):f("",!0),r(" "+l(t(n)("common.delete")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1},8,["breadcrumbs"])],64)}}});export{ke as default};
