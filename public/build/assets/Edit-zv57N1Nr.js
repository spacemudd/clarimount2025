import{d as D,u as F,c as y,x as I,i as h,o as p,w as l,f as t,b as s,e,k as L,l as v,h as n,t as i,n as u,m as x,a as b,F as V,r as w,v as T,s as j,S as q}from"./app-IPsmIRl9.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSInhlkB.js";import{_ as $}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-6q2N7PDu.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-iVbORQDi.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-36Jt1YMU.js";import{_ as k,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-Cx8Fr7sC.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-Q1I0yqjb.js";import{_ as S,a as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-CxlGTmQo.js";import{_ as A}from"./Heading.vue_vue_type_script_setup_true_lang-TioPucqB.js";import{_ as f}from"./InputError.vue_vue_type_script_setup_true_lang-CUu7TX2z.js";import{_ as G}from"./Icon.vue_vue_type_script_setup_true_lang-DbsIakSO.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardExpose-2_x22r_J.js";import"./RovingFocusGroup-fX36jH1v.js";import"./building-yRM3-v7E.js";import"./users-DcL7QW3g.js";import"./activity-C88uGJXG.js";import"./arrow-left-t01uTXbA.js";import"./triangle-alert-DYazOjJk.js";import"./calendar-9izXXZaH.js";import"./check-BT2X6_sH.js";import"./chevron-down-1D9ygLol.js";import"./search-Cvpy_kqZ.js";import"./eye-3B_MDceL.js";import"./user-s3W4aZfD.js";import"./loader-circle-FLnRm2ap.js";import"./sun-BBlPMptt.js";import"./play-CzVgnY_l.js";import"./plus-CuYAqaRC.js";import"./square-pen-Chwi_t5e.js";import"./trash-2-meMbHUOD.js";const J={class:"space-y-6"},K={class:"max-w-2xl"},O={class:"text-sm text-gray-600 mt-1"},Q={value:""},R=["value"],W={class:"text-sm text-gray-600 mt-1"},X=["placeholder"],Y={class:"grid grid-cols-2 gap-4"},Z={class:"text-sm text-gray-600 mt-1"},ee={class:"flex space-x-2"},oe={class:"space-y-4"},se={class:"p-4 bg-red-50 rounded-lg"},re={class:"text-sm text-red-700"},te={class:"mt-2 text-sm text-red-600 list-disc list-inside"},ae={class:"flex items-center justify-between"},le=D({__name:"Edit",props:{category:{},parentCategories:{},company:{}},setup(N){const{t:r}=F(),c=N,z=y(()=>[{title:r("nav.dashboard"),href:"/dashboard"},{title:r("asset_categories.title"),href:"/asset-categories"},{title:c.category.name,href:`/asset-categories/${c.category.id}`},{title:r("asset_categories.edit"),href:`/asset-categories/${c.category.id}/edit`}]),E=y(()=>c.parentCategories.filter(m=>m.id!==c.category.id)),o=I({name:c.category.name,code:c.category.code||"",description:c.category.description||"",icon:c.category.icon||"",color:c.category.color||"#6b7280",parent_id:c.category.parent_id||""}),M=()=>{o.put(route("asset-categories.update",c.category.id))};return(m,d)=>(p(),h(P,{breadcrumbs:z.value},{default:l(()=>[t("div",J,[s(A,{title:e(r)("asset_categories.edit")},null,8,["title"]),t("div",K,[t("form",{onSubmit:L(M,["prevent"]),class:"space-y-6"},[s(e(k),null,{default:l(()=>[s(e(S),null,{default:l(()=>[s(e(B),null,{default:l(()=>[n(i(e(r)("asset_categories.form.category_details")),1)]),_:1}),s(e(U),null,{default:l(()=>[n(i(e(r)("asset_categories.form.category_details_description")),1)]),_:1})]),_:1}),s(e(C),{class:"space-y-6"},{default:l(()=>[t("div",null,[s(e(_),{for:"name",class:"required"},{default:l(()=>[n(i(e(r)("asset_categories.form.name")),1)]),_:1}),s(e(g),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":d[0]||(d[0]=a=>e(o).name=a),type:"text",placeholder:e(r)("asset_categories.form.name_placeholder"),class:u({"border-red-500":e(o).errors.name})},null,8,["modelValue","placeholder","class"]),s(f,{message:e(o).errors.name},null,8,["message"])]),t("div",null,[s(e(_),{for:"code"},{default:l(()=>[n(i(e(r)("asset_categories.form.code")),1)]),_:1}),s(e(g),{id:"code",modelValue:e(o).code,"onUpdate:modelValue":d[1]||(d[1]=a=>e(o).code=a),type:"text",placeholder:e(r)("asset_categories.form.code_placeholder"),class:u({"border-red-500":e(o).errors.code})},null,8,["modelValue","placeholder","class"]),s(f,{message:e(o).errors.code},null,8,["message"]),t("p",O,i(e(r)("asset_categories.form.code_help")),1)]),t("div",null,[s(e(_),{for:"parent_id"},{default:l(()=>[n(i(e(r)("asset_categories.form.parent_category")),1)]),_:1}),x(t("select",{id:"parent_id","onUpdate:modelValue":d[2]||(d[2]=a=>e(o).parent_id=a),class:u(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(o).errors.parent_id}])},[t("option",Q,i(e(r)("asset_categories.form.no_parent")),1),(p(!0),b(V,null,w(E.value,a=>(p(),b("option",{key:a.id,value:a.id},i("â€”".repeat(a.depth||0))+" "+i(a.name),9,R))),128))],2),[[T,e(o).parent_id]]),s(f,{message:e(o).errors.parent_id},null,8,["message"]),t("p",W,i(e(r)("asset_categories.form.parent_help")),1)]),t("div",null,[s(e(_),{for:"description"},{default:l(()=>[n(i(e(r)("asset_categories.form.description")),1)]),_:1}),x(t("textarea",{id:"description","onUpdate:modelValue":d[3]||(d[3]=a=>e(o).description=a),rows:"3",class:u(["flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-red-500":e(o).errors.description}]),placeholder:e(r)("asset_categories.form.description_placeholder")},null,10,X),[[j,e(o).description]]),s(f,{message:e(o).errors.description},null,8,["message"])]),t("div",Y,[t("div",null,[s(e(_),{for:"icon"},{default:l(()=>[n(i(e(r)("asset_categories.form.icon")),1)]),_:1}),s(e(g),{id:"icon",modelValue:e(o).icon,"onUpdate:modelValue":d[4]||(d[4]=a=>e(o).icon=a),type:"text",placeholder:e(r)("asset_categories.form.icon_placeholder"),class:u({"border-red-500":e(o).errors.icon})},null,8,["modelValue","placeholder","class"]),s(f,{message:e(o).errors.icon},null,8,["message"]),t("p",Z,i(e(r)("asset_categories.form.icon_help")),1)]),t("div",null,[s(e(_),{for:"color"},{default:l(()=>[n(i(e(r)("asset_categories.form.color")),1)]),_:1}),t("div",ee,[s(e(g),{id:"color",modelValue:e(o).color,"onUpdate:modelValue":d[5]||(d[5]=a=>e(o).color=a),type:"color",class:u(["w-16 h-10",{"border-red-500":e(o).errors.color}])},null,8,["modelValue","class"]),s(e(g),{modelValue:e(o).color,"onUpdate:modelValue":d[6]||(d[6]=a=>e(o).color=a),type:"text",class:u(["flex-1",{"border-red-500":e(o).errors.color}]),placeholder:e(r)("asset_categories.form.color_placeholder")},null,8,["modelValue","placeholder","class"])]),s(f,{message:e(o).errors.color},null,8,["message"])])])]),_:1})]),_:1}),m.category.children&&m.category.children.length>0?(p(),h(e(k),{key:0,class:"border-red-200"},{default:l(()=>[s(e(S),null,{default:l(()=>[s(e(B),{class:"text-red-700"},{default:l(()=>[n(i(e(r)("asset_categories.form.danger_zone")),1)]),_:1}),s(e(U),{class:"text-red-600"},{default:l(()=>[n(i(e(r)("asset_categories.form.danger_zone_description")),1)]),_:1})]),_:1}),s(e(C),null,{default:l(()=>[t("div",oe,[t("div",se,[t("p",re,i(e(r)("asset_categories.form.has_children_warning",{count:m.category.children.length})),1),t("ul",te,[(p(!0),b(V,null,w(m.category.children,a=>(p(),b("li",{key:a.id},i(a.name),1))),128))])])])]),_:1})]),_:1})):v("",!0),t("div",ae,[s(e($),{type:"button",variant:"outline",asChild:""},{default:l(()=>[s(e(q),{href:m.route("asset-categories.index")},{default:l(()=>[n(i(e(r)("common.cancel")),1)]),_:1},8,["href"])]),_:1}),s(e($),{type:"submit",disabled:e(o).processing},{default:l(()=>[e(o).processing?(p(),h(G,{key:0,name:"LoaderCircle",class:"mr-2 h-4 w-4 animate-spin"})):v("",!0),n(" "+i(e(o).processing?e(r)("common.updating"):e(r)("common.update")),1)]),_:1},8,["disabled"])])],32)])])]),_:1},8,["breadcrumbs"]))}}),Te=H(le,[["__scopeId","data-v-c41fdf2b"]]);export{Te as default};
