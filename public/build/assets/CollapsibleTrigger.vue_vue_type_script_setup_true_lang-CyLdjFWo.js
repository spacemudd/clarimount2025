import{c as P,u as x,P as H,a as I}from"./RovingFocusGroup-DRFQq4DM.js";import{d as p,I as M,i as c,o as m,w as r,J as f,e,p as b,c as F,E as T,H as A,B as D,b as E,K as y,l as S}from"./app-Bs5Cl5Wb.js";import{u as j,a as B,b as V}from"./useForwardExpose-De9ucyZs.js";import{P as O}from"./index-C3JfffzQ.js";const[R,q]=P("CollapsibleRoot"),J=p({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(l,{expose:i,emit:o}){const n=l,s=j(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),{disabled:d,unmountOnHide:u}=M(n);return q({contentId:"",disabled:d,open:s,unmountOnHide:u,onOpenToggle:()=>{d.value||(s.value=!s.value)}}),i({open:s}),B(),(v,_)=>(m(),c(e(O),{as:v.as,"as-child":n.asChild,"data-state":e(s)?"open":"closed","data-disabled":e(d)?"":void 0},{default:r(()=>[f(v.$slots,"default",{open:e(s)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),K=p({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(l,{emit:i}){const o=l,n=i,a=R();a.contentId||(a.contentId=x(void 0,"reka-collapsible-content"));const s=b(),{forwardRef:d,currentElement:u}=B(),v=b(0),_=b(0),$=F(()=>a.open.value),C=b($.value),h=b();T(()=>{var t;return[$.value,(t=s.value)==null?void 0:t.present]},async()=>{await A();const t=u.value;if(!t)return;h.value=h.value||{transitionDuration:t.style.transitionDuration,animationName:t.style.animationName},t.style.transitionDuration="0s",t.style.animationName="none";const g=t.getBoundingClientRect();_.value=g.height,v.value=g.width,C.value||(t.style.transitionDuration=h.value.transitionDuration,t.style.animationName=h.value.animationName)},{immediate:!0});const N=F(()=>C.value&&a.open.value);return D(()=>{requestAnimationFrame(()=>{C.value=!1})}),V(u,"beforematch",t=>{requestAnimationFrame(()=>{a.onOpenToggle(),n("contentFound")})}),(t,g)=>(m(),c(e(H),{ref_key:"presentRef",ref:s,present:t.forceMount||e(a).open.value,"force-mount":!0},{default:r(({present:k})=>{var w;return[E(e(O),y(t.$attrs,{id:e(a).contentId,ref:e(d),"as-child":o.asChild,as:t.as,hidden:k?void 0:e(a).unmountOnHide.value?"":"until-found","data-state":N.value?void 0:e(a).open.value?"open":"closed","data-disabled":(w=e(a).disabled)!=null&&w.value?"":void 0,style:{"--reka-collapsible-content-height":`${_.value}px`,"--reka-collapsible-content-width":`${v.value}px`}}),{default:r(()=>[!e(a).unmountOnHide.value||k?f(t.$slots,"default",{key:0}):S("",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),L=p({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(l){const i=l;B();const o=R();return(n,a)=>{var s,d;return m(),c(e(O),{type:n.as==="button"?"button":void 0,as:n.as,"as-child":i.asChild,"aria-controls":e(o).contentId,"aria-expanded":e(o).open.value,"data-state":e(o).open.value?"open":"closed","data-disabled":(s=e(o).disabled)!=null&&s.value?"":void 0,disabled:(d=e(o).disabled)==null?void 0:d.value,onClick:e(o).onOpenToggle},{default:r(()=>[f(n.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),W=p({__name:"Collapsible",props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]}},emits:["update:open"],setup(l,{emit:i}){const a=I(l,i);return(s,d)=>(m(),c(e(J),y({"data-slot":"collapsible"},e(a)),{default:r(({open:u})=>[f(s.$slots,"default",{open:u})]),_:3},16))}}),X=p({__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(l){const i=l;return(o,n)=>(m(),c(e(K),y({"data-slot":"collapsible-content"},i),{default:r(()=>[f(o.$slots,"default")]),_:3},16))}}),Y=p({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(l){const i=l;return(o,n)=>(m(),c(e(L),y({"data-slot":"collapsible-trigger"},i),{default:r(()=>[f(o.$slots,"default")]),_:3},16))}});export{W as _,Y as a,X as b};
