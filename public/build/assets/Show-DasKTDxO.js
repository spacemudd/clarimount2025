import{d as T,u as G,c as H,p as V,i as f,o as n,w as s,f as o,b as t,y as A,a as d,t as r,l as u,e,h as c,S as h,F as $,r as j,n as B,W as N}from"./app-BSKs9kyb.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-gV_Uweek.js";import{_}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C09Y8QSw.js";import{_ as z}from"./Badge.vue_vue_type_script_setup_true_lang-CXZyt9Yi.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-Bs-FxAEo.js";import{_ as p,a as v}from"./CardContent.vue_vue_type_script_setup_true_lang-CYp5oZ9R.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-BggNbHWj.js";import{_ as b,a as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-CqSjzepR.js";import{_ as K,a as M,b as O,c as P,d as Q,e as R}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DjVS3f8A.js";import{_ as X}from"./Heading.vue_vue_type_script_setup_true_lang-BD5l-MIQ.js";import{_ as m}from"./Icon.vue_vue_type_script_setup_true_lang-Bo_OXCk8.js";import"./useForwardExpose-6qYNyk4e.js";import"./RovingFocusGroup-BpzcSHHD.js";import"./building-CiecAx3m.js";import"./users-DWDZFv9g.js";import"./activity-B5loHG48.js";import"./arrow-left-BNxTk1Q7.js";import"./calendar-C7gGaCUU.js";import"./check-CwbLdCBg.js";import"./chevron-down-RMJZehqC.js";import"./search-D1YPnQwF.js";import"./eye-DS0RS9u6.js";import"./user-BkU-KgoD.js";import"./loader-circle-C12bf2oi.js";import"./sun-08nmbupo.js";import"./play-CcqXriNV.js";import"./plus-COW-q3Ql.js";import"./square-pen-C5MrGS6m.js";import"./trash-2-DEWc2Duq.js";import"./triangle-alert-AOX-N1ZK.js";const Y={class:"space-y-6"},Z={class:"flex items-center justify-between"},ee={class:"flex items-center space-x-4"},te={key:1},se={class:"flex items-center space-x-2 mt-1"},ae={class:"flex items-center space-x-2"},re={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},oe={class:"lg:col-span-2 space-y-6"},ie={key:0},le={class:"text-gray-700 dark:text-gray-300 mt-1"},ne={class:"grid grid-cols-2 gap-4"},ce={class:"text-gray-700 dark:text-gray-300 mt-1"},de={class:"text-gray-700 dark:text-gray-300 mt-1"},ue={class:"divide-y"},_e={class:"flex items-center justify-between"},me={class:"flex items-center space-x-3"},fe={key:1},ge={class:"font-medium"},he={key:0,class:"text-sm text-gray-600 mt-1"},ye={class:"flex items-center space-x-4 mt-1 text-sm text-gray-500"},pe={class:"flex items-center space-x-2"},ve={class:"p-4 border-t bg-gray-50"},be={class:"divide-y"},we={class:"flex items-center justify-between"},ke={class:"font-medium"},xe={class:"flex items-center space-x-4 mt-1 text-sm text-gray-600"},Ce={key:0},$e={key:1},je={class:"p-4 border-t bg-gray-50"},ze={class:"space-y-6"},Ae={class:"flex items-center justify-between"},Se={class:"text-gray-600"},De={class:"font-semibold text-2xl"},Ue={class:"flex items-center justify-between"},Ve={class:"text-gray-600"},Be={class:"font-semibold text-2xl"},Ne={class:"flex items-center justify-between"},Fe={class:"text-gray-600"},Ee={class:"font-semibold text-2xl"},Le={key:1},We={key:0,class:"my-4"},qe={class:"p-4 bg-red-50 rounded-lg"},Ie={class:"text-sm text-red-700 font-medium mb-2"},Te={class:"text-sm text-red-600 list-disc list-inside"},pt=T({__name:"Show",props:{category:{},statistics:{},hierarchy:{},recentAssets:{},company:{}},setup(E){const{t:l}=G(),g=E,L=H(()=>{const a=[{title:l("nav.dashboard"),href:"/dashboard"},{title:l("asset_categories.title"),href:"/asset-categories"}];return g.hierarchy&&g.hierarchy.forEach((y,C)=>{C<g.hierarchy.length-1&&a.push({title:y.name,href:`/asset-categories/${y.id}`})}),a.push({title:g.category.name,href:`/asset-categories/${g.category.id}`}),a}),k=V(!1),x=V(!1),W=()=>{k.value=!0},q=()=>{x.value=!0,N.delete(route("asset-categories.destroy",g.category.id),{onSuccess:()=>{const a=g.category.parent_id?route("asset-categories.show",g.category.parent_id):route("asset-categories.index");N.visit(a)},onFinish:()=>{x.value=!1}})},D=a=>new Date(a).toLocaleDateString(),I=a=>{switch(a){case"available":return"default";case"assigned":return"secondary";case"maintenance":return"destructive";case"retired":return"outline";default:return"secondary"}};return(a,y)=>(n(),f(J,{breadcrumbs:L.value},{default:s(()=>{var C;return[o("div",Y,[o("div",Z,[o("div",ee,[o("div",{class:"w-12 h-12 rounded-lg flex items-center justify-center text-white text-lg font-medium",style:A({backgroundColor:a.category.color||"#6b7280"})},[a.category.icon?(n(),f(m,{key:0,name:a.category.icon,class:"h-6 w-6"},null,8,["name"])):(n(),d("span",te,r((C=a.category.name)==null?void 0:C.charAt(0).toUpperCase()),1))],4),o("div",null,[t(X,{title:a.category.name},null,8,["title"]),o("div",se,[a.category.code?(n(),f(e(z),{key:0,variant:"secondary"},{default:s(()=>[c(r(a.category.code),1)]),_:1})):u("",!0),a.category.parent?(n(),f(e(z),{key:1,variant:"outline"},{default:s(()=>[c(r(e(l)("asset_categories.child_of",{parent:a.category.parent.name})),1)]),_:1})):u("",!0)])])]),o("div",ae,[t(e(_),{variant:"outline",asChild:""},{default:s(()=>[t(e(h),{href:a.route("asset-categories.edit",a.category.id)},{default:s(()=>[t(m,{name:"edit",class:"mr-2 h-4 w-4"}),c(" "+r(e(l)("common.edit")),1)]),_:1},8,["href"])]),_:1}),t(e(_),{variant:"outline",onClick:W},{default:s(()=>[t(m,{name:"trash-2",class:"mr-2 h-4 w-4"}),c(" "+r(e(l)("common.delete")),1)]),_:1})])]),o("div",re,[o("div",oe,[t(e(p),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(w),null,{default:s(()=>[c(r(e(l)("asset_categories.details")),1)]),_:1})]),_:1}),t(e(v),{class:"space-y-4"},{default:s(()=>[a.category.description?(n(),d("div",ie,[t(e(S),null,{default:s(()=>[c(r(e(l)("asset_categories.form.description")),1)]),_:1}),o("p",le,r(a.category.description),1)])):u("",!0),o("div",ne,[o("div",null,[t(e(S),null,{default:s(()=>[c(r(e(l)("common.created_at")),1)]),_:1}),o("p",ce,r(D(a.category.created_at)),1)]),o("div",null,[t(e(S),null,{default:s(()=>[c(r(e(l)("common.updated_at")),1)]),_:1}),o("p",de,r(D(a.category.updated_at)),1)])])]),_:1})]),_:1}),a.category.children&&a.category.children.length>0?(n(),f(e(p),{key:0},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(w),null,{default:s(()=>[c(r(e(l)("asset_categories.subcategories")),1)]),_:1}),t(e(F),null,{default:s(()=>[c(r(e(l)("asset_categories.subcategories_description",{count:a.category.children.length})),1)]),_:1})]),_:1}),t(e(v),{class:"p-0"},{default:s(()=>[o("div",ue,[(n(!0),d($,null,j(a.category.children,i=>(n(),d("div",{key:i.id,class:"p-4 hover:bg-gray-50 transition-colors"},[o("div",_e,[o("div",me,[o("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center text-white text-sm font-medium",style:A({backgroundColor:i.color||"#6b7280"})},[i.icon?(n(),f(m,{key:0,name:i.icon,class:"h-4 w-4"},null,8,["name"])):(n(),d("span",fe,r(i.name.charAt(0).toUpperCase()),1))],4),o("div",null,[o("h4",ge,r(i.name),1),i.description?(n(),d("p",he,r(i.description),1)):u("",!0),o("div",ye,[o("span",null,r(e(l)("asset_categories.assets_count",{count:i.assets_count||0})),1),i.code?(n(),f(e(z),{key:0,variant:"secondary",class:"text-xs"},{default:s(()=>[c(r(i.code),1)]),_:2},1024)):u("",!0)])])]),o("div",pe,[t(e(_),{variant:"ghost",size:"sm",asChild:""},{default:s(()=>[t(e(h),{href:a.route("asset-categories.show",i.id)},{default:s(()=>[t(m,{name:"eye",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),t(e(_),{variant:"ghost",size:"sm",asChild:""},{default:s(()=>[t(e(h),{href:a.route("asset-categories.edit",i.id)},{default:s(()=>[t(m,{name:"edit",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024)])])]))),128))]),o("div",ve,[t(e(_),{variant:"outline",size:"sm",asChild:""},{default:s(()=>[t(e(h),{href:a.route("asset-categories.create",{parent:a.category.id})},{default:s(()=>[t(m,{name:"plus",class:"h-4 w-4 mr-2"}),c(" "+r(e(l)("asset_categories.add_subcategory")),1)]),_:1},8,["href"])]),_:1})])]),_:1})]),_:1})):u("",!0),a.recentAssets&&a.recentAssets.length>0?(n(),f(e(p),{key:1},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(w),null,{default:s(()=>[c(r(e(l)("asset_categories.recent_assets")),1)]),_:1}),t(e(F),null,{default:s(()=>[c(r(e(l)("asset_categories.recent_assets_description")),1)]),_:1})]),_:1}),t(e(v),{class:"p-0"},{default:s(()=>[o("div",be,[(n(!0),d($,null,j(a.recentAssets,i=>(n(),d("div",{key:i.id,class:"p-4 hover:bg-gray-50 transition-colors"},[o("div",we,[o("div",null,[o("h4",ke,r(i.model_name),1),o("div",xe,[o("span",null,r(i.asset_tag),1),i.serial_number?(n(),d("span",Ce,r(i.serial_number),1)):u("",!0),i.location?(n(),d("span",$e,r(i.location.name),1)):u("",!0)])]),t(e(z),{variant:I(i.status)},{default:s(()=>[c(r(e(l)(`assets.status_${i.status}`)),1)]),_:2},1032,["variant"])])]))),128))]),o("div",je,[t(e(_),{variant:"outline",size:"sm",asChild:""},{default:s(()=>[t(e(h),{href:a.route("assets.index",{category:a.category.id})},{default:s(()=>[c(r(e(l)("asset_categories.view_all_assets")),1)]),_:1},8,["href"])]),_:1})])]),_:1})]),_:1})):u("",!0)]),o("div",ze,[t(e(p),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(w),null,{default:s(()=>[c(r(e(l)("asset_categories.statistics")),1)]),_:1})]),_:1}),t(e(v),{class:"space-y-4"},{default:s(()=>[o("div",Ae,[o("span",Se,r(e(l)("asset_categories.total_assets")),1),o("span",De,r(a.statistics.total_assets),1)]),o("div",Ue,[o("span",Ve,r(e(l)("asset_categories.subcategories")),1),o("span",Be,r(a.statistics.subcategories_count),1)]),o("div",Ne,[o("span",Fe,r(e(l)("asset_categories.recent_activity")),1),o("span",Ee,r(a.statistics.recent_activity),1)])]),_:1})]),_:1}),a.hierarchy&&a.hierarchy.length>0?(n(),f(e(p),{key:0},{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(w),null,{default:s(()=>[c(r(e(l)("asset_categories.hierarchy")),1)]),_:1})]),_:1}),t(e(v),{class:"space-y-2"},{default:s(()=>[(n(!0),d($,null,j(a.hierarchy,(i,U)=>(n(),d("div",{key:i.id,class:B(["flex items-center space-x-2 p-2 rounded-lg transition-colors",U===a.hierarchy.length-1?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"])},[o("div",{class:"w-6 h-6 rounded flex items-center justify-center text-white text-xs font-medium",style:A({backgroundColor:i.color||"#6b7280"})},[i.icon?(n(),f(m,{key:0,name:i.icon,class:"h-3 w-3"},null,8,["name"])):(n(),d("span",Le,r(i.name.charAt(0).toUpperCase()),1))],4),o("span",{class:B(["text-sm",U===a.hierarchy.length-1?"font-medium text-blue-700":"text-gray-700"])},r(i.name),3)],2))),128))]),_:1})]),_:1})):u("",!0),t(e(p),null,{default:s(()=>[t(e(b),null,{default:s(()=>[t(e(w),null,{default:s(()=>[c(r(e(l)("asset_categories.quick_actions")),1)]),_:1})]),_:1}),t(e(v),{class:"space-y-2"},{default:s(()=>[t(e(_),{variant:"outline",size:"sm",class:"w-full justify-start",asChild:""},{default:s(()=>[t(e(h),{href:a.route("assets.create",{category:a.category.id})},{default:s(()=>[t(m,{name:"plus",class:"h-4 w-4 mr-2"}),c(" "+r(e(l)("asset_categories.create_asset")),1)]),_:1},8,["href"])]),_:1}),t(e(_),{variant:"outline",size:"sm",class:"w-full justify-start",asChild:""},{default:s(()=>[t(e(h),{href:a.route("asset-categories.create",{parent:a.category.id})},{default:s(()=>[t(m,{name:"folder-plus",class:"h-4 w-4 mr-2"}),c(" "+r(e(l)("asset_categories.add_subcategory")),1)]),_:1},8,["href"])]),_:1}),t(e(_),{variant:"outline",size:"sm",class:"w-full justify-start",asChild:""},{default:s(()=>[t(e(h),{href:a.route("assets.index",{category:a.category.id})},{default:s(()=>[t(m,{name:"list",class:"h-4 w-4 mr-2"}),c(" "+r(e(l)("asset_categories.view_assets")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})])])]),t(e(K),{open:k.value,"onUpdate:open":y[1]||(y[1]=i=>k.value=i)},{default:s(()=>[t(e(M),null,{default:s(()=>[t(e(O),null,{default:s(()=>[t(e(P),null,{default:s(()=>[c(r(e(l)("asset_categories.delete.title")),1)]),_:1}),t(e(Q),null,{default:s(()=>[c(r(e(l)("asset_categories.delete.description",{name:a.category.name})),1)]),_:1})]),_:1}),a.category.children&&a.category.children.length>0?(n(),d("div",We,[o("div",qe,[o("p",Ie,r(e(l)("asset_categories.delete.has_children_warning")),1),o("ul",Te,[(n(!0),d($,null,j(a.category.children,i=>(n(),d("li",{key:i.id},r(i.name),1))),128))])])])):u("",!0),t(e(R),null,{default:s(()=>[t(e(_),{variant:"outline",onClick:y[0]||(y[0]=i=>k.value=!1)},{default:s(()=>[c(r(e(l)("common.cancel")),1)]),_:1}),t(e(_),{variant:"destructive",onClick:q,disabled:x.value},{default:s(()=>[c(r(x.value?e(l)("common.deleting"):e(l)("common.delete")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]}),_:1},8,["breadcrumbs"]))}});export{pt as default};
