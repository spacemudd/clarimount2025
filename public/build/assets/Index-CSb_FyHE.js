import{d as dt,u as ct,p as v,c as G,C as ut,G as _t,i as pt,o as c,w as o,f as t,a as u,l as k,b as a,t as i,e,h as p,m as Y,z as mt,F as A,r as N,v as ft,n as Z}from"./app-k5TdAzo1.js";import{_ as gt}from"./AppLayout.vue_vue_type_script_setup_true_lang-C6-J4pjl.js";import{_ as h}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CburkwdV.js";import{_ as x,a as b}from"./CardContent.vue_vue_type_script_setup_true_lang-C1hxh7e5.js";import{_ as O,a as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-Ua__O6DG.js";import{_ as R}from"./Badge.vue_vue_type_script_setup_true_lang-KiiJObyl.js";import{_ as Q}from"./Label.vue_vue_type_script_setup_true_lang-CY1r_h4l.js";import{_}from"./Icon.vue_vue_type_script_setup_true_lang-DSMtitRm.js";import"./useForwardExpose-D7N4nYEM.js";import"./RovingFocusGroup-ebRZxvGH.js";import"./building-COL2xHkX.js";import"./users-CeutaAgc.js";import"./activity-DF-gQkxI.js";import"./arrow-left-BcJY4Yyh.js";import"./calendar-C6ePFU_e.js";import"./check-Dje_saUa.js";import"./chevron-down-CKqsSuNu.js";import"./search-Df6BeGro.js";import"./eye-CJm8w-vg.js";import"./user-5s51VCYy.js";import"./loader-circle-Bus4E3Uz.js";import"./sun-BfWPs0DH.js";import"./play-BeOIHi5p.js";import"./plus-Ble8W6Ab.js";import"./square-pen-C_oj8DUB.js";import"./trash-2-CtlkSs9T.js";import"./triangle-alert-CNolKPHK.js";const vt={class:"flex items-center justify-between"},ht={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},yt={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},wt={class:"flex items-center gap-4"},xt={class:"flex items-center gap-2"},bt={class:"text-sm font-medium"},St={class:"py-6"},Pt={class:"mx-auto max-w-7xl px-6 lg:px-8"},kt={key:0,class:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},Ft={class:"flex items-center justify-between"},Jt={class:"flex items-center gap-3"},Ct={class:"font-medium text-blue-900 dark:text-blue-100"},Mt={key:0,class:"text-sm text-blue-700 dark:text-blue-300"},Et={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},It={class:"flex items-center"},Tt={class:"flex-shrink-0"},$t={class:"flex h-8 w-8 items-center justify-center rounded-md bg-yellow-100 text-yellow-600"},Dt={class:"ml-4"},At={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Nt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Ot={class:"flex items-center"},jt={class:"flex-shrink-0"},zt={class:"flex h-8 w-8 items-center justify-center rounded-md bg-blue-100 text-blue-600"},Lt={class:"ml-4"},Bt={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Rt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Wt={class:"flex items-center"},qt={class:"flex-shrink-0"},Kt={class:"flex h-8 w-8 items-center justify-center rounded-md bg-green-100 text-green-600"},Xt={class:"ml-4"},Vt={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Ut={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Ht={class:"flex items-center"},Gt={class:"flex-shrink-0"},Yt={class:"flex h-8 w-8 items-center justify-center rounded-md bg-red-100 text-red-600"},Zt={class:"ml-4"},Qt={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},te={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ee={class:"mb-6"},se={class:"flex items-center justify-between"},ne={class:"font-medium"},ae={class:"text-sm text-gray-600 dark:text-gray-400"},ie={key:0,class:"space-y-4"},re={class:"flex items-center space-x-2"},oe={key:0,class:"space-y-2"},le={class:"flex items-center justify-between"},de={value:""},ce=["value"],ue={key:0,class:"text-sm text-gray-500"},_e={key:1,class:"flex items-center justify-between"},pe={class:"text-sm text-gray-600 dark:text-gray-400"},me={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},fe={key:0,class:"text-center py-8"},ge={class:"text-gray-500"},ve={key:1,class:"space-y-4"},he={class:"flex items-center justify-between"},ye={class:"flex-1"},we={class:"flex items-center gap-2"},xe={class:"text-sm font-medium"},be={class:"mt-2"},Se={class:"font-semibold"},Pe={class:"text-sm text-gray-600 dark:text-gray-400"},ke={class:"text-xs text-gray-500 dark:text-gray-500"},Fe={key:0,class:"flex gap-2"},Je={key:0,class:"text-center py-8"},Ce={class:"text-gray-500"},Me={key:1,class:"space-y-4"},Ee={class:"flex items-center justify-between"},Ie={class:"flex-1"},Te={class:"flex items-center gap-2"},$e={class:"text-sm font-medium"},De={class:"mt-2"},Ae={class:"font-semibold"},Ne={class:"text-sm text-gray-600 dark:text-gray-400"},Oe={class:"flex items-center gap-2 mt-1"},je={class:"text-xs text-blue-600"},ze={class:"flex gap-2"},Le={class:"mt-6"},Be={key:0,class:"text-center py-4"},Re={class:"text-gray-500"},We={key:1,class:"space-y-2"},qe={class:"flex items-center gap-3"},Ke={class:"font-medium"},Xe={class:"text-sm text-gray-500"},xs=dt({__name:"Index",setup(Ve){const{t:l}=ct(),g=v([]),z=v([]),F=v({pending:0,processing:0,completed_today:0,failed_today:0}),I=v(!1),S=v(!1),y=v(!1),w=v(null),J=v(!1),T=v(""),C=v([]),m=v("");let M=null,P=null;const $=G(()=>g.value.filter(s=>s.status==="pending").sort((s,r)=>{const n={urgent:4,high:3,normal:2,low:1},d=n[s.priority]||0,f=n[r.priority]||0;return d!==f?f-d:new Date(s.created_at).getTime()-new Date(r.created_at).getTime()})),L=G(()=>g.value.filter(s=>s.status==="processing")),tt=s=>{switch(s){case"urgent":return"destructive";case"high":return"secondary";case"normal":return"outline";case"low":return"secondary";default:return"outline"}},et=s=>new Date(s).toLocaleTimeString(),E=async()=>{I.value=!0;try{const[s,r,n]=await Promise.all([fetch("/api/print-jobs/pending"),fetch("/api/print-jobs/history?limit=10"),fetch("/api/print-jobs/statistics")]);s.ok&&(g.value=await s.json()),r.ok&&(z.value=await r.json()),n.ok&&(F.value=await n.json())}catch(s){console.error("Failed to refresh jobs:",s)}finally{I.value=!1}},W=()=>{M||(S.value=!0,M=window.setInterval(E,2e3),console.log("Started polling for print jobs every 2 seconds"))},q=()=>{M&&(clearInterval(M),M=null),S.value=!1,console.log("Stopped polling for print jobs")},st=()=>{S.value?q():W()},K=async()=>{if(y.value)y.value=!1,w.value=null,P&&(clearInterval(P),P=null);else{if(!await H()){alert("JSPrintManager is not available. Please install and start JSPrintManager.");return}if(!J.value&&!T.value){alert('Please select a printer or enable "Use Default Printer" before enabling auto-print.');return}y.value=!0,nt()}},nt=()=>{P||(P=window.setInterval(async()=>{if(w.value)return;const s=$.value[0];s&&await X(s,!0)},1e3))},X=async(s,r=!1)=>{var n;try{if((await fetch(`/api/print-jobs/${s.id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))||""},body:JSON.stringify({status:"processing",print_station_id:"AUTO_STATION_"+Date.now()})})).ok){const f=g.value.findIndex(lt=>lt.id===s.id);f!==-1&&(g.value[f].status="processing"),r&&(w.value=s),await ot(s)}}catch(d){console.error("Failed to process print job:",d)}},V=async s=>{var r,n;try{(await fetch(`/api/print-jobs/${s.id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""},body:JSON.stringify({status:"completed"})})).ok&&(g.value=g.value.filter(f=>f.id!==s.id),F.value.completed_today++,((n=w.value)==null?void 0:n.id)===s.id&&(w.value=null),E())}catch(d){console.error("Failed to complete print job:",d)}},U=async s=>{var r,n;try{(await fetch(`/api/print-jobs/${s.id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""},body:JSON.stringify({status:"failed",error_message:"Print job failed"})})).ok&&(g.value=g.value.filter(f=>f.id!==s.id),F.value.failed_today++,((n=w.value)==null?void 0:n.id)===s.id&&(w.value=null),E())}catch(d){console.error("Failed to fail print job:",d)}},at=async s=>{var r;try{(await fetch(`/api/print-jobs/${s.id}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))||""}})).ok&&(g.value=g.value.filter(d=>d.id!==s.id))}catch(n){console.error("Failed to cancel print job:",n)}},B=s=>new Promise((r,n)=>{if(document.querySelector(`script[src="${s}"]`)){r();return}const f=document.createElement("script");f.src=s,f.onload=()=>r(),f.onerror=()=>n(new Error(`Failed to load script: ${s}`)),document.head.appendChild(f)}),it=async()=>{try{m.value="Loading print libraries...",await B("/js/bluebird.min.js"),await B("/js/jquery-3.2.1.slim.min.js"),await B("/js/jsmanager/JSPrintManager.js"),m.value="Print libraries loaded successfully"}catch(s){throw console.error("Failed to load scripts:",s),m.value="Failed to load print libraries",s}},D=async()=>{try{if(typeof window.JSPM>"u"){m.value="JSPrintManager not loaded";return}if(window.JSPM.JSPrintManager.websocket_status!==window.JSPM.WSStatus.Open){m.value="JSPrintManager not connected";return}m.value="Loading printers...";const s=await window.JSPM.JSPrintManager.getPrinters();C.value=s,m.value=`Found ${s.length} printer(s)`,console.log("Available printers:",s)}catch(s){console.error("Failed to load printers:",s),m.value="Failed to load printers",C.value=[]}},rt=async()=>{try{if(console.log("Testing JSPrintManager connection..."),typeof window.JSPM>"u"){alert("JSPrintManager not loaded. Please check if the scripts are loaded correctly.");return}const s=window.JSPM.JSPrintManager.websocket_status;let r="Unknown";s===window.JSPM.WSStatus.Open?r="Connected":s===window.JSPM.WSStatus.Closed?r="Disconnected":s===window.JSPM.WSStatus.Blocked&&(r="Blocked"),console.log("JSPrintManager status:",r),s===window.JSPM.WSStatus.Open?(await D(),alert(`JSPrintManager is connected! Found ${C.value.length} printer(s).`)):alert(`JSPrintManager status: ${r}. Please make sure JSPrintManager is running.`)}catch(s){console.error("JSPrintManager test failed:",s),alert("JSPrintManager test failed. Check the console for details.")}},H=async()=>{try{return typeof window.JSPM>"u"&&await it(),typeof window.JSPM>"u"?!1:(window.JSPM.JSPrintManager.auto_reconnect=!0,window.JSPM.JSPrintManager.start(),await new Promise((s,r)=>{const n=setTimeout(()=>r(new Error("Connection timeout")),1e4);window.JSPM.JSPrintManager.WS.onStatusChanged=function(){window.JSPM.JSPrintManager.websocket_status===window.JSPM.WSStatus.Open?(clearTimeout(n),m.value="Connected to JSPrintManager",D(),s()):window.JSPM.JSPrintManager.websocket_status===window.JSPM.WSStatus.Closed?(clearTimeout(n),m.value="JSPrintManager not running",r(new Error("JSPrintManager not running"))):window.JSPM.JSPrintManager.websocket_status===window.JSPM.WSStatus.Blocked&&(clearTimeout(n),m.value="JSPrintManager blocked this website",r(new Error("JSPrintManager blocked")))}}),!0)}catch(s){return console.error("Failed to initialize JSPrintManager:",s),m.value="Failed to connect to JSPrintManager",!1}},ot=async s=>{try{if(typeof window.JSPM>"u")throw new Error("JSPrintManager not available");const r=s.print_data,n=new window.JSPM.ClientPrintJob;J.value?n.clientPrinter=new window.JSPM.DefaultPrinter:n.clientPrinter=new window.JSPM.InstalledPrinter(T.value);let d="^XA";d+="^PW406",d+="^LL203",d+="^MD30",d+="^SD15",d+="^FO10,50^GFA,329,329,7,,,,,,K0F1C,J01E3E,I039F1C4,I079E10F,I07BF03E,I073E17E,00213E7FC,00607CFF8,00F87CFF,00F8F9F800C,00FCF8J08,007EF,003E6,03BEK03F,039FK07F,039FK07F,07CFK03F8,008F,I0F8I018,I07J03C,03DK03E68,07FCJ01C7,03FFJ01E7,03FF8I01F3,017FEI09F,I0FE0018F8,0043E003CF8,00F1I03C7C,00F80807C3C,0070700F838,0020F00F008,I03E00F3,I07E01F38,I07C01E78,I03801E3,L01E,L01C,L01,,,,,^FS",d+="^FO70,30^A0N,18,18^FDFAHAD NAWAF ALZEER HOLDING CO.^FS",d+=`^FO70,65^A0N,24,24^FD${r.asset_tag}^FS`,d+="^FO70,100^BY2,2,35",d+="^BCN,35,Y,N,N",d+=`^FD${r.serial_number||r.asset_tag}^FS`,d+="^FO320,50^BQN,2,4",d+=`^FDMM,${r.asset_tag}^FS`,d+=`^FO70,175^A0N,18,18^FD${new Date().toISOString().split("T")[0]}^FS`,d+="^XZ",n.printerCommands=d,n.sendToClient(),y.value&&setTimeout(()=>{V(s)},3e3)}catch(r){console.error("Failed to print asset label:",r),await U(s)}};return ut(async()=>{E(),W();try{await H()}catch(s){console.error("Failed to initialize JSPrintManager on mount:",s),setTimeout(D,2e3)}}),_t(()=>{q(),P&&clearInterval(P)}),(s,r)=>(c(),pt(gt,null,{header:o(()=>[t("div",vt,[t("div",null,[t("h2",ht,i(e(l)("print_station.title")),1),t("p",yt,i(e(l)("print_station.description")),1)]),t("div",wt,[t("div",xt,[t("div",{class:Z(["h-3 w-3 rounded-full",S.value?"bg-green-500":"bg-red-500"])},null,2),t("span",bt,i(S.value?e(l)("print_station.polling_active"):e(l)("print_station.polling_stopped")),1)]),a(e(h),{onClick:st,disabled:I.value},{default:o(()=>[a(_,{name:S.value?"Pause":"Play",class:"mr-2 h-4 w-4"},null,8,["name"]),p(" "+i(S.value?e(l)("print_station.stop"):e(l)("print_station.start")),1)]),_:1},8,["disabled"]),a(e(h),{onClick:E,disabled:I.value},{default:o(()=>[a(_,{name:"RefreshCw",class:"mr-2 h-4 w-4"}),p(" "+i(e(l)("print_station.refresh")),1)]),_:1},8,["disabled"])])])]),default:o(()=>[t("div",St,[t("div",Pt,[y.value?(c(),u("div",kt,[t("div",Ft,[t("div",Jt,[r[2]||(r[2]=t("div",{class:"animate-pulse h-3 w-3 bg-blue-500 rounded-full"},null,-1)),t("span",Ct,i(e(l)("print_station.auto_print_active")),1),w.value?(c(),u("span",Mt,i(e(l)("print_station.printing_job",{jobId:w.value.job_id})),1)):k("",!0)]),a(e(h),{variant:"outline",size:"sm",onClick:K},{default:o(()=>[p(i(e(l)("print_station.disable_auto_print")),1)]),_:1})])])):k("",!0),t("div",Et,[a(e(x),null,{default:o(()=>[a(e(b),{class:"p-6"},{default:o(()=>[t("div",It,[t("div",Tt,[t("div",$t,[a(_,{name:"Clock",class:"h-5 w-5"})])]),t("div",Dt,[t("dt",At,i(e(l)("print_station.pending_jobs")),1),t("dd",Nt,i($.value.length),1)])])]),_:1})]),_:1}),a(e(x),null,{default:o(()=>[a(e(b),{class:"p-6"},{default:o(()=>[t("div",Ot,[t("div",jt,[t("div",zt,[a(_,{name:"Printer",class:"h-5 w-5"})])]),t("div",Lt,[t("dt",Bt,i(e(l)("print_station.processing_jobs")),1),t("dd",Rt,i(L.value.length),1)])])]),_:1})]),_:1}),a(e(x),null,{default:o(()=>[a(e(b),{class:"p-6"},{default:o(()=>[t("div",Wt,[t("div",qt,[t("div",Kt,[a(_,{name:"CheckCircle",class:"h-5 w-5"})])]),t("div",Xt,[t("dt",Vt,i(e(l)("print_station.completed_today")),1),t("dd",Ut,i(F.value.completed_today||0),1)])])]),_:1})]),_:1}),a(e(x),null,{default:o(()=>[a(e(b),{class:"p-6"},{default:o(()=>[t("div",Ht,[t("div",Gt,[t("div",Yt,[a(_,{name:"XCircle",class:"h-5 w-5"})])]),t("div",Zt,[t("dt",Qt,i(e(l)("print_station.failed_today")),1),t("dd",te,i(F.value.failed_today||0),1)])])]),_:1})]),_:1})]),t("div",ee,[a(e(x),null,{default:o(()=>[a(e(O),null,{default:o(()=>[a(e(j),null,{default:o(()=>[p(i(e(l)("print_station.auto_print_settings")),1)]),_:1})]),_:1}),a(e(b),{class:"space-y-4"},{default:o(()=>[t("div",se,[t("div",null,[t("h3",ne,i(e(l)("print_station.enable_auto_print")),1),t("p",ae,i(e(l)("print_station.auto_print_description")),1)]),a(e(h),{onClick:K,variant:y.value?"destructive":"default"},{default:o(()=>[p(i(y.value?e(l)("print_station.disable"):e(l)("print_station.enable")),1)]),_:1},8,["variant"])]),y.value?k("",!0):(c(),u("div",ie,[t("div",re,[Y(t("input",{type:"checkbox",id:"useDefaultPrinter","onUpdate:modelValue":r[0]||(r[0]=n=>J.value=n),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[mt,J.value]]),a(e(Q),{for:"useDefaultPrinter",class:"font-medium"},{default:o(()=>[p(i(e(l)("print_station.use_default_printer")),1)]),_:1})]),J.value?k("",!0):(c(),u("div",oe,[t("div",le,[a(e(Q),{for:"installedPrinterName"},{default:o(()=>[p(i(e(l)("print_station.select_printer")),1)]),_:1}),a(e(h),{size:"sm",variant:"outline",onClick:D},{default:o(()=>[a(_,{name:"RefreshCw",class:"h-4 w-4 mr-1"}),p(" "+i(e(l)("print_station.refresh_printers")),1)]),_:1})]),Y(t("select",{id:"installedPrinterName","onUpdate:modelValue":r[1]||(r[1]=n=>T.value=n),class:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},[t("option",de,i(e(l)("print_station.select_printer_option")),1),(c(!0),u(A,null,N(C.value,n=>(c(),u("option",{key:n,value:n},i(n),9,ce))),128))],512),[[ft,T.value]]),C.value.length===0?(c(),u("div",ue,i(e(l)("print_station.no_printers_found")),1)):k("",!0)]))])),m.value?(c(),u("div",_e,[t("span",pe,i(e(l)("print_station.status"))+": "+i(m.value),1),a(e(h),{size:"sm",variant:"outline",onClick:rt},{default:o(()=>[a(_,{name:"Settings",class:"h-4 w-4 mr-1"}),p(" "+i(e(l)("print_station.test_connection")),1)]),_:1})])):k("",!0)]),_:1})]),_:1})]),t("div",me,[a(e(x),null,{default:o(()=>[a(e(O),null,{default:o(()=>[a(e(j),{class:"flex items-center gap-2"},{default:o(()=>[a(_,{name:"Clock",class:"h-5 w-5 text-yellow-600"}),p(" "+i(e(l)("print_station.pending_queue")),1)]),_:1})]),_:1}),a(e(b),null,{default:o(()=>[$.value.length===0?(c(),u("div",fe,[a(_,{name:"Inbox",class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t("p",ge,i(e(l)("print_station.no_pending_jobs")),1)])):(c(),u("div",ve,[(c(!0),u(A,null,N($.value,n=>(c(),u("div",{key:n.id,class:"border rounded-lg p-4 bg-yellow-50 dark:bg-yellow-900/10 border-yellow-200 dark:border-yellow-800"},[t("div",he,[t("div",ye,[t("div",we,[a(e(R),{variant:tt(n.priority)},{default:o(()=>[p(i(n.priority),1)]),_:2},1032,["variant"]),t("span",xe,i(n.job_id),1)]),t("div",be,[t("p",Se,i(n.asset.asset_tag),1),t("p",Pe,i(n.asset.model_name)+" - "+i(n.company.name),1),t("p",ke,i(e(l)("print_station.requested_by"))+" "+i(n.user.name),1)])]),y.value?k("",!0):(c(),u("div",Fe,[a(e(h),{size:"sm",onClick:d=>X(n)},{default:o(()=>[a(_,{name:"Play",class:"h-4 w-4"})]),_:2},1032,["onClick"]),a(e(h),{size:"sm",variant:"outline",onClick:d=>at(n)},{default:o(()=>[a(_,{name:"X",class:"h-4 w-4"})]),_:2},1032,["onClick"])]))])]))),128))]))]),_:1})]),_:1}),a(e(x),null,{default:o(()=>[a(e(O),null,{default:o(()=>[a(e(j),{class:"flex items-center gap-2"},{default:o(()=>[a(_,{name:"Printer",class:"h-5 w-5 text-blue-600"}),p(" "+i(e(l)("print_station.processing_queue")),1)]),_:1})]),_:1}),a(e(b),null,{default:o(()=>[L.value.length===0?(c(),u("div",Je,[a(_,{name:"Printer",class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t("p",Ce,i(e(l)("print_station.no_processing_jobs")),1)])):(c(),u("div",Me,[(c(!0),u(A,null,N(L.value,n=>(c(),u("div",{key:n.id,class:"border rounded-lg p-4 bg-blue-50 dark:bg-blue-900/10 border-blue-200 dark:border-blue-800"},[t("div",Ee,[t("div",Ie,[t("div",Te,[a(e(R),{variant:"secondary"},{default:o(()=>[p(i(n.priority),1)]),_:2},1024),t("span",$e,i(n.job_id),1)]),t("div",De,[t("p",Ae,i(n.asset.asset_tag),1),t("p",Ne,i(n.asset.model_name)+" - "+i(n.company.name),1),t("div",Oe,[r[3]||(r[3]=t("div",{class:"animate-spin h-3 w-3 border-2 border-blue-600 border-t-transparent rounded-full"},null,-1)),t("span",je,i(e(l)("print_station.printing")),1)])])]),t("div",ze,[a(e(h),{size:"sm",variant:"outline",onClick:d=>V(n)},{default:o(()=>[a(_,{name:"Check",class:"h-4 w-4"})]),_:2},1032,["onClick"]),a(e(h),{size:"sm",variant:"destructive",onClick:d=>U(n)},{default:o(()=>[a(_,{name:"X",class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]))),128))]))]),_:1})]),_:1})]),t("div",Le,[a(e(x),null,{default:o(()=>[a(e(O),null,{default:o(()=>[a(e(j),null,{default:o(()=>[p(i(e(l)("print_station.recent_activity")),1)]),_:1})]),_:1}),a(e(b),null,{default:o(()=>[z.value.length===0?(c(),u("div",Be,[t("p",Re,i(e(l)("print_station.no_recent_activity")),1)])):(c(),u("div",We,[(c(!0),u(A,null,N(z.value,n=>(c(),u("div",{key:n.id,class:"flex items-center justify-between p-2 rounded border"},[t("div",qe,[a(_,{name:n.status==="completed"?"CheckCircle":"XCircle",class:Z([n.status==="completed"?"text-green-600":"text-red-600","h-4 w-4"])},null,8,["name","class"]),t("span",Ke,i(n.asset.asset_tag),1),a(e(R),{variant:n.status==="completed"?"default":"destructive",size:"sm"},{default:o(()=>[p(i(n.status),1)]),_:2},1032,["variant"])]),t("span",Xe,i(et(n.completed_at||n.updated_at)),1)]))),128))]))]),_:1})]),_:1})])])])]),_:1}))}});export{xs as default};
