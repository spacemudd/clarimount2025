import{d as L,u as W,p as v,c as j,E as q,W as M,a as _,o as d,b as o,e as t,g as O,w as i,f as e,S as g,h as x,t as a,m as D,i as B,l as b,v as F,F as w,r as T}from"./app-COEuzrRD.js";import{_ as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-Ct5cns0Q.js";import{_ as f}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-4jJb_-WM.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-GzmxfP29.js";import{_ as G}from"./Badge.vue_vue_type_script_setup_true_lang-DfYG3TuL.js";import{_ as c}from"./Icon.vue_vue_type_script_setup_true_lang-T0ZPZK-r.js";import{_ as H}from"./Heading.vue_vue_type_script_setup_true_lang-CJOi7Obp.js";import"./useForwardExpose-BheO8JaA.js";import"./RovingFocusGroup-Ci7d5tw1.js";import"./building-CKtq9jPr.js";import"./users-DWwMG2GQ.js";import"./activity-Cz0CdVk9.js";import"./arrow-left-CWVnQBvX.js";import"./calendar-U0w8TVRV.js";import"./check-Dpjf-7Rw.js";import"./chevron-down-C1xmO-Fr.js";import"./search-CNCRqgBa.js";import"./eye-B_6rmHDY.js";import"./user-B9vkwLXY.js";import"./loader-circle-g7z_WiLT.js";import"./sun-Dbhhukoh.js";import"./play-CP1TsOsV.js";import"./plus-kXMflnhn.js";import"./square-pen-DNXir1Re.js";import"./trash-2-D8oscHI7.js";import"./triangle-alert-ShptOfGv.js";const J={class:"space-y-6"},K={class:"flex items-center justify-between my-2"},Q={class:"flex flex-col sm:flex-row gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},R={class:"flex-1 relative"},Y={class:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 pl-3 rtl:pl-0 rtl:pr-3 flex items-center pointer-events-none"},Z={value:""},ee={value:"active"},te={value:"inactive"},se={value:"terminated"},ae={value:""},re=["value"],oe={key:0,class:"text-center py-12"},le={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},ie={class:"text-gray-600 dark:text-gray-400 mb-6"},ne={key:1,class:"bg-white dark:bg-gray-800 rounded-lg border overflow-hidden"},de={class:"overflow-x-auto"},ce={class:"w-full"},me={class:"bg-gray-50 dark:bg-gray-700"},ue={class:"text-left rtl:text-right"},pe={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},_e={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},fe={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},he={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ye={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ge={class:"px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},xe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ve={class:"px-6 py-4 whitespace-nowrap"},be={class:"flex items-center"},we={class:"flex-shrink-0 h-10 w-10"},ke={class:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},Ve={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ce={class:"ml-4 rtl:ml-0 rtl:mr-4"},Se={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},$e={class:"text-sm text-gray-500 dark:text-gray-400 font-mono"},je={class:"px-6 py-4 whitespace-nowrap"},De={class:"text-sm text-gray-900 dark:text-gray-100"},Be={class:"text-sm text-gray-500 dark:text-gray-400"},Fe={class:"px-6 py-4 whitespace-nowrap"},Te={class:"text-sm text-gray-900 dark:text-gray-100"},Ne={class:"text-sm text-gray-500 dark:text-gray-400"},Pe={class:"px-6 py-4 whitespace-nowrap"},Ue={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ze={class:"flex items-center"},Ie={class:"flex items-center mr-3 rtl:mr-0 rtl:ml-3"},Le={class:"flex items-center"},We={class:"px-6 py-4 whitespace-nowrap text-right rtl:text-left text-sm font-medium"},qe={class:"flex justify-end rtl:justify-start"},_t=L({__name:"Index",props:{employees:{},company:{},filters:{}},setup(N){var V,C,S;const{t:r}=W(),h=N,m=v(((V=h.filters)==null?void 0:V.search)||""),u=v(((C=h.filters)==null?void 0:C.status)||""),p=v(((S=h.filters)==null?void 0:S.department)||""),P=j(()=>[{title:r("nav.dashboard"),href:"/dashboard"},{title:r("employees.title"),href:"/employees"}]),U=l=>{switch(l){case"active":return"default";case"inactive":return"secondary";case"terminated":return"destructive";default:return"secondary"}},E=l=>new Date(l).toLocaleDateString(),z=j(()=>h.employees.data.map(n=>n.department).filter(Boolean).filter((n,s,y)=>y.indexOf(n)===s).sort());let k;q([m,u,p],()=>{clearTimeout(k),k=window.setTimeout(()=>{M.get("/employees",{search:m.value||void 0,status:u.value||void 0,department:p.value||void 0},{preserveState:!0,replace:!0})},300)});const I=()=>{m.value="",u.value="",p.value=""};return(l,n)=>(d(),_(w,null,[o(t(O),{title:t(r)("employees.title")},null,8,["title"]),o(X,{breadcrumbs:P.value},{default:i(()=>[e("div",J,[e("div",K,[o(H,{title:t(r)("employees.my_employees")},null,8,["title"]),o(t(f),{asChild:""},{default:i(()=>[o(t(g),{href:l.route("employees.create")},{default:i(()=>[o(c,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),x(" "+a(t(r)("employees.create_employee")),1)]),_:1},8,["href"])]),_:1})]),e("div",Q,[e("div",R,[e("div",Y,[o(c,{name:"Search",class:"h-4 w-4 text-gray-400"})]),o(t(A),{modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=s=>m.value=s),placeholder:t(r)("employees.search_placeholder"),class:"w-full pl-10 rtl:pl-3 rtl:pr-10"},null,8,["modelValue","placeholder"])]),D(e("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>u.value=s),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e("option",Z,a(t(r)("employees.filter_by_status")),1),e("option",ee,a(t(r)("employees.status_active")),1),e("option",te,a(t(r)("employees.status_inactive")),1),e("option",se,a(t(r)("employees.status_terminated")),1)],512),[[F,u.value]]),D(e("select",{"onUpdate:modelValue":n[2]||(n[2]=s=>p.value=s),class:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e("option",ae,a(t(r)("employees.filter_by_department")),1),(d(!0),_(w,null,T(z.value,s=>(d(),_("option",{key:s,value:s},a(s),9,re))),128))],512),[[F,p.value]]),m.value||u.value||p.value?(d(),B(t(f),{key:0,variant:"ghost",onClick:I},{default:i(()=>[o(c,{name:"X",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),x(" "+a(t(r)("common.clear")),1)]),_:1})):b("",!0)]),l.employees.data.length===0?(d(),_("div",oe,[o(c,{name:"Users",class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e("h3",le,a(t(r)("employees.no_employees")),1),e("p",ie,a(m.value||u.value||p.value?t(r)("employees.no_employees_found"):t(r)("employees.create_first_employee")),1),!m.value&&!u.value&&!p.value?(d(),B(t(f),{key:0,asChild:""},{default:i(()=>[o(t(g),{href:l.route("employees.create")},{default:i(()=>[o(c,{name:"Plus",class:"mr-2 rtl:mr-0 rtl:ml-2 h-4 w-4"}),x(" "+a(t(r)("employees.create_employee")),1)]),_:1},8,["href"])]),_:1})):b("",!0)])):(d(),_("div",ne,[e("div",de,[e("table",ce,[e("thead",me,[e("tr",ue,[e("th",pe,a(t(r)("employees.employee")),1),e("th",_e,a(t(r)("employees.job_information")),1),e("th",fe,a(t(r)("employees.contact")),1),e("th",he,a(t(r)("employees.status")),1),e("th",ye,a(t(r)("employees.assets")),1),e("th",ge,a(t(r)("common.actions")),1)])]),e("tbody",xe,[(d(!0),_(w,null,T(l.employees.data,s=>{var y,$;return d(),_("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",ve,[e("div",be,[e("div",we,[e("div",ke,[e("span",Ve,a((((y=s.first_name)==null?void 0:y[0])||"")+((($=s.last_name)==null?void 0:$[0])||"")),1)])]),e("div",Ce,[e("div",Se,a(s.first_name)+" "+a(s.last_name),1),e("div",$e,a(s.employee_id),1)])])]),e("td",je,[e("div",De,a(s.job_title||"-"),1),e("div",Be,a(s.department||"-"),1)]),e("td",Fe,[e("div",Te,a(s.email),1),e("div",Ne,a(s.phone||"-"),1)]),e("td",Pe,[o(t(G),{variant:U(s.employment_status)},{default:i(()=>[x(a(t(r)(`employees.status_${s.employment_status}`)),1)]),_:2},1032,["variant"]),s.hire_date?(d(),_("div",Ue,a(t(r)("employees.since"))+" "+a(E(s.hire_date)),1)):b("",!0)]),e("td",Ee,[e("div",ze,[e("div",Ie,[o(c,{name:"Package",class:"h-4 w-4 mr-1 rtl:mr-0 rtl:ml-1"}),e("span",null,a(s.assets_count||0),1)]),e("div",Le,[o(c,{name:"Ticket",class:"h-4 w-4 mr-1 rtl:mr-0 rtl:ml-1"}),e("span",null,a(s.reported_tickets_count||0),1)])])]),e("td",We,[e("div",qe,[o(t(f),{variant:"ghost",size:"sm",asChild:"",class:"mr-2 rtl:mr-0 rtl:ml-2"},{default:i(()=>[o(t(g),{href:l.route("employees.show",s.id)},{default:i(()=>[o(c,{name:"Eye",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),o(t(f),{variant:"ghost",size:"sm",asChild:""},{default:i(()=>[o(t(g),{href:l.route("employees.edit",s.id)},{default:i(()=>[o(c,{name:"Pencil",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024)])])])}),128))])])])]))])]),_:1},8,["breadcrumbs"])],64))}});export{_t as default};
