import{d as I,u as M,k as N,q as h,i as c,o as u,w as d,f as t,t as s,e,l as D,b as r,g as i,m as p,p as $,a as x,F as E,r as L,v as q,z as R}from"./app-BltOQ4V-.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-DULoTRTB.js";import{_ as C}from"./index--UThLrSU.js";import{_ as z,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-CzzcKNAd.js";import{_ as P,a as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-SbWV3_LT.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-CxaVXyib.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-CSJftwSl.js";import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-DXS8-BEy.js";import{_ as G}from"./Icon.vue_vue_type_script_setup_true_lang-PNWkRDf2.js";import"./useForwardExpose-BWGjw3RM.js";import"./x-DOdIuZVf.js";import"./building-BgN8_QVA.js";import"./users-BaCxfe9i.js";import"./activity-C56OusT0.js";import"./arrow-left-DLyW2pno.js";import"./calendar-BlXdeXEE.js";import"./chevron-down-Bb7RfL8B.js";import"./search-jurXGhKA.js";import"./eye-WDObLFKx.js";import"./user-hgK2s0HB.js";import"./loader-circle-yrqxxcW4.js";import"./sun-DI-yoR0Y.js";import"./play-BaSuHA70.js";import"./plus-B-oqVIAG.js";import"./square-pen-C36XcDYy.js";import"./trash-2-Y_mz-M88.js";import"./triangle-alert-ZfiKPCZr.js";const H={class:"p-6"},J={class:"mb-6"},K={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},O={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={value:""},X=["value"],Y=["placeholder"],Z={class:"mt-1 text-sm text-gray-500"},ee={key:1,class:"mt-4"},ae=["src","alt"],te={class:"mt-6 flex items-center gap-4"},Ie=I({__name:"Create",props:{categories:{}},setup(le){const{t:a}=M(),o=N({name:"",manufacturer:"",model_name:"",model_number:"",asset_category_id:"",specifications:{},default_notes:"",image:null}),v=h(!1),m=h({}),b=h(null),U=()=>{v.value=!0,m.value={},o.post(route("asset-templates.store"),{onSuccess:()=>{v.value=!1},onError:_=>{m.value=_,v.value=!1},onFinish:()=>{v.value=!1}})},B=_=>{var k;const l=(k=_.target.files)==null?void 0:k[0];if(l){o.image=l;const V=new FileReader;V.onload=S=>{var w;b.value=(w=S.target)==null?void 0:w.result},V.readAsDataURL(l)}},F=()=>{o.image=null,b.value=null;const _=document.getElementById("image");_&&(_.value="")};return(_,n)=>(u(),c(T,null,{default:d(()=>[t("div",H,[t("div",J,[t("h1",K,s(e(a)("asset_templates.create_template")),1),t("p",O,s(e(a)("asset_templates.create_template_description")),1)]),t("form",{onSubmit:D(U,["prevent"]),class:"max-w-2xl"},[r(e(z),null,{default:d(()=>[r(e(P),null,{default:d(()=>[r(e(j),null,{default:d(()=>[i(s(e(a)("asset_templates.template_details")),1)]),_:1})]),_:1}),r(e(A),{class:"space-y-6"},{default:d(()=>[t("div",null,[r(e(f),{for:"name"},{default:d(()=>[i(s(e(a)("asset_templates.template_name"))+" *",1)]),_:1}),r(e(y),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":n[0]||(n[0]=l=>e(o).name=l),required:"",placeholder:e(a)("asset_templates.template_name_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.name?(u(),c(g,{key:0,message:m.value.name,class:"mt-1"},null,8,["message"])):p("",!0)]),t("div",null,[r(e(f),{for:"manufacturer"},{default:d(()=>[i(s(e(a)("asset_templates.manufacturer")),1)]),_:1}),r(e(y),{id:"manufacturer",modelValue:e(o).manufacturer,"onUpdate:modelValue":n[1]||(n[1]=l=>e(o).manufacturer=l),placeholder:e(a)("asset_templates.manufacturer_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.manufacturer?(u(),c(g,{key:0,message:m.value.manufacturer,class:"mt-1"},null,8,["message"])):p("",!0)]),t("div",Q,[t("div",null,[r(e(f),{for:"model_name"},{default:d(()=>[i(s(e(a)("asset_templates.model_name")),1)]),_:1}),r(e(y),{id:"model_name",modelValue:e(o).model_name,"onUpdate:modelValue":n[2]||(n[2]=l=>e(o).model_name=l),placeholder:e(a)("asset_templates.model_name_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.model_name?(u(),c(g,{key:0,message:m.value.model_name,class:"mt-1"},null,8,["message"])):p("",!0)]),t("div",null,[r(e(f),{for:"model_number"},{default:d(()=>[i(s(e(a)("asset_templates.model_number")),1)]),_:1}),r(e(y),{id:"model_number",modelValue:e(o).model_number,"onUpdate:modelValue":n[3]||(n[3]=l=>e(o).model_number=l),placeholder:e(a)("asset_templates.model_number_placeholder"),class:"mt-1"},null,8,["modelValue","placeholder"]),m.value.model_number?(u(),c(g,{key:0,message:m.value.model_number,class:"mt-1"},null,8,["message"])):p("",!0)])]),t("div",null,[r(e(f),{for:"asset_category_id"},{default:d(()=>[i(s(e(a)("asset_templates.category")),1)]),_:1}),$(t("select",{id:"asset_category_id","onUpdate:modelValue":n[4]||(n[4]=l=>e(o).asset_category_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},[t("option",W,s(e(a)("asset_templates.category_placeholder")),1),(u(!0),x(E,null,L(_.categories,l=>(u(),x("option",{key:l.id,value:l.id},s("â€”".repeat(Math.max(0,l.depth||0)))+" "+s(l.name),9,X))),128))],512),[[q,e(o).asset_category_id]]),m.value.asset_category_id?(u(),c(g,{key:0,message:m.value.asset_category_id,class:"mt-1"},null,8,["message"])):p("",!0)]),t("div",null,[r(e(f),{for:"default_notes"},{default:d(()=>[i(s(e(a)("asset_templates.default_notes")),1)]),_:1}),$(t("textarea",{id:"default_notes","onUpdate:modelValue":n[5]||(n[5]=l=>e(o).default_notes=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100",placeholder:e(a)("asset_templates.default_notes_placeholder")},null,8,Y),[[R,e(o).default_notes]]),m.value.default_notes?(u(),c(g,{key:0,message:m.value.default_notes,class:"mt-1"},null,8,["message"])):p("",!0)]),t("div",null,[r(e(f),{for:"image"},{default:d(()=>[i(s(e(a)("asset_templates.template_image")),1)]),_:1}),t("input",{id:"image",type:"file",accept:"image/*",onChange:B,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-700 dark:file:text-gray-300"},null,32),t("p",Z,s(e(a)("asset_templates.image_description")),1),m.value.image?(u(),c(g,{key:0,message:m.value.image,class:"mt-1"},null,8,["message"])):p("",!0),b.value?(u(),x("div",ee,[t("img",{src:b.value,alt:e(a)("asset_templates.image_preview"),class:"max-w-xs max-h-48 rounded-lg border border-gray-300 dark:border-gray-600"},null,8,ae),t("button",{type:"button",onClick:F,class:"mt-2 text-sm text-red-600 hover:text-red-800 dark:text-red-400"},s(e(a)("asset_templates.remove_image")),1)])):p("",!0)])]),_:1})]),_:1}),t("div",te,[r(e(C),{type:"submit",disabled:v.value},{default:d(()=>[v.value?(u(),c(G,{key:0,name:"loader-2",class:"h-4 w-4 mr-2 animate-spin"})):p("",!0),i(" "+s(e(a)("asset_templates.create_template")),1)]),_:1},8,["disabled"]),r(e(C),{variant:"outline",as:"Link",href:_.route("asset-templates.index")},{default:d(()=>[i(s(e(a)("common.cancel")),1)]),_:1},8,["href"])])],32)])]),_:1}))}});export{Ie as default};
